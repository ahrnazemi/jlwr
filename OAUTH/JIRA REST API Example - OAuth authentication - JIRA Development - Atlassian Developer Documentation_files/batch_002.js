try {
/* module-key = 'confluence.extra.jira:jirachart-resources', location = '/jirachart/jirachart.js' */
AJS.toInit(function(){AJS.$(".jira-chart-macro-img").load(function(b){AJS.log("Jira Chart Macro - chart image loaded");AJS.$(".insert-jira-chart-macro-button",window.parent.document).enable()}).error(function(e){AJS.log("Jira Chart Macro - chart image loaded error");AJS.$(".insert-jira-chart-macro-button",window.parent.document).disable();var f=AJS.$(e.target);var d=f.parent();var c=d.parent();d.remove();var b="Unable to render JIRA chart macro, due to an execution error.";AJS.messages.error(c,{body:b})});if(AJS.MacroBrowser){if(AJS.MacroBrowser.previewOnload){var a=AJS.MacroBrowser.previewOnload;AJS.MacroBrowser.previewOnload=function(b){var c=AJS.MacroBrowser;if(c.dialog&&c.dialog.activeMetadata&&c.dialog.activeMetadata.macroName){a(b)}}}}});
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.atlassian.confluence.plugins.share-page:mail-page-resources', location = '${pdl.dir}js/mailpage.js' */
AJS.Confluence.SharePage={};AJS.Confluence.SharePage.autocompleteUser=function(d){d=d||document.body;var e=AJS.$,a=/^([a-zA-Z0-9_\.\-\+\!#\$%&'\*/=\?\^_`{|}~])+\@.*/;var c=function(j){if(!j||!j.result){throw new Error("Invalid JSON format")}var f=[];for(var g=0;g<j.result.length;g++){var h=j.result[g];if(h.type=="group"){h=b(h)}}f.push(j.result);return f};function b(f){if(f.name=="confluence-users"||f.name=="confluence-administrators"){return f}f.title=f.name;f.group=f.name;f.thumbnailLink={href:AJS.Confluence.getContextPath()+"/download/resources/com.atlassian.confluence.plugins.share-page:mail-page-resources/images/group.png",type:"image/png",rel:"thumbnail"};f.link=[{href:AJS.Confluence.getContextPath(),rel:"self"}];return f}e("input.autocomplete-sharepage[data-autocomplete-user-bound!=true]",d).each(function(){var h=e(this).attr("data-autocomplete-sharepage-bound","true").attr("autocomplete","off");var g=h.attr("data-max")||10,j=h.attr("data-alignment")||"left",i=h.attr("data-dropdown-target"),f=null;if(i){f=e(i)}else{f=e("<div></div>");h.after(f)}f.addClass("aui-dd-parent autocomplete");h.quicksearch(AJS.REST.getBaseUrl()+"search/user-or-group.json",function(){h.trigger("open.autocomplete-sharepage")},{makeParams:function(k){return{"max-results":g,query:k.replace("{|}","")}},dropdownPlacement:function(k){f.append(k)},makeRestMatrixFromData:c,addDropdownData:function(l){var k=e.trim(h.val());if(a.test(k)){l.push([{name:k,email:k,href:"#",icon:AJS.Confluence.getContextPath()+"/download/resources/com.atlassian.confluence.plugins.share-page:mail-page-resources/images/envelope.png"}])}if(!l.length){var m=h.attr("data-none-message");if(m){l.push([{name:m,className:"no-results",href:"#"}])}}return l},ajsDropDownOptions:{alignment:j,displayHandler:function(k){if(k.restObj&&k.restObj.username){return k.name+" ("+k.restObj.username+")"}return k.name},selectionHandler:function(m,l){if(l.find(".search-for").length){h.trigger("selected.autocomplete-sharepage",{searchFor:h.val()});return}if(l.find(".no-results").length){this.hide();m.preventDefault();return}var k=e("span:eq(0)",l).data("properties");if(!k.email){k=k.restObj}h.trigger("selected.autocomplete-sharepage",{content:k});this.hide();m.preventDefault()}}})})};(function(a){jQuery.fn.extend({elastic:function(){var b=["paddingTop","paddingRight","paddingBottom","paddingLeft","fontSize","lineHeight","fontFamily","width","fontWeight","border-top-width","border-right-width","border-bottom-width","border-left-width","borderTopStyle","borderTopColor","borderRightStyle","borderRightColor","borderBottomStyle","borderBottomColor","borderLeftStyle","borderLeftColor"];return this.each(function(){if(this.type!=="textarea"){return false}var g=jQuery(this),c=jQuery("<div />").css({position:"absolute",display:"none","word-wrap":"break-word","white-space":"pre-wrap"}),j=parseInt(g.css("line-height"),10)||parseInt(g.css("font-size"),"10"),l=parseInt(g.css("height"),10)||j*3,k=parseInt(g.css("max-height"),10)||Number.MAX_VALUE,d=0;if(k<0){k=Number.MAX_VALUE}c.appendTo(g.parent());var f=b.length;while(f--){c.css(b[f].toString(),g.css(b[f].toString()))}function h(){var i=Math.floor(parseInt(g.width(),10));if(c.width()!==i){c.css({width:i+"px"});e(true)}}function m(i,o){var n=Math.floor(parseInt(i,10));if(g.height()!==n){g.css({height:n+"px",overflow:o})}}function e(p){var o=g.val().replace(/&/g,"&amp;").replace(/ {2}/g,"&nbsp;").replace(/<|>/g,"&gt;").replace(/\n/g,"<br />");var i=c.html().replace(/<br>/ig,"<br />");if(p||o+"&nbsp;"!==i){c.html(o+"&nbsp;");if(Math.abs(c.height()+j-g.height())>3){var n=c.height()+j;if(n>=k){m(k,"auto")}else{if(n<=l){m(l,"hidden")}else{m(n,"hidden")}}}}}g.css({overflow:"hidden"});g.bind("keyup change cut paste",function(){e()});a(window).bind("resize",h);g.bind("resize",h);g.bind("update",e);g.bind("input paste",function(i){setTimeout(e,250)});e()})}})})(AJS.$);(function(f){var e,c={hideCallback:a,width:250,hideDelay:3600000,calculatePositions:function(h,o,w,s){var p;var y;var u;var l=-7;var m;var q;var x=o.target.offset();var g=o.target.outerWidth();var j=x.left+g/2;var t=(window.pageYOffset||document.documentElement.scrollTop)+f(window).height();var k=10;u=x.top+o.target.outerHeight()+s.offsetY;p=x.left+s.offsetX;var n=x.top>h.height();var i=(u+h.height())<t;q=(!i&&n)||(s.onTop&&n);var r=f(window).width()-(p+s.width+k);if(q){u=x.top-h.height()-8;var v=s.displayShadow?(AJS.$.browser.msie?10:9):0;l=h.height()-v}m=j-p+s.arrowOffsetX;if(s.isRelativeToMouse){if(r<0){y=k;p="auto";m=w.x-(f(window).width()-s.width)}else{p=w.x-20;y="auto";m=w.x-p}}else{if(r<0){y=k;p="auto";m=j-(f(window).width()-h.outerWidth())}else{if(s.width<=g/2){m=s.width/2;p=j-s.width/2}}}return{displayAbove:q,popupCss:{left:p,right:y,top:u},arrowCss:{position:"absolute",left:m,right:"auto",top:l}}}};var a=function(){f(".dashboard-actions .explanation").hide()};var d=function(j,h,i){if(j.find("input").length){i();return}j.append(AJS.template.load("share-content-popup").fill());AJS.Confluence.SharePage.autocompleteUser();var k=function(m){e.hide();if(m){setTimeout(function(){j.empty()},300)}return false};f(document).keyup(function(m){if(m.keyCode==27){k(true);f(document).unbind("keyup",arguments.callee);return false}return true});j.find(".close-dialog").click(function(){k(true)});j.find("#note").elastic();j.find("form").submit(function(){var r=[];j.find(".recipients li").each(function(s,t){r.push(f(t).attr("data-userKey"))});if(r.length<=0){return false}f("button,input,textarea",this).attr("disabled","disabled");j.find(".progress-messages-icon").removeClass("error");j.find(".progress-messages").text("Sending");j.find(".progress-messages").attr("title","Sending");var o=Raphael.spinner(j.find(".progress-messages-icon")[0],7,"#666");j.find(".progress-messages-icon").css("position","absolute").css("left","0").css("margin-top","3px");j.find(".progress-messages").css("padding-left",j.find(".progress-messages-icon").innerWidth()+5);var r=[];j.find(".recipients li[data-userKey]").each(function(s,t){r.push(f(t).attr("data-userKey"))});var q=[];j.find(".recipients li[data-email]").each(function(s,t){q.push(f(t).attr("data-email"))});var m=[];j.find(".recipients li[data-group]").each(function(s,t){m.push(f(t).attr("data-group"))});var n=j.find("#note");var p={users:r,emails:q,groups:m,note:n.hasClass("placeholded")?"":n.val(),entityId:AJS.params.pageId};f.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:AJS.Confluence.getContextPath()+"/rest/share-page/latest/share",data:JSON.stringify(p),dataType:"text",success:function(){setTimeout(function(){o();j.find(".progress-messages-icon").css("width","16px");j.find(".progress-messages-icon").css("height","16px");j.find(".progress-messages-icon").addClass("done");j.find(".progress-messages").text("Sent");j.find(".progress-messages").attr("title","Sent");setTimeout(function(){j.find(".progress-messages").text("");j.find(".progress-messages-icon").removeClass("done");j.find("#note").val("");f("button,input,textarea",j).removeAttr("disabled");k(false)},1000)},500)},error:function(t,s){o();j.find(".progress-messages-icon").css("width","16px");j.find(".progress-messages-icon").css("height","16px");j.find(".progress-messages-icon").addClass("error");j.find(".progress-messages").text("Error sending");j.find(".progress-messages").attr("title","Error sending"+": "+s);f("button,input,textarea",j).removeAttr("disabled")}});return false});var l=j.find("#users");var g=j.find("input.submit");l.bind("selected.autocomplete-sharepage",function(n,m){var o=function(q,r){var t=j.find(".recipients"),s,p;s="li[data-"+q+'="'+r.content[q]+'"]';if(t.find(s).length>0){t.find(s).hide()}else{t.append(AJS.template.load("share-content-popup-recipient-"+q).fill(r.content))}p=t.find(s);p.find(".remove-recipient").click(function(){p.remove();if(t.find("li").length==0){g.attr("disabled","true")}e.refresh();l.focus();return false});p.fadeIn(200)};if(m.content.email){o("email",m)}else{if(m.content.type=="group"){o("group",m)}else{o("userKey",m)}}e.refresh();g.removeAttr("disabled");l.val("");return false});l.bind("open.autocomplete-sharepage",function(n,m){if(f("a:not(.no-results)",AJS.dropDown.current.links).length>0){AJS.dropDown.current.moveDown()}});l.keypress(function(m){if(m.keyCode==13){return false}return true});f(document).bind("showLayer",function(o,n,m){if(n=="inlineDialog"&&m.popup==e){m.popup.find("#users").focus()}});f("#shareContentLink").parents().filter(function(){return this.scrollTop>0}).scrollTop(0);i()};var b=function(g){var h=f("#splitter-content");if(h.length!==0){g.container=h;g.offsetY=AJS.InlineDialog.opts.offsetY-h.offset().top}return g};AJS.toInit(function(g){e=AJS.InlineDialog(g("#shareContentLink"),"shareContentPopup",d,b(c))})})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.atlassian.confluence.plugins.editor.confluence-source-editor:atlassian-source-editor-view-storage-javascript', location = 'jscripts/source-editor/view-source.js' */
AJS.toInit(function(A){if(A("#action-view-storage-link").length){A("#action-source-editor-view-storage-link").closest("li").hide()
}});
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.atlassian.confluence.plugins.watch-button:watch-resources', location = 'js/models.js' */
(function(b,a){a.Watch=Backbone.Model.extend({saveSettings:function(d,e){this.trigger("request");var c=this;return AJS.safe.ajax({url:d,type:"POST",dataType:"json",data:e}).done(function(){c.trigger("sync",c)}).fail(function(){c.trigger("error")})},saveWatchPage:function(d){var c=AJS.contextPath()+"/users/"+(d?"add":"remove")+"pagenotificationajax.action";this.set("watchingPage",d);return this.saveSettings(c,{pageId:this.get("pageId")})},saveWatchBlogs:function(d){var c=AJS.contextPath()+"/users/"+(d?"add":"remove")+"spacenotificationajax.action";this.set("watchingBlogs",d);return this.saveSettings(c,{spaceKey:this.get("spaceKey"),contentType:"blogpost"})},saveWatchSpace:function(d){var c=AJS.contextPath()+"/users/"+(d?"add":"remove")+"spacenotificationajax.action";this.set("watchingSpace",d);return this.saveSettings(c,{spaceKey:this.get("spaceKey")})}})}(AJS.$,CW=window.CW||{}));
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.atlassian.confluence.plugins.watch-button:watch-resources', location = 'js/views.js' */
(function(b,a){a.WatchView=Backbone.View.extend({events:{"change #cw-watch-page":"changeWatchPage","change #cw-watch-blogs":"changeWatchBlogs","change #cw-watch-space":"changeWatchSpace"},initialize:function(){_.bindAll(this);this.model.on("sync change:watchingSpace",this.togglePageEnabledState,this);this.model.on("change:watchingSpace",this.toggleBlogsEnabledState,this);this.model.on("request",this.startLoading,this);this.model.on("sync",this.setTitle,this);this.model.on("sync",this.stopLoading,this)},render:function(){this.$el.html(Confluence.Watch.Templates.dialogBody(this.model.toJSON()));this.initTooltips();this.setTitle(this.model);return this},initTooltips:function(){this.$(".cw-tooltip").tooltip({gravity:"e",offset:5,delayIn:0});this.togglePageEnabledState(this.model);this.toggleBlogsEnabledState(this.model)},changeWatchPage:function(d){var c=b(d.target).is(":checked");this.model.saveWatchPage(c)},changeWatchBlogs:function(d){var c=b(d.target).is(":checked");this.model.saveWatchBlogs(c)},changeWatchSpace:function(d){var c=b(d.target).is(":checked");this.model.saveWatchSpace(c)},togglePageEnabledState:function(c){var d=c.get("watchingPage");var f=c.get("watchingSpace");this.$("#cw-watch-page").prop("disabled",f);this.$("#cw-watch-page").prop("checked",d||f);var e=f?"You will receive updates for this page because you are watching this space.":"";this.$(".cw-tooltip-watch-page").attr("original-title",e)},toggleBlogsEnabledState:function(c){var f=c.get("watchingBlogs");var e=c.get("watchingSpace");this.$("#cw-watch-blogs").prop("disabled",e);this.$("#cw-watch-blogs").prop("checked",f||e);var d=e?"You are subscribed to all blog posts because you are watching this space.":"";this.$(".cw-tooltip-watch-blogs").attr("original-title",d)},startLoading:function(){this.$(".cw-status").addClass("loading")},stopLoading:function(){this.$(".cw-status").removeClass("loading")},setTitle:function(){var f=this.model.get("watchingPage");var h=this.model.get("watchingBlogs");var g=this.model.get("watchingSpace");var e=this.model.get("isBlogPost");function d(){if(g){return"space"}if(f&&e&&h){return"blog.and.blogs"}if(f&&e){return"blog"}if(f){return"page"}if(e&&h){return"blogs"}if(e){return"nothing.blog"}return"nothing.page"}var c=d();this.$(".cw-title").text(AJS.I18n.getText("confluence.watch.title.watching."+c));this.$(".cw-title-description").text(AJS.I18n.getText("confluence.watch.title.watching."+c+".description"))}})}(AJS.$,CW=window.CW||{}));
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.atlassian.confluence.plugins.watch-button:watch-resources', location = 'js/watch.js' */
(function(e,a){AJS.$(function(){AJS.I18n.get("com.atlassian.confluence.plugins.watch-button");var f=e("#watch-content-button");if(!f.length){return}var l=b(f);var h=AJS.Meta.get("page-id");var i=AJS.Meta.get("space-key");var g=AJS.Meta.get("space-name");_.extend(l,{pageId:h,spaceKey:i,spaceName:g});c(f,l);var k=new a.Watch(l);var j=new a.WatchView({model:k});AJS.InlineDialog(f,"confluence-watch",function(n,m,o){j.setElement(n);j.render();o()},{width:325,offsetX:-180,cacheContent:false,hideDelay:null,hideCallback:function(){e(".tipsy").hide()}});k.on("change:watchingPage change:watchingBlogs change:watchingSpace",function(m){c(f,m.toJSON())});a.registerAnalytics(k);d(k);window.CW_watchPage=function(){var o=k.get("watchingSpace");var n=k.get("watchingPage");if(o){e("body, #splitter-content").animate({scrollTop:0},300,function(){f.click();setTimeout(function(){e(".cw-tooltip-watch-page").tipsy("show")},50)})}else{var p=!n;k.saveWatchPage(p);var m=p?"You started watching this page.":"You stopped watching this page.";a.Notification.notify("success",m)}}});function c(g,j){var h=j.watchingPage;var f=j.isBlogPost&&j.watchingBlogs;var i=j.watchingSpace;if(h||f||i){g.removeClass("not-watching").addClass("watching")}else{g.removeClass("watching").addClass("not-watching")}}function d(f){f.on("change:watchingPage",function(g,i){var h=i?"watchpage.pageoperation":"unwatchpage.pageoperation";AJS.trigger(h)})}function b(h){var i=h.prop("search");var g=/[?&;]*(.*?)=([^&;]*)/g;var f;var j={};if(i){while(f=g.exec(i)){j[f[1]]=decodeURIComponent(f[2]).replace(/\+/g," ")}}_.each(j,function(l,k){if(l=="true"){j[k]=true}else{if(l=="false"){j[k]=false}}});return j}}(AJS.$,CW=window.CW||{}));
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.atlassian.confluence.plugins.watch-button:watch-resources', location = 'js/watch-analytics.js' */
var CW=CW||{};CW.registerAnalytics=function(a){a.on("change:watchingPage",function(b,d){var c=d?"watch-page":"unwatch-page";AJS.trigger("analytics",{name:c})});a.on("change:watchingBlogs",function(b,d){var c=d?"watch-blogs":"unwatch-blogs";AJS.trigger("analytics",{name:c})});a.on("change:watchingSpace",function(b,d){var c=d?"watch-space":"unwatch-space";AJS.trigger("analytics",{name:c})})};
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.atlassian.confluence.plugins.watch-button:watch-resources', location = 'js/notification.js' */
(function(b,a){b(function(){var c="cw-notification-container";var d=b("<div></div>",{id:c});b("body").append(d);a.Notification={notify:function(e,f,h){AJS.messages[e]("#"+c,{body:f,closeable:true,insert:"prepend"});var g=b(".aui-message",d).first();if(!h){h=5000}else{h*=1000}setTimeout(function(){g.fadeOut("fast",function(){g.closeMessage();g=null})},h)}}})}(AJS.$,CW=window.CW||{}));
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.atlassian.confluence.plugins.watch-button:watch-resources', location = 'templates/watch.soy' */
// This file was automatically generated from watch.soy.
// Please don't edit this file by hand.

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Watch == 'undefined') { Confluence.Watch = {}; }
if (typeof Confluence.Watch.Templates == 'undefined') { Confluence.Watch.Templates = {}; }


Confluence.Watch.Templates.dialogBody = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class="cw-status"><h2 class="cw-title"></h2><p class="cw-title-description"></p></div><form class="aui cw-dialog"><div class="cw-tooltip cw-tooltip-watch-page"><div class="checkbox"><input class="checkbox" type="checkbox" id="cw-watch-page" ', (opt_data.watchingPage) ? 'checked' : '', '><label for="cw-watch-page">', (opt_data.isBlogPost) ? soy.$$escapeHtml("Watch blog post") : soy.$$escapeHtml("Watch page"), '</label></div></div>', (opt_data.isBlogPost) ? '<div class="cw-tooltip cw-tooltip-watch-blogs"><div class="checkbox"><input class="checkbox" type="checkbox" id="cw-watch-blogs" ' + ((opt_data.watchingBlogs) ? 'checked' : '') + '><label for="cw-watch-blogs">' + soy.$$escapeHtml("Watch for new blog posts in this space") + '</label></div></div>' : '', '<div class="checkbox"><input class="checkbox" type="checkbox" id="cw-watch-space" ', (opt_data.watchingSpace) ? 'checked' : '', '><label for="cw-watch-space">', soy.$$escapeHtml("Watch all content in this space"), '</label></div></form>', (opt_data.isAdmin) ? '<div class="cw-manage-watchers-wrapper"><button class="aui-button aui-button-link cw-manage-watchers">' + soy.$$escapeHtml("Manage Watchers") + '</button></div>' : '');
  return opt_sb ? '' : output.toString();
};

} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-publisher-plugin:publisher-resources', location = 'js/jquery.progressbar.js' */
(function(A){A.extend({progressBar:new function(){this.defaults={steps:20,stepDuration:20,max:100,showText:true,textFormat:"percentage",width:120,height:12,callback:null,boxImage:"images/progressbar.gif",barImage:{0:"images/progressbg_red.gif",30:"images/progressbg_orange.gif",70:"images/progressbg_green.gif"},running_value:0,value:0,image:null};
this.construct=function(C,B){var D=null;
var E=null;
if(C!=null){if(!isNaN(C)){D=C;
if(B!=null){E=B
}}else{E=C
}}return this.each(function(F){var O=this;
var H=this.config;
if(D!=null&&this.bar!=null&&this.config!=null){this.config.value=parseInt(D);
if(E!=null){O.config=A.extend(this.config,E)
}H=O.config
}else{var M=A(this);
var H=A.extend({},A.progressBar.defaults,E);
H.id=M.attr("id")?M.attr("id"):Math.ceil(Math.random()*100000);
if(D==null){D=M.html().replace("%","")
}H.value=parseInt(D);
H.running_value=0;
H.image=L(H);
var P=["steps","stepDuration","max","width","height","running_value","value"];
for(var I=0;
I<P.length;
I++){H[P[I]]=parseInt(H[P[I]])
}M.html("");
var K=document.createElement("img");
var R=document.createElement("span");
var G=A(K);
var N=A(R);
O.bar=G;
G.attr("id",H.id+"_pbImage");
N.attr("id",H.id+"_pbText");
N.html(Q(H));
G.attr("title",Q(H));
G.attr("alt",Q(H));
G.attr("src",H.boxImage);
G.attr("width",H.width);
G.css("width",H.width+"px");
G.css("height",H.height+"px");
G.css("background-image","url("+H.image+")");
G.css("background-position",((H.width*-1))+"px 50%");
G.css("padding","0");
G.css("margin","0");
M.append(G);
M.append(N)
}function J(T){return T.running_value*100/T.max
}function L(T){var V=T.barImage;
if(typeof (T.barImage)=="object"){for(var U in T.barImage){if(T.running_value>=parseInt(U)){V=T.barImage[U]
}else{break
}}}return V
}function Q(T){if(T.showText){if(T.textFormat=="percentage"){return" "+Math.round(T.running_value)+"%"
}else{if(T.textFormat=="fraction"){return" "+T.running_value+"/"+T.max
}}}}H.increment=Math.round((H.value-H.running_value)/H.steps);
if(H.increment<0){H.increment*=-1
}if(H.increment<1){H.increment=1
}var S=setInterval(function(){var W=H.width/100;
if(H.running_value>H.value){if(H.running_value-H.increment<H.value){H.running_value=H.value
}else{H.running_value-=H.increment
}}else{if(H.running_value<H.value){if(H.running_value+H.increment>H.value){H.running_value=H.value
}else{H.running_value+=H.increment
}}}if(H.running_value==H.value){clearInterval(S)
}var V=A("#"+H.id+"_pbImage");
var T=A("#"+H.id+"_pbText");
var U=L(H);
if(U!=H.image){V.css("background-image","url("+U+")");
H.image=U
}V.css("background-position",(((H.width*-1))+(J(H)*W))+"px 50%");
V.attr("title",Q(H));
T.html(Q(H));
if(H.callback!=null&&typeof (H.callback)=="function"){H.callback(H)
}O.config=H
},H.stepDuration)
})
}
}});
A.fn.extend({progressBar:A.progressBar.construct})
})(jQuery);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-publisher-plugin:publisher-resources', location = 'js/publisher.js' */
(function(A){Confluence.Plugins=Confluence.Plugins||{};
Confluence.Plugins.Publisher={};
Confluence.Plugins.Publisher.DraftManager=function(){};
Confluence.Plugins.Publisher.DraftManager.prototype.create=function(C,B){return A.ajax({type:"POST",contentType:"application/json",url:AJS.Confluence.getContextPath()+"/rest/publisher/latest/draft/create",data:A.toJSON({originalId:C,title:B})})
};
Confluence.Plugins.Publisher.DraftManager.prototype.publish=function(B,C){return A.ajax({type:"POST",contentType:"application/json",url:AJS.Confluence.getContextPath()+"/rest/publisher/latest/draft/publish",data:A.toJSON({id:B,comment:C})})
};
Confluence.Plugins.Publisher.DraftManager.prototype.get=function(B){return A.ajax({type:"GET",url:AJS.Confluence.getContextPath()+"/rest/publisher/latest/draft/drafts",data:{draftPageIds:B}})
};
Confluence.Plugins.Publisher.CreateDraftDialog=function(B){var C=this;
this.dialog=new AJS.Dialog(400,180);
this.draftManager=B;
this.dialog.addHeader("Create Draft").addPanel("Panel 1","panel1").addSubmit("Create",function(){createDraft(C);
return false
}).addCancel("Cancel",function(){C.dialog.hide()
});
this.dialog.getCurrentPanel().html(AJS.renderTemplate("create-draft"));
A("form.create-draft-dialog").submit(function(){createDraft(C);
return false
})
};
Confluence.Plugins.Publisher.CreateDraftDialog.prototype.open=function(){this.dialog.show();
A("form.create-draft-dialog input")[0].value="DRAFT - "+AJS.params.pageTitle
};
createDraft=function(C){var B=C.draftManager;
var E=C.dialog;
var D=A("form.create-draft-dialog input")[0].value;
var F=AJS.params.pageId;
B.create(F,D).success(function(G){E.remove();
window.location=AJS.params.contextPath+G
}).error(function(G){alert(G.responseText)
})
};
Confluence.Plugins.Publisher.PublishingDialog=function(C,B){var D=this;
this.draftManager=B;
this.pagesToPublish=C;
this.dialog=new AJS.Dialog(600,480,"publisher-dialog");
this.dialog.addHeader("Publish").addPanel("Panel 1","panel1").addSubmit("Publish",function(){publish(D)
}).addCancel("Cancel",function(){D.dialog.remove()
}).addPage("publisher-progress").addHeader("Publish").addPanel("Panel 2","panel2").addSubmit("Done",function(){D.dialog.remove();
window.location.reload()
});
this.dialog.getPanel(0,0).html(AJS.renderTemplate("publisher-dialog-page1"));
this.dialog.getPanel(1,0).html(AJS.renderTemplate("publisher-dialog-page2"));
this.dialog.gotoPage(0);
A("form.publish-comment-form").submit(function(){publish(D);
return false
});
AJS.bind("show.dialog",function(F,E){if(E.dialog.id=="publisher-dialog"){B.get(C).done(function(G){for(i in G){A(".publisher-dialog-pages table").append(AJS.renderTemplate("publisher-dialog-page",G[i].title,AJS.Confluence.getContextPath()+G[i].url))
}}).fail(function(){alert(E.responseText)
});
AJS.unbind("show.dialog",F.handler)
}})
};
Confluence.Plugins.Publisher.PublishingDialog.prototype.open=function(){this.dialog.show()
};
publishNextPage=function(E,B,F,C){var D=E.pagesToPublish;
A(".publisher-dialog-progress-message").text("Publishing "+(B+1)+" of "+D.length);
E.draftManager.publish(D[B],F).done(function(K){var J="";
var I="";
var H="";
if(K.draft.currentOriginalVersion>K.draft.originalVersionAtDraftCreation){I=AJS.params.contextPath+AJS.format("/pages/diffpagesbyversion.action?pageId={0}&selectedPageVersions={1}&selectedPageVersions={2}",K.draft.originalId,K.draft.currentOriginalVersion,K.draft.originalVersionAtDraftCreation);
H="view changes"
}else{J="No changes"
}A(".publisher-dialog-pages-progress table").append(AJS.renderTemplate("publisher-dialog-page-progress",K.title,AJS.params.contextPath+K.url,J,I,H));
var G=B+1;
if(D.length>G){publishNextPage(E,G,F,C)
}else{A(".publisher-dialog-progress-message").text("Successfully published "+D.length+" pages.");
A(".publisher-dialog-progress-icon").addClass("done");
C();
A("#publisher-dialog .button-panel-submit-button").enable();
A("#publisher-dialog .button-panel-submit-button").focus()
}}).fail(function(G){alert(G.responseText)
})
};
publish=function(D){var C=D.dialog;
var E=A("#publish-comment").val();
A("#publish-comment").blur();
C.nextPage();
A("#publisher-dialog .button-panel-submit-button").disable();
var B=Raphael.spinner(A(".publisher-dialog-progress-icon")[0],7,"#666");
publishNextPage(D,0,E,B)
};
AJS.toInit(function(C){var B=new Confluence.Plugins.Publisher.DraftManager();
AJS.I18n.get("com.atlassian.confluence.plugins.confluence-publisher-plugin");
C("#createdraftlink").click(function(D){new Confluence.Plugins.Publisher.CreateDraftDialog(B).open();
return D.preventDefault()
});
C("#publish-button").click(function(F){var E=new Array();
C(".draft-publishing input[name=pageId]").each(function(){if(this.checked){E.push(this.value)
}});
var D=new Confluence.Plugins.Publisher.PublishingDialog(E,B).open();
return F.preventDefault()
});
C(".draft-publishing input[name=pageId]").change(function(){if(C(".draft-publishing input[name=pageId]:checked").length==0){C("#publish-button").disable()
}else{C("#publish-button").enable()
}});
C(".draft-publishing .select-all").click(function(){if(C(".draft-publishing .select-all:checked").length==0){C(".draft-publishing input[name=pageId]").prop("checked",false)
}else{C(".draft-publishing input[name=pageId]").prop("checked",true)
}})
})
})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.atlassian.confluence.plugins.view-source:view-source-menu-resources', location = 'com/atlassian/confluence/plugins/viewsource/js/viewsource.js' */
AJS.toInit(function ($) {
    $("#action-view-source-link").click(function (e) {
        window.open(this.href, (this.id + "-popupwindow").replace(/-/g, "_"), "width=800, height=600, scrollbars, resizable");
            e.preventDefault();
            return false;
        });
});
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.atlassian.confluence.plugins.view-storage-format:view-storage-menu-resources', location = 'com/atlassian/confluence/plugins/viewstorage/js/viewstorage.js' */
AJS.toInit(function ($) {
    $(".view-storage-link, .view-storage-link a").click(function (e) {
        window.open(this.href, (this.id + "-popupwindow").replace(/-/g, "_"), "width=800, height=600, scrollbars, resizable");
            e.preventDefault();
            return false;
        });
});

} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'confluence.macros.core:flash-autosize', location = 'javascript/flash-autosize.js' */
AJS.toInit(function($) {
    function autoSize(embeds, attempt) {
        var retry;

        if(attempt >= 20) { // 2 sec
            AJS.log('unable to auto size flash - took too long to load');
            return;
        }

        retry = $([]);

        embeds.each(function() {
            var $e = $(this);
            var h, w;
            if(this.GetVariable) {
                // Only set width/height is not already set
                if(!$e.attr("height")) {
                    h = this.GetVariable("height");
                    if(h) {
                        $e.height(h);
                    } else {
                        retry = retry.add($e);
                        return;
                    }
                }
                if(!$e.attr("width")) {
                    w = this.GetVariable("width");
                    if(w) {
                        $e.width(w);
                    } else {
                        retry = retry.add($e);
                        return;
                    }
                }
            }
        });

        if(retry.length) {
            setTimeout(function() {
                autoSize(retry, attempt + 1);
            }, 100);
        }
    }

    autoSize($('embed[type="application/x-shockwave-flash"]'), 0);

    // For preview
    $(window).bind("render-content-loaded", function(e, body) {
        autoSize($('embed[type="application/x-shockwave-flash"]', body), 0);
    });
});

} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.comalatech.workflow:bundled', location = 'templates/com/comalatech/workflow/common/js/cml.js' */
var CML=CML||{VERSION:"0.2",allVersions:function(){if(console.group){console.group("Confluence versions")}console.log("Confluence:",AJS.params.versionNumber);console.log("AJS:",AJS.version);console.log("jQuery:",jQuery.fn.jquery);console.log("jQuery UI:",jQuery.ui.version);console.log("Backbone:",Backbone.VERSION);console.log("Underscore:",_.VERSION);if(console.group){console.groupEnd();console.group("Comalatech versions")}console.log("CML:",this.VERSION);console.log("AWP:",AWP.VERSION);if(console.group){console.groupEnd()}},getUrlParameters:function(){var b={};var a=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(c,d,e){b[d]=e});return b}};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c){if(this==null){throw new TypeError()}var d=Object(this);var a=d.length>>>0;if(a===0){return -1}var e=0;if(arguments.length>1){e=Number(arguments[1]);if(e!=e){e=0}else{if(e!=0&&e!=Infinity&&e!=-Infinity){e=(e>0||-1)*Math.floor(Math.abs(e))}}}if(e>=a){return -1}var b=e>=0?e:Math.max(a-Math.abs(e),0);for(;b<a;b++){if(b in d&&d[b]===c){return b}}return -1}};
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.comalatech.workflow:bundled', location = 'templates/com/comalatech/workflow/embedded/soy/embeddedtemplates.soy' */
// This file was automatically generated from embeddedtemplates.soy.
// Please don't edit this file by hand.

if (typeof AWP == 'undefined') { var AWP = {}; }
if (typeof AWP.Templates == 'undefined') { AWP.Templates = {}; }


AWP.Templates.iframe = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<iframe frameborder=\'0\' width=\'100%\' height=\'320\' class=\'adhoworkflows\'src="', soy.$$escapeHtml(opt_data.contextPath), '/plugins/servlet/adhocworkflows/', soy.$$escapeHtml(opt_data.action), '/', soy.$$escapeHtml(opt_data.pageId), '"/>');
  return opt_sb ? '' : output.toString();
};


AWP.Templates.iframeSmall = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<iframe frameborder=\'0\' width=\'100%\' height=\'220\' class=\'adhoworkflows\'src="', soy.$$escapeHtml(opt_data.contextPath), '/plugins/servlet/adhocworkflows/workflow/', soy.$$escapeHtml(opt_data.pageId), '"/>');
  return opt_sb ? '' : output.toString();
};


AWP.Templates.pageState = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<span class="adhocworkflows-state ', soy.$$escapeHtml(opt_data.finalClass), '" ', (opt_data.hover != opt_data.stateName) ? 'title="' + soy.$$escapeHtml(opt_data.hover) + '"' : '', '>', soy.$$escapeHtml(opt_data.stateName), '</span>');
  return opt_sb ? '' : output.toString();
};


AWP.Templates.versionInfo = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('(', soy.$$escapeHtml("view:"), '&nbsp;<a id="view-change-link" href="', soy.$$escapeHtml(opt_data.changeUrl), '">', soy.$$escapeHtml("change"), '</a> &middot;&nbsp;<a id="awp-alternate-view" href="', soy.$$escapeHtml(opt_data.contextPath), soy.$$escapeHtml(opt_data.pageStatus.alternateViewUrl), '">', soy.$$escapeHtml(opt_data.pageStatus.alternateViewStateName), '</a>)');
  return opt_sb ? '' : output.toString();
};


AWP.Templates.altLinkNoVersion = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<span class="noprint">(<a id="awp-alternate-view" href="', soy.$$escapeHtml(opt_data.contextPath), soy.$$escapeHtml(opt_data.pageStatus.alternateViewUrl), '">', soy.$$escapeHtml(opt_data.pageStatus.alternateViewStateName), '</a>)</span>');
  return opt_sb ? '' : output.toString();
};


AWP.Templates.badge = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<sub class="awp-badge ', (opt_data.message == '0') ? 'awp-badge-0' : '', ' badge aui-lozenge">', (opt_data.message == '0') ? '!' : soy.$$escapeHtml(opt_data.message), '</sub>');
  return opt_sb ? '' : output.toString();
};


AWP.Templates.feedback = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<aside class="awp-feedback"><header><h2>Ad hoc Workflows</h2></header><div class="awp-content"></div><footer><a href="javascript:;" class="awp-btn-close">cancel</a></footer></aside>');
  return opt_sb ? '' : output.toString();
};

} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.comalatech.workflow:bundled', location = 'templates/com/comalatech/workflow/remote/js/libs/soyutils.js' */
var goog=goog||{};goog.inherits=function(b,a){function c(){}c.prototype=a.prototype;b.superClass_=a.prototype;b.prototype=new c();b.prototype.constructor=b};if(!goog.userAgent){goog.userAgent=(function(){var b="";if("undefined"!==typeof navigator&&navigator&&"string"==typeof navigator.userAgent){b=navigator.userAgent}var a=b.indexOf("Opera")==0;return{HAS_JSCRIPT:typeof"ScriptEngine" in this,IS_OPERA:a,IS_IE:!a&&b.indexOf("MSIE")!=-1,IS_WEBKIT:!a&&b.indexOf("WebKit")!=-1}})()}if(!goog.asserts){goog.asserts={fail:function(a){}}}if(!goog.dom){goog.dom={};goog.dom.DomHelper=function(a){this.document_=a||document};goog.dom.DomHelper.prototype.getDocument=function(){return this.document_};goog.dom.DomHelper.prototype.createElement=function(a){return this.document_.createElement(a)};goog.dom.DomHelper.prototype.createDocumentFragment=function(){return this.document_.createDocumentFragment()}}if(!goog.format){goog.format={insertWordBreaks:function(j,a){j=String(j);var f=[];var h=0;var b=false;var k=false;var g=0;var d=0;for(var e=0,c=j.length;e<c;++e){var l=j.charCodeAt(e);if(g>=a&&l!=32){f[h++]=j.substring(d,e);d=e;f[h++]=goog.format.WORD_BREAK;g=0}if(b){if(l==62){b=false}}else{if(k){switch(l){case 59:k=false;++g;break;case 60:k=false;b=true;break;case 32:k=false;g=0;break}}else{switch(l){case 60:b=true;break;case 38:k=true;break;case 32:g=0;break;default:++g;break}}}}f[h++]=j.substring(d);return f.join("")},WORD_BREAK:goog.userAgent.IS_WEBKIT?"<wbr></wbr>":goog.userAgent.IS_OPERA?"&shy;":"<wbr>"}}if(!goog.i18n){goog.i18n={bidi:{detectRtlDirectionality:function(b,a){b=soyshim.$$bidiStripHtmlIfNecessary_(b,a);return soyshim.$$bidiRtlWordRatio_(b)>soyshim.$$bidiRtlDetectionThreshold_}}}}goog.i18n.bidi.Dir={RTL:-1,UNKNOWN:0,LTR:1};goog.i18n.bidi.toDir=function(a){if(typeof a=="number"){return a>0?goog.i18n.bidi.Dir.LTR:a<0?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.UNKNOWN}else{return a?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR}};goog.i18n.BidiFormatter=function(a){this.dir_=goog.i18n.bidi.toDir(a)};goog.i18n.BidiFormatter.prototype.dirAttr=function(c,a){var b=soy.$$bidiTextDir(c,a);return b&&b!=this.dir_?b<0?"dir=rtl":"dir=ltr":""};goog.i18n.BidiFormatter.prototype.endEdge=function(){return this.dir_<0?"left":"right"};goog.i18n.BidiFormatter.prototype.mark=function(){return((this.dir_>0)?"\u200E":(this.dir_<0)?"\u200F":"")};goog.i18n.BidiFormatter.prototype.markAfter=function(c,a){var b=soy.$$bidiTextDir(c,a);return soyshim.$$bidiMarkAfterKnownDir_(this.dir_,b,c,a)};goog.i18n.BidiFormatter.prototype.spanWrap=function(d,c){d=String(d);var b=soy.$$bidiTextDir(d,true);var a=soyshim.$$bidiMarkAfterKnownDir_(this.dir_,b,d,true);if(b>0&&this.dir_<=0){d="<span dir=ltr>"+d+"</span>"}else{if(b<0&&this.dir_>=0){d="<span dir=rtl>"+d+"</span>"}}return d+a};goog.i18n.BidiFormatter.prototype.startEdge=function(){return this.dir_<0?"right":"left"};goog.i18n.BidiFormatter.prototype.unicodeWrap=function(d,c){d=String(d);var b=soy.$$bidiTextDir(d,true);var a=soyshim.$$bidiMarkAfterKnownDir_(this.dir_,b,d,true);if(b>0&&this.dir_<=0){d="\u202A"+d+"\u202C"}else{if(b<0&&this.dir_>=0){d="\u202B"+d+"\u202C"}}return d+a};goog.string={newLineToBr:function(b,a){b=String(b);if(!goog.string.NEWLINE_TO_BR_RE_.test(b)){return b}return b.replace(/(\r\n|\r|\n)/g,a?"<br />":"<br>")},urlEncode:encodeURIComponent,NEWLINE_TO_BR_RE_:/[\r\n]/};goog.string.StringBuffer=function(a,b){this.buffer_=goog.userAgent.HAS_JSCRIPT?[]:"";if(a!=null){this.append.apply(this,arguments)}};goog.string.StringBuffer.prototype.bufferLength_=0;goog.string.StringBuffer.prototype.append=function(c,b,e){if(goog.userAgent.HAS_JSCRIPT){if(b==null){this.buffer_[this.bufferLength_++]=c}else{var a=this.buffer_;a.push.apply(a,arguments);this.bufferLength_=this.buffer_.length}}else{this.buffer_+=c;if(b!=null){for(var d=1;d<arguments.length;d++){this.buffer_+=arguments[d]}}}return this};goog.string.StringBuffer.prototype.clear=function(){if(goog.userAgent.HAS_JSCRIPT){this.buffer_.length=0;this.bufferLength_=0}else{this.buffer_=""}};goog.string.StringBuffer.prototype.toString=function(){if(goog.userAgent.HAS_JSCRIPT){var a=this.buffer_.join("");this.clear();if(a){this.append(a)}return a}else{return(this.buffer_)}};if(!goog.soy){goog.soy={renderAsElement:function(c,a,b,d){return(soyshim.$$renderWithWrapper_(c,a,d,true,b))},renderAsFragment:function(c,a,b,d){return soyshim.$$renderWithWrapper_(c,a,d,false,b)},renderElement:function(c,d,a,b){c.innerHTML=d(a,null,b)}}}var soy={esc:{}};var soydata={};var soyshim={$$DEFAULT_TEMPLATE_DATA_:{}};soyshim.$$renderWithWrapper_=function(h,f,b,c,i){var d=b||document;var a=d.createElement("div");a.innerHTML=h(f||soyshim.$$DEFAULT_TEMPLATE_DATA_,undefined,i);if(a.childNodes.length==1){var g=a.firstChild;if(!c||g.nodeType==1){return(g)}}if(c){return a}var e=d.createDocumentFragment();while(a.firstChild){e.appendChild(a.firstChild)}return e};soyshim.$$bidiMarkAfterKnownDir_=function(c,b,d,a){return(c>0&&(b<0||soyshim.$$bidiIsRtlExitText_(d,a))?"\u200E":c<0&&(b>0||soyshim.$$bidiIsLtrExitText_(d,a))?"\u200F":"")};soyshim.$$bidiStripHtmlIfNecessary_=function(b,a){return a?b.replace(soyshim.$$BIDI_HTML_SKIP_RE_," "):b};soyshim.$$BIDI_HTML_SKIP_RE_=/<[^>]*>|&[^;]+;/g;soyshim.$$bidiLtrChars_="A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02B8\u0300-\u0590\u0800-\u1FFF\u2C00-\uFB1C\uFDFE-\uFE6F\uFEFD-\uFFFF";soyshim.$$bidiNeutralChars_="\u0000-\u0020!-@[-`{-\u00BF\u00D7\u00F7\u02B9-\u02FF\u2000-\u2BFF";soyshim.$$bidiRtlChars_="\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC";soyshim.$$bidiRtlDirCheckRe_=new RegExp("^[^"+soyshim.$$bidiLtrChars_+"]*["+soyshim.$$bidiRtlChars_+"]");soyshim.$$bidiNeutralDirCheckRe_=new RegExp("^["+soyshim.$$bidiNeutralChars_+"]*$|^http://");soyshim.$$bidiIsRtlText_=function(a){return soyshim.$$bidiRtlDirCheckRe_.test(a)};soyshim.$$bidiIsNeutralText_=function(a){return soyshim.$$bidiNeutralDirCheckRe_.test(a)};soyshim.$$bidiRtlDetectionThreshold_=0.4;soyshim.$$bidiRtlWordRatio_=function(e){var b=0;var a=0;var d=e.split(" ");for(var c=0;c<d.length;c++){if(soyshim.$$bidiIsRtlText_(d[c])){b++;a++}else{if(!soyshim.$$bidiIsNeutralText_(d[c])){a++}}}return a==0?0:b/a};soyshim.$$bidiLtrExitDirCheckRe_=new RegExp("["+soyshim.$$bidiLtrChars_+"][^"+soyshim.$$bidiRtlChars_+"]*$");soyshim.$$bidiRtlExitDirCheckRe_=new RegExp("["+soyshim.$$bidiRtlChars_+"][^"+soyshim.$$bidiLtrChars_+"]*$");soyshim.$$bidiIsLtrExitText_=function(b,a){b=soyshim.$$bidiStripHtmlIfNecessary_(b,a);return soyshim.$$bidiLtrExitDirCheckRe_.test(b)};soyshim.$$bidiIsRtlExitText_=function(b,a){b=soyshim.$$bidiStripHtmlIfNecessary_(b,a);return soyshim.$$bidiRtlExitDirCheckRe_.test(b)};soy.StringBuilder=goog.string.StringBuffer;soydata.SanitizedContentKind={HTML:0,JS_STR_CHARS:1,URI:2,HTML_ATTRIBUTE:3};soydata.SanitizedContent=function(a){this.content=a};soydata.SanitizedContent.prototype.contentKind;soydata.SanitizedContent.prototype.toString=function(){return this.content};soydata.SanitizedHtml=function(a){soydata.SanitizedContent.call(this,a)};goog.inherits(soydata.SanitizedHtml,soydata.SanitizedContent);soydata.SanitizedHtml.prototype.contentKind=soydata.SanitizedContentKind.HTML;soydata.SanitizedJsStrChars=function(a){soydata.SanitizedContent.call(this,a)};goog.inherits(soydata.SanitizedJsStrChars,soydata.SanitizedContent);soydata.SanitizedJsStrChars.prototype.contentKind=soydata.SanitizedContentKind.JS_STR_CHARS;soydata.SanitizedUri=function(a){soydata.SanitizedContent.call(this,a)};goog.inherits(soydata.SanitizedUri,soydata.SanitizedContent);soydata.SanitizedUri.prototype.contentKind=soydata.SanitizedContentKind.URI;soydata.SanitizedHtmlAttribute=function(a){soydata.SanitizedContent.call(this,a)};goog.inherits(soydata.SanitizedHtmlAttribute,soydata.SanitizedContent);soydata.SanitizedHtmlAttribute.prototype.contentKind=soydata.SanitizedContentKind.HTML_ATTRIBUTE;soy.renderElement=goog.soy.renderElement;soy.renderAsFragment=function(d,b,a,c){return goog.soy.renderAsFragment(d,b,c,new goog.dom.DomHelper(a))};soy.renderAsElement=function(d,b,a,c){return goog.soy.renderAsElement(d,b,c,new goog.dom.DomHelper(a))};soy.$$augmentData=function(d,a){function e(){}e.prototype=d;var c=new e();for(var b in a){c[b]=a[b]}return c};soy.$$getMapKeys=function(c){var b=[];for(var a in c){b.push(a)}return b};soy.$$getDelegateId=function(a){return a};soy.$$DELEGATE_REGISTRY_PRIORITIES_={};soy.$$DELEGATE_REGISTRY_FUNCTIONS_={};soy.$$registerDelegateFn=function(e,c,b){var d="key_"+e;var a=soy.$$DELEGATE_REGISTRY_PRIORITIES_[d];if(a===undefined||c>a){soy.$$DELEGATE_REGISTRY_PRIORITIES_[d]=c;soy.$$DELEGATE_REGISTRY_FUNCTIONS_[d]=b}else{if(c==a){throw Error('Encountered two active delegates with same priority (id/name "'+e+'").')}else{}}};soy.$$getDelegateFn=function(b){var a=soy.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+b];return a?a:soy.$$EMPTY_TEMPLATE_FN_};soy.$$EMPTY_TEMPLATE_FN_=function(a,c,b){return""};soy.$$escapeHtml=function(a){if(typeof a==="object"&&a&&a.contentKind===soydata.SanitizedContentKind.HTML){return a.content}return soy.esc.$$escapeHtmlHelper(a)};soy.$$escapeHtmlRcdata=function(a){if(typeof a==="object"&&a&&a.contentKind===soydata.SanitizedContentKind.HTML){return soy.esc.$$normalizeHtmlHelper(a.content)}return soy.esc.$$escapeHtmlHelper(a)};soy.$$stripHtmlTags=function(a){return String(a).replace(soy.esc.$$HTML_TAG_REGEX_,"")};soy.$$escapeHtmlAttribute=function(a){if(typeof a==="object"&&a&&a.contentKind===soydata.SanitizedContentKind.HTML){return soy.esc.$$normalizeHtmlHelper(soy.$$stripHtmlTags(a.content))}return soy.esc.$$escapeHtmlHelper(a)};soy.$$escapeHtmlAttributeNospace=function(a){if(typeof a==="object"&&a&&a.contentKind===soydata.SanitizedContentKind.HTML){return soy.esc.$$normalizeHtmlNospaceHelper(soy.$$stripHtmlTags(a.content))}return soy.esc.$$escapeHtmlNospaceHelper(a)};soy.$$filterHtmlAttribute=function(a){if(typeof a==="object"&&a&&a.contentKind===soydata.SanitizedContentKind.HTML_ATTRIBUTE){return a.content.replace(/=([^"']*)$/,'="$1"')}return soy.esc.$$filterHtmlAttributeHelper(a)};soy.$$filterHtmlElementName=function(a){return soy.esc.$$filterHtmlElementNameHelper(a)};soy.$$escapeJs=function(a){return soy.$$escapeJsString(a)};soy.$$escapeJsString=function(a){if(typeof a==="object"&&a.contentKind===soydata.SanitizedContentKind.JS_STR_CHARS){return a.content}return soy.esc.$$escapeJsStringHelper(a)};soy.$$escapeJsValue=function(a){if(a==null){return" null "}switch(typeof a){case"boolean":case"number":return" "+a+" ";default:return"'"+soy.esc.$$escapeJsStringHelper(String(a))+"'"}};soy.$$escapeJsRegex=function(a){return soy.esc.$$escapeJsRegexHelper(a)};soy.$$problematicUriMarks_=/['()]/g;soy.$$pctEncode_=function(a){return"%"+a.charCodeAt(0).toString(16)};soy.$$escapeUri=function(a){if(typeof a==="object"&&a.contentKind===soydata.SanitizedContentKind.URI){return soy.$$normalizeUri(a)}var b=soy.esc.$$escapeUriHelper(a);soy.$$problematicUriMarks_.lastIndex=0;if(soy.$$problematicUriMarks_.test(b)){return b.replace(soy.$$problematicUriMarks_,soy.$$pctEncode_)}return b};soy.$$normalizeUri=function(a){return soy.esc.$$normalizeUriHelper(a)};soy.$$filterNormalizeUri=function(a){return soy.esc.$$filterNormalizeUriHelper(a)};soy.$$escapeCssString=function(a){return soy.esc.$$escapeCssStringHelper(a)};soy.$$filterCssValue=function(a){if(a==null){return""}return soy.esc.$$filterCssValueHelper(a)};soy.$$changeNewlineToBr=function(a){return goog.string.newLineToBr(String(a),false)};soy.$$insertWordBreaks=function(b,a){return goog.format.insertWordBreaks(String(b),a)};soy.$$truncate=function(c,a,b){c=String(c);if(c.length<=a){return c}if(b){if(a>3){a-=3}else{b=false}}if(soy.$$isHighSurrogate_(c.charAt(a-1))&&soy.$$isLowSurrogate_(c.charAt(a))){a-=1}c=c.substring(0,a);if(b){c+="..."}return c};soy.$$isHighSurrogate_=function(a){return 55296<=a&&a<=56319};soy.$$isLowSurrogate_=function(a){return 56320<=a&&a<=57343};soy.$$bidiFormatterCache_={};soy.$$getBidiFormatterInstance_=function(a){return soy.$$bidiFormatterCache_[a]||(soy.$$bidiFormatterCache_[a]=new goog.i18n.BidiFormatter(a))};soy.$$bidiTextDir=function(b,a){if(!b){return 0}return goog.i18n.bidi.detectRtlDirectionality(b,a)?-1:1};soy.$$bidiDirAttr=function(b,c,a){return new soydata.SanitizedHtmlAttribute(soy.$$getBidiFormatterInstance_(b).dirAttr(c,a))};soy.$$bidiMarkAfter=function(b,d,a){var c=soy.$$getBidiFormatterInstance_(b);return c.markAfter(d,a)};soy.$$bidiSpanWrap=function(a,c){var b=soy.$$getBidiFormatterInstance_(a);return b.spanWrap(c+"",true)};soy.$$bidiUnicodeWrap=function(a,c){var b=soy.$$getBidiFormatterInstance_(a);return b.unicodeWrap(c+"",true)};soy.esc.$$escapeUriHelper=function(a){return encodeURIComponent(String(a))};soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_={"\x00":"\x26#0;","\x22":"\x26quot;","\x26":"\x26amp;","\x27":"\x26#39;","\x3c":"\x26lt;","\x3e":"\x26gt;","\x09":"\x26#9;","\x0a":"\x26#10;","\x0b":"\x26#11;","\x0c":"\x26#12;","\x0d":"\x26#13;"," ":"\x26#32;","-":"\x26#45;","/":"\x26#47;","\x3d":"\x26#61;","`":"\x26#96;","\x85":"\x26#133;","\xa0":"\x26#160;","\u2028":"\x26#8232;","\u2029":"\x26#8233;"};soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_=function(a){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_[a]};soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_={"\x00":"\\x00","\x08":"\\x08","\x09":"\\t","\x0a":"\\n","\x0b":"\\x0b","\x0c":"\\f","\x0d":"\\r","\x22":"\\x22","\x26":"\\x26","\x27":"\\x27","/":"\\/","\x3c":"\\x3c","\x3d":"\\x3d","\x3e":"\\x3e","\\":"\\\\","\x85":"\\x85","\u2028":"\\u2028","\u2029":"\\u2029","$":"\\x24","(":"\\x28",")":"\\x29","*":"\\x2a","+":"\\x2b",",":"\\x2c","-":"\\x2d",".":"\\x2e",":":"\\x3a","?":"\\x3f","[":"\\x5b","]":"\\x5d","^":"\\x5e","{":"\\x7b","|":"\\x7c","}":"\\x7d"};soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_=function(a){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_[a]};soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_={"\x00":"\\0 ","\x08":"\\8 ","\x09":"\\9 ","\x0a":"\\a ","\x0b":"\\b ","\x0c":"\\c ","\x0d":"\\d ","\x22":"\\22 ","\x26":"\\26 ","\x27":"\\27 ","(":"\\28 ",")":"\\29 ","*":"\\2a ","/":"\\2f ",":":"\\3a ",";":"\\3b ","\x3c":"\\3c ","\x3d":"\\3d ","\x3e":"\\3e ","@":"\\40 ","\\":"\\5c ","{":"\\7b ","}":"\\7d ","\x85":"\\85 ","\xa0":"\\a0 ","\u2028":"\\2028 ","\u2029":"\\2029 "};soy.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_=function(a){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_[a]};soy.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_={"\x00":"%00","\x01":"%01","\x02":"%02","\x03":"%03","\x04":"%04","\x05":"%05","\x06":"%06","\x07":"%07","\x08":"%08","\x09":"%09","\x0a":"%0A","\x0b":"%0B","\x0c":"%0C","\x0d":"%0D","\x0e":"%0E","\x0f":"%0F","\x10":"%10","\x11":"%11","\x12":"%12","\x13":"%13","\x14":"%14","\x15":"%15","\x16":"%16","\x17":"%17","\x18":"%18","\x19":"%19","\x1a":"%1A","\x1b":"%1B","\x1c":"%1C","\x1d":"%1D","\x1e":"%1E","\x1f":"%1F"," ":"%20","\x22":"%22","\x27":"%27","(":"%28",")":"%29","\x3c":"%3C","\x3e":"%3E","\\":"%5C","{":"%7B","}":"%7D","\x7f":"%7F","\x85":"%C2%85","\xa0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uff01":"%EF%BC%81","\uff03":"%EF%BC%83","\uff04":"%EF%BC%84","\uff06":"%EF%BC%86","\uff07":"%EF%BC%87","\uff08":"%EF%BC%88","\uff09":"%EF%BC%89","\uff0a":"%EF%BC%8A","\uff0b":"%EF%BC%8B","\uff0c":"%EF%BC%8C","\uff0f":"%EF%BC%8F","\uff1a":"%EF%BC%9A","\uff1b":"%EF%BC%9B","\uff1d":"%EF%BC%9D","\uff1f":"%EF%BC%9F","\uff20":"%EF%BC%A0","\uff3b":"%EF%BC%BB","\uff3d":"%EF%BC%BD"};soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=function(a){return soy.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_[a]};soy.esc.$$MATCHER_FOR_ESCAPE_HTML_=/[\x00\x22\x26\x27\x3c\x3e]/g;soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_=/[\x00\x22\x27\x3c\x3e]/g;soy.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x26\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g;soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g;soy.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_=/[\x00\x08-\x0d\x22\x26\x27\/\x3c-\x3e\\\x85\u2028\u2029]/g;soy.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_=/[\x00\x08-\x0d\x22\x24\x26-\/\x3a\x3c-\x3f\x5b-\x5e\x7b-\x7d\x85\u2028\u2029]/g;soy.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_=/[\x00\x08-\x0d\x22\x26-\x2a\/\x3a-\x3e@\\\x7b\x7d\x85\xa0\u2028\u2029]/g;soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g;soy.esc.$$FILTER_FOR_FILTER_CSS_VALUE_=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i;soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_=/^(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i;soy.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTE_=/^(?!style|on|action|archive|background|cite|classid|codebase|data|dsync|href|longdesc|src|usemap)(?:[a-z0-9_$:-]*)$/i;soy.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_=/^(?!script|style|title|textarea|xmp|no)[a-z0-9_$:-]*$/i;soy.esc.$$escapeHtmlHelper=function(a){var b=String(a);return b.replace(soy.esc.$$MATCHER_FOR_ESCAPE_HTML_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)};soy.esc.$$normalizeHtmlHelper=function(a){var b=String(a);return b.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)};soy.esc.$$escapeHtmlNospaceHelper=function(a){var b=String(a);return b.replace(soy.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)};soy.esc.$$normalizeHtmlNospaceHelper=function(a){var b=String(a);return b.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)};soy.esc.$$escapeJsStringHelper=function(a){var b=String(a);return b.replace(soy.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_,soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)};soy.esc.$$escapeJsRegexHelper=function(a){var b=String(a);return b.replace(soy.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_,soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)};soy.esc.$$escapeCssStringHelper=function(a){var b=String(a);return b.replace(soy.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_,soy.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_)};soy.esc.$$filterCssValueHelper=function(a){var b=String(a);if(!soy.esc.$$FILTER_FOR_FILTER_CSS_VALUE_.test(b)){return"zSoyz"}return b};soy.esc.$$normalizeUriHelper=function(a){var b=String(a);return b.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_)};soy.esc.$$filterNormalizeUriHelper=function(a){var b=String(a);if(!soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_.test(b)){return"zSoyz"}return b.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_)};soy.esc.$$filterHtmlAttributeHelper=function(a){var b=String(a);if(!soy.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTE_.test(b)){return"zSoyz"}return b};soy.esc.$$filterHtmlElementNameHelper=function(a){var b=String(a);if(!soy.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_.test(b)){return"zSoyz"}return b};soy.esc.$$HTML_TAG_REGEX_=/<(?:!|\/?[a-zA-Z])(?:[^>'"]|"[^"]*"|'[^']*')*>/g;
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.comalatech.workflow:bundled', location = 'templates/com/comalatech/workflow/embedded/js/workflow.js' */
var AWP=AWP||{};AWP.Embedded=AWP.Embedded||{};AWP.Embedded.Workflow=(function(i,f){var e="workflow",g=null,l="",a="",b="",j=null,c=null,h="",d=false;setState=function(w){var t=f("#"+l);var u="#title-text";var y="#workflow-page-message";t.css("display","block");if(w.stateName&&w.stateName!==""&&!w.hideStates){var q="";if(w.finalState){q="final"}else{if(w.hasFinalState){q="notfinal"}}f("#title-heading .adhocworkflows-state, .rw_page_title .adhocworkflows-state").remove();if(f(".rw_page_title").length>0){u=".rw_page_title"}f(u).append(AWP.Templates.pageState({stateName:w.stateName,finalClass:q,hover:""}));if(w.updatePageStatus){var r=i.$("#content .status-macro:first");if(r.length>0){r.removeClass("aui-lozenge-complete aui-lozenge-success aui-lozenge-current");r.html(w.stateName);if(w.finalState){r.addClass("aui-lozenge-success")}else{if(w.hasFinalState){r.addClass("aui-lozenge-current")}else{r.addClass("aui-lozenge-complete")}}}}if(w.displayProgressTracker){var n=0;var x=w.orderedWorkflowStates.length;x=x-5;if(x>0){n=x*80}var s=new AWP.ProgressTracker(w.orderedWorkflowStates,w.stateName,w.hoverDescription);i.InlineDialog(f(".adhocworkflows-state"),"awp-state",function(A,z,B){if(s.checkStates()){if(!s.isRendered()){A.html(s.render())}B()}return false},{showDelay:800,onHover:true,width:(400+n)})}}setMessages(w.messages);if(w.hasFinalState){if(w.alternateViewUrl){var o=f("#view-change-link");if(o.length>0){var m=o.attr("href");var v=o.parents("span");v.html(AWP.Templates.versionInfo({changeUrl:m,contextPath:i.Confluence.getContextPath(),pageStatus:w,pageId:i.params.pageId}))}else{var p=f("li.page-metadata-modification-info");if(p.length>0){p.append(AWP.Templates.altLinkNoVersion({contextPath:i.Confluence.getContextPath(),pageStatus:w}))}}}else{}}else{}f(".awp-badge").remove();if(w.actionable||w.activeTasks>0){$parent=t.parent();$div=i.$("<div></div>",{id:"awp-menu-icon"});t.appendTo($div);$div.append(AWP.Templates.badge({message:w.activeTasks}));$parent.prepend($div)}if(!w.hideStates){f("#addAdhocWorkflow").css("display","none");f("#addApprovalWorkflow").css("display","none")}f("#editPageWorkflowLink").css("display","block")};setMessages=function(q){var p="#workflow-page-message";if(q){if(!jQuery.isArray(q)){q=[q]}if(q.length>0){var o=f(p);if(o.length===0){pageMessageContainer=f("<div></div>",{id:"workflow-page-message"});f("#main-content").prepend(pageMessageContainer)}else{o.html("")}for(var m=0;m<q.length;m++){var n=q[m];q={title:n.title?n.title:undefined,closeable:true,body:n.renderedMessage};switch(n.type){case"ERROR":i.messages.error(p,q);break;case"SUCCESS":i.messages.success(p,q);break;case"INFO":i.messages.info(p,q);break;case"HINT":i.messages.hint(p,q);break;case"WARNING":i.messages.warning(p,q);break;default:i.messages.generic(p,q)}}}}};updateBadge=function(o){var m=f(".awp-badge").html();if(o!=m){if(o=="0"){f(".awp-badge").addClass("awp-badge-0");o="!"}else{f(".awp-badge").removeClass("awp-badge-0")}f(".awp-badge").html(o)}};generatePopup=function(p,n,o){var m=f(n);f(".awp-badge").hide();var q=f("<div></div>").attr({"class":"awp-loading"}).html("loading");p.height("325px").html(q).append(AWP.Templates.iframe({pageId:i.params.pageId,contextPath:i.Confluence.getContextPath(),action:e}));o()};generateFeedbackPopup=function(m){if(m){var n="#"+m;$popup=f(n);$popup.addClass("awp-"+m);$popup.html(AWP.Templates.feedback({}));f("<iframe></iframe>").attr({src:"http://comalatech.wufoo.com/embed/m7x1p5/",height:"365",allowtransparency:"true",frameborder:"0",scrolling:"no"}).appendTo(n+" .awp-content");f(n+" .awp-btn-close").bind("click",hideFeedbackDialog)}};getModalDialogId=function(){return h};getDialogId=function(){return l};isModalDialogOpen=function(){return d};setModalDialogOpen=function(m){d=m};showModalDlg=function(){setModalDialogOpen(true);c.show()};showFeedbackDialog=function(){generateFeedbackPopup(j.id);j.show()};hideFeedbackDialog=function(){j.hide()};hideDialog=function(){g.hide()};hideModalDialog=function(){setModalDialogOpen(false);c.hide()};setAction=function(m){e=m};getTask=function(){return b};setTask=function(m){b=m};setApproval=function(m){a=m};getApproval=function(){return a};queryString=function(){var p={};var o=window.location.search.substring(1);var q=o.split("&");for(var n=0;n<q.length;n++){var r=q[n].split("=");if(typeof p[r[0]]==="undefined"){p[r[0]]=r[1]}else{if(typeof p[r[0]]==="string"){var m=[p[r[0]],r[1]];p[r[0]]=m}else{p[r[0]].push(r[1])}}}return p};init=function(n,m,p){i.log("[AWP] init embedded.workflow");l=n;h=m;var o="#"+l;f("#rte-button-adhoctasks").click(function(){AWP.Embedded.Workflow.setAction("addtask")});g=i.InlineDialog(f(o+",#rte-button-adhoctasks"),"adhocWorkflowsDialogPopup",generatePopup,{width:420,offsetY:17,hideDelay:10000,hideCallback:function(){f(".awp-badge").show("fast")},initCallback:function(){setModalDialogOpen(false)}});c=new i.Dialog({width:350,height:220,id:h,closeOnOutsideClick:true});j=new i.Dialog({width:600,height:450,id:p,closeOnOutsideClick:true});f(o).parents("li").appendTo(f("#navigation ul.ajs-menu-bar"));if(f(".rw_custom_section").length>0){f(o+" span").html("");f(o).addClass("rw_icon_button").prependTo(f("#rw_page_right .rw_custom_section"))}};var k=function(){var m="rte-button-adhoctasks";f("#"+m).click(function(){AWP.Embedded.Workflow.setAction("addtask")});g=i.InlineDialog(f("#"+m),"adhocWorkflowsDialogPopup",generatePopup,{width:420,offsetY:17,hideDelay:10000,hideCallback:function(){f(".awp-badge").show("fast")},initCallback:function(){setModalDialogOpen(false)}})};i.toInit(function(m){init("adhocWorkflowsPopupLink","addWorkflowDialog","feedbackPopup");AWP.params=queryString();if(AWP.params.task||AWP.params.approval){i.Confluence.EditorLoader.load(function(){if(AWP.params.task){setTask(AWP.params.task);m("#"+getDialogId()).click()}else{if(AWP.params.approval){setApproval(AWP.params.approval);m("#"+getDialogId()).click()}}})}m(document).delegate("#editPageLink","click",k)});return{setState:setState,setMessages:setMessages,setAction:setAction,updateBadge:updateBadge,dialog:g,getDialogId:getDialogId,hideDialog:hideDialog,modalDialog:c,getModalDialogId:getModalDialogId,isModalDialogOpen:isModalDialogOpen,setModalDialogOpen:setModalDialogOpen,showModalDlg:showModalDlg,hideModalDialog:hideModalDialog,showFeedbackDialog:showFeedbackDialog,setTask:setTask,getTask:getTask,setApproval:setApproval,getApproval:getApproval}})(AJS,AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.comalatech.workflow:bundled', location = 'templates/com/comalatech/workflow/embedded/js/events.js' */
var AWP=AWP||{};AWP.Embedded=AWP.Embedded||{};AWP.Embedded.Events=new function(a){this.refreshState=function(b,c){AWP.Embedded.Workflow.setState(c)};this.refreshMsg=function(c,b){AWP.Embedded.Workflow.setMessages(b)};this.closeWorkflowDialog=function(){AWP.Embedded.Workflow.hideDialog();AWP.Embedded.Workflow.hideModalDialog()};this.addWorkflow=function(c){c.preventDefault();var d=AWP.Embedded.Workflow;d.showModalDlg();var b=a("#"+d.getModalDialogId());b.html("").append(AWP.Templates.iframeSmall({pageId:AJS.params.pageId,contextPath:AJS.Confluence.getContextPath()}));return false};this.addTask=function(b){b.preventDefault();var c=AWP.Embedded.Workflow;c.setAction("addtask");a("#"+c.getDialogId()).click()};this.addApprovalWorkflow=function(b){b.preventDefault();AWP.Embedded.Workflow.setAction("addapproval");a("#"+AWP.Embedded.Workflow.getDialogId()).click()};a(document).delegate("iframe.adhoworkflows","awp.refresh",this.refreshState);a(document).delegate("iframe.adhoworkflows","awp.refreshMsg",this.refreshMsg);a(document).delegate("iframe.adhoworkflows","awp.close",this.closeWorkflowDialog);a(document).delegate("#addAdhocWorkflow","click",this.addWorkflow);a(document).delegate("#addPageTaskLink","click",this.addTask);a(document).delegate("#addApprovalWorkflow","click",this.addApprovalWorkflow)}(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.comalatech.workflow:bundled', location = 'templates/com/comalatech/workflow/common/soy/progresstracker.soy' */
// This file was automatically generated from progresstracker.soy.
// Please don't edit this file by hand.

if (typeof AWP == 'undefined') { var AWP = {}; }
if (typeof AWP.Templates == 'undefined') { AWP.Templates = {}; }


AWP.Templates.progresstracker = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class="', soy.$$escapeHtml(opt_data.el), '"><ol class="aui-progress-tracker">');
  var stateList6 = opt_data.states;
  var stateListLen6 = stateList6.length;
  for (var stateIndex6 = 0; stateIndex6 < stateListLen6; stateIndex6++) {
    var stateData6 = stateList6[stateIndex6];
    output.append('<li ', (stateData6 == '...') ? 'title="' + soy.$$escapeHtml(opt_data.hintHiddenStates) + '"' : '', 'class="aui-progress-tracker-step ', (stateData6 == opt_data.current) ? 'aui-progress-tracker-step-current' : '', ' ', (stateData6 == '...') ? (stateIndex6 == 0) ? 'awp-progress-tracker-step-first' : 'awp-progress-tracker-step-short' : '', '"><span class="', (stateData6 == '...') ? 'awp-progress-tracker-transition' : '', '">', soy.$$escapeHtml(stateData6), '</span></li>');
  }
  output.append('</ol>', (opt_data.stateDescription && opt_data.current != opt_data.stateDescription) ? '<div class="awp-statedesc">' + soy.$$escapeHtml(opt_data.stateDescription) + '</div>' : '', '</div>');
  return opt_sb ? '' : output.toString();
};

} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.comalatech.workflow:bundled', location = 'templates/com/comalatech/workflow/common/js/view/progresstracker.js' */
var AWP=AWP||{};AWP.ProgressTracker=(function(b,g,a){var f=5,h=false,e="",d="awp-progress-tracker",c=AWP.Templates.progresstracker;initialize=function(){filterStates();if(!a){a=""}};checkStates=function(){var l=false;if(arguments.length>0){g=arguments[0]}var k=b.indexOf(g);if(k>=0){l=true}return l};filterStates=function(){var k=b.length;this.hintHiddenStates="";if(k>f){var n=k-f;var l=0,m=false;while(l<k&&!m){if(b[l]==g){m=true}l++}l--;if(l==0){for(j=0;j<f-2;j++){b[j]=b[l+j]}b[j]="...";b[j+1]=b[k-1];b.splice(f);hiddenStates=k-(l+(f-1));e="+"+hiddenStates+" states"}else{if(l<n){b[0]="...";for(j=1;j<f-2;j++){b[j]=b[l+j]}b[j]="...";b[j+1]=b[k-1];b.splice(f+1);hiddenStates=k-(l+(f-1));e="+"+hiddenStates+" states"}else{b.splice(0,n);b.unshift("...")}}}};render=function(){var i="";if(this.checkStates()){i=c({el:d,states:b,current:g,hintHiddenStates:e,stateDescription:a});h=true}return i};isRendered=function(){return h};$el=function(){return AJS.$("."+d)};initialize();return{$el:$el,checkStates:checkStates,isRendered:isRendered,render:render}});
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.comalatech.workflow:adhocworkflows-resource', location = 'templates/adhocworkflows/js/autocomplete-filtered-user.js' */
var AWP=AWP||{};AWP.autocompleteFilteredUser=function(b){b=b||document.body;var c=AJS.$;var a=function(e){if(!e||!e.result){throw new Error("Invalid JSON format")}var d=[];d.push(e.result);return d};c('input.autocomplete-filtered-user[data-autocomplete-filtered-user-bound!="true"]',b).each(function(){var g=c(this).attr("data-autocomplete-filtered-user-bound","true").attr("autocomplete","off");var f=g.attr("data-max")||10,j=g.attr("data-alignment")||"left",h=g.attr("data-dropdown-target"),e=null;if(h){e=c(h)}else{e=c("<div></div>");g.after(e)}if(g.attr("data-resize-to-input")){e.width(g.outerWidth());e.addClass("resize-to-input")}e.addClass("aui-dd-parent autocomplete");var d=c(this).attr("groups");var i=c(this).attr("users");d=d||"";i=i||"";g.quicksearch("/rest/adhocworkflows/1/search/user.json?groups="+d+"&users="+i,function(){g.trigger("open.autocomplete-filtered-user")},{makeParams:function(k){return{"max-results":f,query:k}},dropdownPlacement:function(k){e.append(k)},makeRestMatrixFromData:a,addDropdownData:function(k){if(!k.length){var l=g.attr("data-none-message");if(l){k.push([{name:l,className:"no-results",href:"#"}])}}return k},ajsDropDownOptions:{alignment:j,displayHandler:function(k){if(k.restObj&&k.restObj.username){return k.name+" ("+k.restObj.username+")"}return k.name},selectionHandler:function(p,m){if(m.find(".search-for").length){g.trigger("selected.autocomplete-filtered-user",{searchFor:g.val()});return}if(m.find(".no-results").length){this.hide();p.preventDefault();return}var k=c("span:eq(0)",m).data("properties"),q=k.restObj.username,n=g.attr("data-target"),o=n&&c(n),l=g.attr("data-template")||"{username}";g.val(AJS.template(l).fillHtml(k.restObj));o&&o.val(q);g.trigger("selected.autocomplete-filtered-user",{content:k.restObj});this.hide();p.preventDefault()}}})})};
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.comalatech.workflow:adhocworkflows-resource', location = 'templates/adhocworkflows/js/states.js' */
var Adhoc=Adhoc||{};Adhoc.Workflow=Adhoc.Workflow||{};Adhoc.menuActions=Adhoc.menuActions||[];(function(a){Adhoc.Workflow.setState=function(b){Adhoc.state=b;var c=a("#adhocWorkflowsLink");if(!b.stateName||b.publishedView){c.css("display","none")}else{c.addClass("workflow-state").css("display","block").css("visibility","inherit");c.attr("title",b.hoverDescription);a("#workflow-page-message").html("")}if(b.activeTasks>0){a("#adhocTasksLink").css("display","block");Adhoc.Tasks.generateTasksPopup(Adhoc.Tasks.dialog.find(".contents"),this,function(){})}else{a("#adhocTasksLink").hide()}if(b.taskable){a("#addPageTaskLink").removeClass("notTaskable");a("#addPageTaskLink").addClass("taskable");a("#taskable").val("true")}else{a("#addPageTaskLink").removeClass("taskable");a("#addPageTaskLink").addClass("notTaskable");a("#taskable").val("false")}a("#editPageWorkflowLink").css("display","block");AWP.Embedded.Workflow.setState(b)};Adhoc.Workflow.refreshState=function(){a.ajax({type:"GET",cache:false,url:AJS.Confluence.getContextPath()+"/rest/adhocworkflows/latest/state/"+AJS.params.pageId+"?publishedView="+Adhoc.publishedView,success:function(c,d,b){if(b.status!=200){return}AWP.Embedded.Workflow.setState(c);if(Adhoc.clickedApprovalId){a("#adhocWorkflowsLink").click()}},error:Adhoc.errorHandler});return false};Adhoc.Workflow.stateAction=function(){var c=a(this).parents("form");var b={name:c.hasClass("adhoc")?c.find("input.newstatename").val():c.find("select").val(),assignee:Adhoc.getAssignees(c),note:c.find("textarea").val()};var d=a(this).attr("name");Adhoc.submitProgress(a(this).parents(".adhoc"));a.ajax({type:"POST",cache:false,contentType:"application/json; charset=utf-8",url:AJS.Confluence.getContextPath()+"/rest/adhocworkflows/latest/state/"+AJS.params.pageId+"/"+d,data:JSON.stringify(b),success:function(f,g,e){if(e.status==200){AWP.Embedded.Workflow.setState(f)}Adhoc.dialog.hide()},error:Adhoc.errorHandler});return false};Adhoc.Workflow.assign=function(){var b=a(this).parents("form");b.addClass("assign");return false};Adhoc.Workflow.unassign=function(){var b=a(this).parents("form");b.addClass("unassign");return false};Adhoc.Workflow.doStateDialog=function(e,c){var b=e.states;c.append(AJS.template.load("adhocworkflows-states").fill());for(i=0;i<b.length;i++){var d={name:b[i]};c.find("select").append(AJS.template.load("adhocworkflows-state").fill(d))}if(e.adhoc){c.find("select").append(AJS.template.load("adhocworkflows-state-adhoc").fill());c.find("select").change(function(){var f=a(this).parents("form");var g=a(this).val();if(g=="0"){f.addClass("adhoc")}else{f.removeClass("adhoc");f.find("input.newstatename").val("")}})}c.find("form.state input[type='submit']").click(Adhoc.Workflow.stateAction);c.find(".cancel-dialog").click(Adhoc.doHidePopup);Adhoc.setPresetUsers(a("#inline-dialog-adhocWorkflowsPopup .usersdropdown .aui-dropdown"),e.involvedUsers);c.find(".usersdropdown").dropDown("Standard");c.find("input.autocomplete-user").click(function(){var f=a(this).parents("form");f.find(".usersdropdown a.aui-dd-trigger").click()});AJS.Confluence.Binder.autocompleteUser();c.find("input.autocomplete-user").bind("selected.autocomplete-user",Adhoc.selectAssignee);c.find(".assign-page").click(Adhoc.Workflow.assign);if(e.assignee!=undefined){c.find("input[name='assignee']").attr("placeholder",c.find("input[name='assignee']").attr("placeholder2"));c.find("ol.assignees.assigned").append(AJS.template.load("adhocworkflows-assignee").fill(e.assignee))}c.find("ol.assignees.assigned .remove-assignee").click(Adhoc.Workflow.unassign);if(!e.pageAssignable){a("form.aui.state").addClass("unassignable")}else{a("form.aui.state").removeClass("unassignable")}}})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.comalatech.workflow:adhocworkflows-resource', location = 'templates/adhocworkflows/js/approvals.js' */
var Adhoc=Adhoc||{};Adhoc.Approvals=Adhoc.Approvals||{};(function(a){Adhoc.Approvals.hideApproval=function(){a(this).parents(".approvals .approval").removeClass("active");a("#workflow-main .button-panel.dialog").show();return false};Adhoc.Approvals.showApproval=function(){a(this).parents(".approvals").find(".cancel-approval").click();var b=a(this).parents(".approval");var e=a(this).attr("name");var c=b.find("form");a(this).parents(".approvals .approval").removeClass("active");b.addClass("active");b.removeClass("approve").removeClass("reject").removeClass("assign");c.removeClass("approve").removeClass("reject").removeClass("assign");a("ol.assignees.select").empty();b.addClass(e);c.addClass(e);var d=b.find(".button-panel input[name='"+e+"']");d.toggleClass("highlight");setTimeout(function(){d.toggleClass("highlight")},400);a("#workflow-main .button-panel.dialog").hide();return false};Adhoc.Approvals.assign=function(){var b=a(this).parents(".approval");var c=b.find("form");c.removeClass("approve").removeClass("reject");c.addClass("assign");c.find("input.autocomplete-filtered-user").click().focus();return false};Adhoc.Approvals.doAction=function(){var d=a(this).attr("name");var b=a(this).parents("form");var c={assignee:Adhoc.getAssignees(b),user:b.find("input[name='username']").val(),password:b.find("input[name='password']").val(),name:b.find("input[name='name']").val(),note:b.find("textarea").val()};Adhoc.submitProgress(a(this).parents(".adhoc"));a.ajax({type:"POST",cache:false,contentType:"application/json; charset=utf-8",url:AJS.Confluence.getContextPath()+"/rest/adhocworkflows/latest/approval/"+AJS.params.pageId+"/"+d,data:JSON.stringify(c),success:function(g,h,f){if(f.status==200){var e=Adhoc.state.stateName!=g.stateName;Adhoc.Workflow.setState(g);if(!e){a("#adhocWorkflowsLink").click()}else{Adhoc.dialog.hide()}}else{Adhoc.dialog.hide()}},error:Adhoc.errorHandler});return false};Adhoc.Approvals.doDialog=function(d,n){var k;if(d.approvals.length>1){k=AJS.params.approvalsLabel}else{k=""}fillApprovalActions=function(i,o){var p=i.find(".approval-header .workflow-actions");for(var j=o.actions.length-1;j>=0;j--){p.append(AJS.template.load("adhoc-action").fill(o.actions[j]))}};fillDefaultAction=function(i,j,o){$name=i.find(".name");if(j.hint!=undefined){i.attr("title",j.hint)}if(j.defaultAction!=undefined){j.defaultAction.name=o.fullName?o.fullName:o.name;j.defaultAction.shortName=o.shortName;$name.append(AJS.template.load("adhocworkflows-approval-action-default").fill(j))}else{$name.append(o.fullName?o.fullName:o.name)}};var m=d.approvals;n.append(AJS.template.load("adhocworkflows-approvals").fill());var l="";for(var g=0;g<m.length;g++){var c=m[g];c.separator=l;n.find(".approvals").append(AJS.template.load("adhocworkflows-approval").fill(c));var h=a("#"+c.id);if(c.assignees!=undefined&&c.assignees.length>0){Adhoc.setPresetUsers(h.find(".usersdropdown .aui-dropdown ol"),c.assignees);h.addClass("assignees")}else{Adhoc.setPresetUsers(h.find(".usersdropdown .aui-dropdown ol"),d.involvedUsers)}if(c.dueDate){h.find(".approval-duedate").html(AJS.template.load("adhocworkflows-approval-duedate").fill(c))}if(c.message!=undefined&&c.message.length>0){h.find(".adhoc-message").html(c.message)}fillApprovalActions(h,c);fillDefaultAction(h,c,c);for(var f=0;f<c.approvers.length;f++){var e=c.approvers[f];n.find(".approvals").append(AJS.template.load("adhocworkflows-approver").fill(e));var b=a("#"+e.id);fillApprovalActions(b,e);fillDefaultAction(b,e,e.user)}l="separator"}n.find(".workflow-action").click(Adhoc.Approvals.showApproval);n.find("form.approval input[type='submit']").click(Adhoc.Approvals.doAction);n.find(".cancel-approval").click(Adhoc.Approvals.hideApproval);n.find(".assign-approval").click(Adhoc.Approvals.assign);n.find(".cancel-dialog").click(Adhoc.doHidePopup);n.find(".usersdropdown").dropDown("Standard");if(!AJS.$.browser.msie){n.find("input.autocomplete-filtered-user,input.assignee-user").click(function(){var i=a(this).parents("form");i.find(".usersdropdown a.aui-dd-trigger").click()})}else{n.find("div.approval.assignees input.assignee-user").click(function(){var i=a(this).parents("form");i.find(".usersdropdown a.aui-dd-trigger").click()})}n.find("input.autocomplete-filtered-user").bind("selected.autocomplete-filtered-user",Adhoc.selectAssignee);n.find("input.assignee-user").keypress(function(i){i.preventDefault()});AWP.autocompleteFilteredUser();if(Adhoc.clickedApprovalId){a("#"+Adhoc.clickedApprovalId+" .approval-header .name a").click();Adhoc.clickedApprovalId=undefined}else{if(!a("#adhocWorkflowsLink").hasClass("approvalworkflow")){if(n.find(".approval-header").length==1&&n.find("a.approve:first").length==1){n.find("a.approve:first").click()}}}}})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.comalatech.workflow:adhocworkflows-resource', location = 'templates/adhocworkflows/js/tasks.js' */
Adhoc=Adhoc||{};Adhoc.Tasks=Adhoc.Tasks||{};(function(a){Adhoc.Tasks.clickedTasksId;Adhoc.Tasks.editDialog,Adhoc.Tasks.dialog,Adhoc.Tasks.dialogOptions={width:280,offsetY:17,offsetX:-40,hideDelay:10000};Adhoc.Tasks.editDialogOptions={width:480,height:400,id:"inline-dialog-adhocTasks",closeOnOutsideClick:true};Adhoc.Tasks.hideDialog=function(){if(Adhoc.Tasks.dialog&&Adhoc.Tasks.dialog!=undefined){Adhoc.Tasks.dialog.hide()}if(Adhoc.Tasks.editDialog&&Adhoc.Tasks.editDialog!=undefined){Adhoc.Tasks.editDialog.hide()}return false};Adhoc.Tasks.isInlineDialog=function(){return a("#inline-dialog-adhocTasks").hasClass("aui-inline-dialog")};Adhoc.Tasks.getSelectedText=function(){var b;if(jQuery.browser.msie){b=document.selection.createRange().text}else{b=window.getSelection()}b=""+b;if(b&&b.length>2&&b.indexOf("'")!=0&&b.indexOf('"')!=0&&b.indexOf("|")<0&&b.indexOf('"')<0){b=""+b;return b.split("\n",10)}else{return[]}};Adhoc.Tasks.getNames=function(b){var c=[];b.find("input.taskName:not(.placeholded)").each(function(){var d=a(this).val();if(d.length>0){c.push(d)}});return c};Adhoc.Tasks.doAction=function(){var b=a(this).parents("form");var d=a(this).attr("name");var c=b.find("input[name='id']").val();var e={names:Adhoc.Tasks.getNames(b),assignee:Adhoc.getAssignees(b),note:b.find("textarea:not(.placeholded)").val()};Adhoc.submitProgress(a(this).parents(".adhoc"));a.ajax({type:"POST",cache:false,contentType:"application/json; charset=utf-8",url:AJS.Confluence.getContextPath()+"/rest/adhocworkflows/latest/tasks/"+AJS.params.pageId+"/"+(c!=undefined&&c>0?c+"/":"")+d,data:JSON.stringify(e),success:function(h,i,g){if(g.status==200){Adhoc.Tasks.tasks=h.tasks;Adhoc.Tasks.updateCount(h.tasks.length);var f;if(Adhoc.Tasks.isInlineDialog()){f=Adhoc.Tasks.dialog.find(".contents")}else{f=a("#inline-dialog-adhocTasks .editor-task-dialog")}Adhoc.Tasks.doDialog(h.tasks,f,true);if(!Adhoc.Tasks.isInlineDialog()){Adhoc.Tasks.editDialog.show()}}else{Adhoc.Tasks.hideDialog()}},error:Adhoc.errorHandler});return false};Adhoc.Tasks.hideTask=function(){a(".adhoc .task").removeClass("active");return false};Adhoc.Tasks.showTask=function(){if(AJS.dropDown.current!=undefined){AJS.dropDown.current.hide()}a("#inline-dialog-adhocTasks form.addtask").removeClass("active");var d=a(this).parents(".task");var c=a(this).attr("name");if(c==undefined||c==""){c=a(this).find("a").attr("name")}var b=d.find("form");d.find(".cancel-task").click();d.addClass("active");b.attr("class","aui").addClass(c);return false};Adhoc.Tasks.updateCount=function(c){a("#adhocTasksLink span, #rte-button-adhoctasks span.trigger-text").html("");var b;if(c==undefined){c=0}if(c==0){b="adhoctasks-tasks-count0"}else{if(c==1){a("#adhocTasksLink").css("display","block");b="adhoctasks-tasks-count1"}else{a("#adhocTasksLink").css("display","block");b="adhoctasks-tasks-count"}}a("#adhocTasksLink span, #rte-button-adhoctasks span.trigger-text").append(AJS.template.load(b).fill({count:c}))};Adhoc.Tasks.toggleAddTask=function(){Adhoc.Tasks.hideTask();a("#inline-dialog-adhocTasks form.addtask").toggleClass("active");a("#taskName0").click().focus();return false};Adhoc.Tasks.assign=function(){var c=a(this);var b=a(this).parents(".task").find("form");b.addClass("assign");b.removeClass("complete");b.removeClass("view");b.removeClass("remove");return false};Adhoc.Tasks.remove=function(){var c=a(this);var b=a(this).parents(".task").find("form");b.addClass("remove");b.removeClass("complete");b.removeClass("view");b.removeClass("assign");return false};Adhoc.Tasks.assignNewTask=function(){var c=a(this);var b=c.parents("form");b.addClass("assign");c.hide();return false};Adhoc.Tasks.initClipboardSelection=function(e,h){var f;if(!e.hasClass("reload")){f=Adhoc.Tasks.getSelectedText()}else{f=[]}Adhoc.selected=f;if(!a("#adhocTasksLink").hasClass("addtasklink")&&(h.length==0||f.length>0)){e.find("a.add-task").click();var d=0;for(var b=0;b<f.length;b++){var c=a.trim(f[b]);if(c.length>0){var g=a("#taskName"+d++);g.addClass("active").click().val(c)}}if(d>1){a("form.addtask").addClass("multiple")}else{a("form.addtask").addClass("single")}}else{a("form.addtask").addClass("single")}};Adhoc.Tasks.doDialog=function(f,c,d){var e=function(k,h,n){h.toggle=n?"even":"";k.find(".tasks").append(AJS.template.load("adhoctasks-task").fill(h));var m=a("#task-"+h.id);try{m.find(".task-caption").append(AJS.template.load("adhoctasks-task-completed").fill(h))}catch(l){alert("Ad hoc Workflows panel out of sync because of CONF-23672. Please restart server")}if(!h.comment||h.comment.length==0){m.find(".task-caption .note").remove()}var o=m.find(".name");if(h.actions&&h.actions.length>0){o.append(AJS.template.load("adhoctasks-task-action-default").fill({hint:h.hint,action:h.actions[0],shortName:h.shortName,name:h.name}))}else{o.append(h.name)}if(h.user){if(Adhoc.Tasks.isInlineDialog()){var g=m.find("ol.assignees.select");Adhoc.addAssignee(g,h.user.name,h.user.fullName,h.user.pictureUrl,"assigned")}else{o.append(AJS.template.load("adhoctasks-task-assignee").fill(h))}}if(h.dueDate){o.append(AJS.template.load("adhoctasks-task-duedate").fill(h))}for(var i=h.actions.length-1;i>=0;i--){m.find(".task-header .workflow-actions").append(AJS.template.load("adhoc-action").fill(h.actions[i]))}};c.empty();if(d){c.addClass("reload")}Adhoc.Tasks.tasks=f;c.append(AJS.template.load("adhoctasks-tasks").fill());for(var b=0;b<f.length;b++){e(c,f[b],b%2==1)}c.find("a.cancel-dialog").click(Adhoc.Tasks.hideDialog);c.find("a.cancel-addtask, a.add-task").click(Adhoc.Tasks.toggleAddTask);c.find("input[type='submit']").click(Adhoc.Tasks.doAction);c.find(".task-header, li.dropdown-item .workflow-action").click(Adhoc.Tasks.showTask);c.find(".cancel-task").click(Adhoc.Tasks.hideTask);c.find(".workflow-actions").dropDown("Standard");Adhoc.Tasks.initClipboardSelection(c,f);c.find(".assign-new-task").click(Adhoc.Tasks.assignNewTask);c.find(".assign").click(Adhoc.Tasks.assign);c.find(".remove").click(Adhoc.Tasks.remove);a.ajax({type:"GET",cache:false,url:AJS.Confluence.getContextPath()+"/rest/adhocworkflows/latest/tasks/"+AJS.params.pageId+"/users",success:function(h,i,g){Adhoc.setPresetUsers(a(".adhoc .usersdropdown .aui-dropdown"),h.users);if(!AJS.$.browser.msie){c.find("input.autocomplete-user").click(function(){var j=a(this).parents("form");j.find(".usersdropdown a.aui-dd-trigger").click()})}c.find(".usersdropdown").dropDown("Standard")},error:Adhoc.errorHandler});c.find("input.autocomplete-user").bind("selected.autocomplete-user",Adhoc.selectAssignee);AJS.Confluence.Binder.autocompleteUser();if(Adhoc.Tasks.clickedTasksId&&Adhoc.Tasks.clickedTasksId>0){a("#task-"+Adhoc.Tasks.clickedTasksId+" .task-header .name a").click();Adhoc.Tasks.clickedTasksId=0}if(a("#adhocTasksLink").hasClass("addtasklink")){a("#adhocTasksLink").removeClass("addtasklink");c.find("a.add-task").click()}if(a("#taskable").val()=="false"){a("a.add-task").hide()}};Adhoc.Tasks.generateTasksPopup=function(e,b,d){e.addClass("adhoc");e.empty();e.append(AJS.template.load("adhocworkflows-loading").fill());d();var c=Raphael.spinner(e.find(".progress-messages-icon")[0],7,"#666");a.ajax({type:"GET",cache:false,url:AJS.Confluence.getContextPath()+"/rest/adhocworkflows/latest/tasks/"+AJS.params.pageId,success:function(g,h,f){Adhoc.Tasks.tasks=g.tasks;Adhoc.Tasks.updateCount(g.tasks.length);Adhoc.Tasks.doDialog(Adhoc.Tasks.tasks,e,false)},error:Adhoc.errorHandler})};Adhoc.Tasks.addTaskLink=function(){if(a("#taskable").val()!="false"){a("#adhocTasksLink").css("display","block").addClass("addtasklink").click()}return false};AJS.toInit(function(b){try{Adhoc.Tasks.clickedTasksId=Adhoc.getUrlParams()["task"]}catch(c){}if(b("#editor-container, #rte-toolbar").length==0){Adhoc.Tasks.dialog=AJS.InlineDialog(b("#adhocTasksLink"),"adhocTasks",Adhoc.Tasks.generateTasksPopup,Adhoc.Tasks.dialogOptions);if(b("#adhocTasksLink").length==0){return}if(b("#displayEmptyTaskMenu").length>0){}}else{if(AJS.params.pageId>0){Adhoc.Tasks.editDialog=new AJS.Dialog(Adhoc.Tasks.editDialogOptions);Adhoc.Tasks.editDialog.addPage("editor-task-dialog").addHeader(AJS.params.tasksLabel)}else{b("#rte-button-adhoctasks").hide()}}if(AJS.params.pageId>0){try{b.ajax({type:"GET",cache:false,url:AJS.Confluence.getContextPath()+"/rest/adhocworkflows/latest/tasks/"+AJS.params.pageId+"/count",success:function(e,f,d){Adhoc.Tasks.updateCount(e);if(Adhoc.Tasks.clickedTasksId&&Adhoc.Tasks.clickedTasksId>0){b("#adhocTasksLink").click()}}})}catch(c){}}})})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.comalatech.workflow:adhocworkflows-resource', location = 'templates/adhocworkflows/js/templates.js' */
var Adhoc=Adhoc||{};Adhoc.Workflow=Adhoc.Workflow||{};(function(a){Adhoc.Workflow.workflowAction=function(){var b=a("#adhocWorkflowsLink");a("#add-menu-link").click();b.css("display","block").css("visibility","inherit").click();return false};Adhoc.Workflow.addApprovalAction=function(){var b=a("#adhocWorkflowsLink");a("#add-menu-link").click();b.css("display","block").css("visibility","inherit").addClass("approvalworkflow").click();return false};Adhoc.Workflow.doAddWorkflow=function(){var c=a(this);var b={workflowId:c.find("select").val(),stateNames:c.find("input.state-names").val()};Adhoc.submitProgress(a(this).parents(".adhoc"));a.ajax({type:"POST",cache:false,contentType:"application/json; charset=utf-8",url:AJS.Confluence.getContextPath()+"/rest/adhocworkflows/latest/workflow/"+AJS.params.pageId+"/add",data:JSON.stringify(b),success:function(e,f,d){if(d.status==200){a("#addAdhocWorkflow").hide();Adhoc.Workflow.setState(e)}Adhoc.dialog.hide()},error:Adhoc.errorHandler});return false};Adhoc.Workflow.doAddApprovalWorkflow=function(){var c=a(this);var b={workflowId:0};a.ajax({type:"POST",cache:false,contentType:"application/json; charset=utf-8",url:AJS.Confluence.getContextPath()+"/rest/adhocworkflows/latest/workflow/"+AJS.params.pageId+"/add?default=true",data:JSON.stringify(b),success:function(e,f,d){if(d.status==200){a("#addAdhocWorkflow").hide();a("#addApprovalWorkflow").hide();Adhoc.Workflow.setState(e)}Adhoc.dialog.hide();a("#adhocWorkflowsLink").click()},error:Adhoc.errorHandler});return false};Adhoc.Workflow.doSelectTemplate=function(){var c=a(this).val();var b=a(this).parents("form");if(c==0){b.addClass("adhoc")}else{b.removeClass("adhoc")}};Adhoc.Workflow.doTemplatesDialog=function(b,d,e){d.empty();d.append(AJS.template.load("adhocworkflows-select").fill());d.find(".close-dialog").click(Adhoc.doHidePopup);d.find("select").change(Adhoc.Workflow.doSelectTemplate);if(e.status!=200){return}var c=b.templates;for(i=0;i<c.length;i++){d.find("#select-workflow-templates").append(AJS.template.load("adhocworkflows-select-template").fill(c[i]))}d.find("#select-workflow-templates").append(AJS.template.load("adhocworkflows-adhoc-template").fill());d.find("form").submit(Adhoc.Workflow.doAddWorkflow)}})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.comalatech.workflow:adhocworkflows-resource', location = 'templates/adhocworkflows/js/forms.js' */
var Adhoc=Adhoc||{};Adhoc.Form=Adhoc.Form||{};Adhoc.menuActions=Adhoc.menuActions||[];(function(a){Adhoc.Form.toggleEdit=function(){a("#workflow-form").toggleClass("edit");return false};Adhoc.Form.doSubmitForm=function(){var d={fields:[]};var c=a(this).parents("form").find("table input");c.each(function(){d.fields.push({id:a(this).attr("name"),value:a(this).attr("value")})});var b=a(this).parents("form").find("table select");b.each(function(){d.fields.push({id:a(this).attr("name"),value:a("option:selected",a(this)).text()})});Adhoc.submitProgress(a(this).parents(".adhoc"));a.ajax({type:"POST",cache:false,contentType:"application/json; charset=utf-8",url:AJS.Confluence.getContextPath()+"/rest/adhocworkflows/latest/forms/"+AJS.params.pageId+"/submit",data:JSON.stringify(d),success:function(g,h,f){if(f.status==200){var e=Adhoc.state.stateName!=g.stateName;Adhoc.Workflow.setState(g);a("#adhocWorkflowsLink").click()}else{Adhoc.dialog.hide()}},error:Adhoc.errorHandler});return false};Adhoc.Form.doFormDialog=function(g,c){var e=g.inputFields;c.append(AJS.template.load("adhocworkflows-form").fill());var d=c.find(".ahoc-form table");for(i=0;i<e.length;i++){var b=e[i];d.append(AJS.template.load("adhocworkflows-inputfield").fill(b));var f=c.find("#"+b.id);if(b.type=="USER"){f.append(AJS.template.load("adhocworkflows-inputfield-user").fill(b));a.ajax({type:"GET",cache:false,url:AJS.Confluence.getContextPath()+"/rest/adhocworkflows/latest/forms/user/"+f.find("span").html(),success:function(h,l,k){if(k.status!=200){return}c.find("span[title='"+h.name+"']").html("").append(AJS.template.load("adhocworkflows-inputfield-decorated-user").fill(h))},error:Adhoc.errorHandler})}else{if(b.type=="LIST"){f.append(AJS.template.load("adhocworkflows-inputfield-list").fill(b));for(j=0;j<b.options.length;j++){f.find("select").append(AJS.template.load("adhocworkflows-inputfield-list-option").fill({option:b.options[j],selected:(b.options[j]==b.value?"selected='selected'":"")}))}}else{f.append(AJS.template.load("adhocworkflows-inputfield-text").fill(b))}}}c.find(".edit-form").click(Adhoc.Form.toggleEdit);if(g.initParameters){c.find(".edit-form").click()}c.find("input[type='submit']").click(Adhoc.Form.doSubmitForm);c.find(".cancel-dialog").click(Adhoc.doHidePopup);Adhoc.setPresetUsers(a("#inline-dialog-adhocWorkflowsPopup .usersdropdown .aui-dropdown"),g.involvedUsers);c.find("input.autocomplete-user").click(function(){a(this).parents("td").find(".usersdropdown a.aui-dd-trigger").click()});c.find(".usersdropdown").dropDown("Standard")};Adhoc.Form.showParameters=function(){Adhoc.action.showParameters=true;Adhoc.generateActionDialog(Adhoc.dialog.find("div.contents"),Adhoc.action);return false}})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.comalatech.workflow:adhocworkflows-resource', location = 'templates/adhocworkflows/js/adhocworkflows.js' */
var Adhoc=Adhoc||{};Adhoc.Workflow=Adhoc.Workflow||{};Adhoc.viewHistory=false;(function(b){Adhoc.clickedApprovalId=null;Adhoc.dialog=null;Adhoc.dialogOptions={width:280,offsetY:17,offsetX:-40,hideDelay:10000};Adhoc.activityOptions={onHover:true,width:380,offsetY:10,offsetX:-40,hideDelay:500};Adhoc.setPresetUsers=function(e,f){e.empty();for(var d=0;d<f.length;d++){e.append(AJS.template.load("adhocworkflows-user").fill(f[d]))}e.find("a").click(Adhoc.clickAssignee)};Adhoc.updateAssignButton=function(d){var e=d.parents("form").find("input.assign");if(d.find("li").length>0){e.removeAttr("disabled")}else{e.attr("disabled","disabled")}};Adhoc.addAssignee=function(f,g,i,h,j){if(f.find("li[name='"+g+"']").length>0){return}if(f.hasClass("single")){f.find("li").remove()}var e={name:g,fullName:i,pictureUrl:h};f.append(AJS.template.load("adhocworkflows-assignee").fill(e));var d=f.find("li[name='"+e.name+"']");if(j!==undefined){d.addClass(j)}d.find(".remove-assignee").click(Adhoc.removeAssignee);Adhoc.updateAssignButton(f)};Adhoc.removeAssignee=function(){var e=b(this).parents("ol");var d=b(this).parents("li");d.remove();Adhoc.updateAssignButton(e);return false};Adhoc.clickAssignee=function(){var e=b(this).parents("form");var f=b(this).attr("name");var d=e.find("ol.assignees.select");b.ajax({type:"GET",cache:false,url:AJS.Confluence.getContextPath()+"/rest/adhocworkflows/latest/workflow/userdetails?username="+f,success:function(h,j,i){if(h!==undefined){var g=h;Adhoc.addAssignee(d,g.name,g.fullName,g.pictureUrl)}},error:function(){}});AJS.dropDown.current.hide();return false};Adhoc.selectAssignee=function(j,h){try{var g=b(this).parents("form");var f=g.find("ol.assignees.select");var d=h.content;Adhoc.addAssignee(f,d.username,d.title,d.thumbnailLink.href);g.find("input.autocomplete-user").val("")}catch(i){}return false};Adhoc.getAssignees=function(e){var d=e.find("ol.assignees.select li, ol.assignees.assignee li");var g="";var f="";d.each(function(){f=f+g+jQuery(this).attr("name");g=","});return f};Adhoc.errorHandler=function(e,d){console.error("Error, check Adhoc.errorData and Adhoc.errorStatus");Adhoc.errorData=e;Adhoc.errorStatus=d};Adhoc.doHidePopup=function(){Adhoc.dialog.hide();return false};Adhoc.generateActionDialog=function(d,e){Adhoc.action=e;d.empty();if(e.hasParameters){d.addClass("parameters")}if(e.showParameters){Adhoc.Form.doFormDialog(e,d)}else{if(e.approvals){Adhoc.Approvals.doDialog(e,d)}else{if(e.states){Adhoc.Workflow.doStateDialog(e,d)}else{b("#adhocWorkflowsLink").addClass("published").unbind("click").click(function(){return false});Adhoc.doHidePopup()}}}d.find("a.parameters").click(Adhoc.Form.showParameters)};Adhoc.getUrlParams=function c(){var e={};var d=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(f,g,h){e[g]=h});return e};Adhoc.submitProgress=function(e){e.find("input, select, a").attr("disabled","disabled");var d=Raphael.spinner(e.find(".progress-messages-icon")[0],7,"#666")};var a=function(g,d,f){g.addClass("adhoc");g.empty();g.append(AJS.template.load("adhocworkflows-loading").fill());f();var e=Raphael.spinner(g.find(".progress-messages-icon")[0],7,"#666");var h=b("#adhocWorkflowsLink");if(h.hasClass("workflow-state")){b.ajax({type:"GET",cache:false,url:AJS.Confluence.getContextPath()+"/rest/adhocworkflows/latest/workflow/"+AJS.params.pageId+"/actions"+(AJS.params.workflowAdmin?"?admin=true":""),success:function(j,k,i){Adhoc.generateActionDialog(g,j)},error:Adhoc.errorHandler})}else{if(h.hasClass("approvalworkflow")){Adhoc.Workflow.doAddApprovalWorkflow()}else{b.ajax({type:"GET",cache:false,url:AJS.Confluence.getContextPath()+"/rest/adhocworkflows/latest/workflow/"+AJS.params.pageId+"/templates",success:function(i,k,j){Adhoc.Workflow.doTemplatesDialog(i,g,j)},error:Adhoc.errorHandler})}}};AJS.toInit(function(f){console.log("initializing Ad hoc Workflows...");f("#labelsString").focus(Adhoc.Workflow.refreshState);if(AJS.params.publishedView){f("#adhocWorkflowsLink").addClass("published").click(function(){return false})}else{if(AJS.params.anonymous){f("#adhocWorkflowsLink").click(function(){return false})}else{Adhoc.dialog=AJS.InlineDialog(f("#adhocWorkflowsLink"),"adhocWorkflowsPopup",a,Adhoc.dialogOptions)}}if(f("#workflow-page-status").length===0){return}var d={stateName:AJS.params.stateName,stateDescription:AJS.params.stateDescription,finalState:AJS.params.finalState,hasFinalState:AJS.params.hasFinalState,publishedView:AJS.params.publishedView,alternateViewStateName:AJS.params.alternateViewStateName,alternateViewUrl:AJS.params.alternateViewUrl,taskable:AJS.params.taskable,hoverDescription:AJS.params.hoverDescription};Adhoc.publishedView=d.publishedView;if(Adhoc.publishedView){f("#viewPageLink").hide();f("#viewPageLink").parents("li").hide()}Adhoc.Workflow.refreshState();try{Adhoc.clickedApprovalId=Adhoc.getUrlParams().approval}catch(g){}})})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.comalatech.workflow:adhocworkflows-resource', location = 'templates/com/comalatech/workflow/common/soy/progresstracker.soy' */
// This file was automatically generated from progresstracker.soy.
// Please don't edit this file by hand.

if (typeof AWP == 'undefined') { var AWP = {}; }
if (typeof AWP.Templates == 'undefined') { AWP.Templates = {}; }


AWP.Templates.progresstracker = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class="', soy.$$escapeHtml(opt_data.el), '"><ol class="aui-progress-tracker">');
  var stateList6 = opt_data.states;
  var stateListLen6 = stateList6.length;
  for (var stateIndex6 = 0; stateIndex6 < stateListLen6; stateIndex6++) {
    var stateData6 = stateList6[stateIndex6];
    output.append('<li ', (stateData6 == '...') ? 'title="' + soy.$$escapeHtml(opt_data.hintHiddenStates) + '"' : '', 'class="aui-progress-tracker-step ', (stateData6 == opt_data.current) ? 'aui-progress-tracker-step-current' : '', ' ', (stateData6 == '...') ? (stateIndex6 == 0) ? 'awp-progress-tracker-step-first' : 'awp-progress-tracker-step-short' : '', '"><span class="', (stateData6 == '...') ? 'awp-progress-tracker-transition' : '', '">', soy.$$escapeHtml(stateData6), '</span></li>');
  }
  output.append('</ol>', (opt_data.stateDescription && opt_data.current != opt_data.stateDescription) ? '<div class="awp-statedesc">' + soy.$$escapeHtml(opt_data.stateDescription) + '</div>' : '', '</div>');
  return opt_sb ? '' : output.toString();
};

} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.comalatech.workflow:adhocworkflows-resource', location = 'templates/com/comalatech/workflow/common/js/view/progresstracker.js' */
var AWP=AWP||{};AWP.ProgressTracker=(function(b,g,a){var f=5,h=false,e="",d="awp-progress-tracker",c=AWP.Templates.progresstracker;initialize=function(){filterStates();if(!a){a=""}};checkStates=function(){var l=false;if(arguments.length>0){g=arguments[0]}var k=b.indexOf(g);if(k>=0){l=true}return l};filterStates=function(){var k=b.length;this.hintHiddenStates="";if(k>f){var n=k-f;var l=0,m=false;while(l<k&&!m){if(b[l]==g){m=true}l++}l--;if(l==0){for(j=0;j<f-2;j++){b[j]=b[l+j]}b[j]="...";b[j+1]=b[k-1];b.splice(f);hiddenStates=k-(l+(f-1));e="+"+hiddenStates+" states"}else{if(l<n){b[0]="...";for(j=1;j<f-2;j++){b[j]=b[l+j]}b[j]="...";b[j+1]=b[k-1];b.splice(f+1);hiddenStates=k-(l+(f-1));e="+"+hiddenStates+" states"}else{b.splice(0,n);b.unshift("...")}}}};render=function(){var i="";if(this.checkStates()){i=c({el:d,states:b,current:g,hintHiddenStates:e,stateDescription:a});h=true}return i};isRendered=function(){return h};$el=function(){return AJS.$("."+d)};initialize();return{$el:$el,checkStates:checkStates,isRendered:isRendered,render:render}});
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:common-webresources', location = '/com/k15t/scroll/platform/ui/common/compatibility.js' */
(function(a){window.Scroll=window.Scroll||{};window.Scroll=AJS.$.extend(true,window.Scroll,{Versions:{Compatibility:{}}});window.Scroll.Versions.Compatibility.backupGlobalVariable=function(b){if(window[b]){window.Scroll.Versions.Compatibility[b]=window[b]}};window.Scroll.Versions.Compatibility.restoreGlobalVariable=function(b){window.Scroll.Versions[b]=window[b];try{delete window[b]}catch(c){window[b]=undefined}if(window.Scroll.Versions.Compatibility[b]){window[b]=window.Scroll.Versions.Compatibility[b];try{delete window.Scroll.Versions.Compatibility[b]}catch(c){window[b]=undefined}}};Scroll.Versions.Compatibility.backupGlobalVariable("_")})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:common-webresources', location = '/com/k15t/scroll/platform/ui/common/underscore.js' */
(function(){var w=this;var k=w._;var D={};var C=Array.prototype,f=Object.prototype,r=Function.prototype;var G=C.push,o=C.slice,y=C.concat,d=f.toString,j=f.hasOwnProperty;var K=C.forEach,q=C.map,E=C.reduce,c=C.reduceRight,b=C.filter,B=C.every,p=C.some,n=C.indexOf,l=C.lastIndexOf,u=Array.isArray,e=Object.keys,F=r.bind;var L=function(M){if(M instanceof L){return M}if(!(this instanceof L)){return new L(M)}this._wrapped=M};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=L}exports._=L}else{w._=L}L.VERSION="1.4.4";var H=L.each=L.forEach=function(R,Q,P){if(R==null){return}if(K&&R.forEach===K){R.forEach(Q,P)}else{if(R.length===+R.length){for(var O=0,M=R.length;O<M;O++){if(Q.call(P,R[O],O,R)===D){return}}}else{for(var N in R){if(L.has(R,N)){if(Q.call(P,R[N],N,R)===D){return}}}}}};L.map=L.collect=function(P,O,N){var M=[];if(P==null){return M}if(q&&P.map===q){return P.map(O,N)}H(P,function(S,Q,R){M[M.length]=O.call(N,S,Q,R)});return M};var g="Reduce of empty array with no initial value";L.reduce=L.foldl=L.inject=function(Q,P,M,O){var N=arguments.length>2;if(Q==null){Q=[]}if(E&&Q.reduce===E){if(O){P=L.bind(P,O)}return N?Q.reduce(P,M):Q.reduce(P)}H(Q,function(T,R,S){if(!N){M=T;N=true}else{M=P.call(O,M,T,R,S)}});if(!N){throw new TypeError(g)}return M};L.reduceRight=L.foldr=function(S,P,M,O){var N=arguments.length>2;if(S==null){S=[]}if(c&&S.reduceRight===c){if(O){P=L.bind(P,O)}return N?S.reduceRight(P,M):S.reduceRight(P)}var R=S.length;if(R!==+R){var Q=L.keys(S);R=Q.length}H(S,function(V,T,U){T=Q?Q[--R]:--R;if(!N){M=S[T];N=true}else{M=P.call(O,M,S[T],T,U)}});if(!N){throw new TypeError(g)}return M};L.find=L.detect=function(P,O,N){var M;A(P,function(S,Q,R){if(O.call(N,S,Q,R)){M=S;return true}});return M};L.filter=L.select=function(P,O,N){var M=[];if(P==null){return M}if(b&&P.filter===b){return P.filter(O,N)}H(P,function(S,Q,R){if(O.call(N,S,Q,R)){M[M.length]=S}});return M};L.reject=function(O,N,M){return L.filter(O,function(R,P,Q){return !N.call(M,R,P,Q)},M)};L.every=L.all=function(P,O,N){O||(O=L.identity);var M=true;if(P==null){return M}if(B&&P.every===B){return P.every(O,N)}H(P,function(S,Q,R){if(!(M=M&&O.call(N,S,Q,R))){return D}});return !!M};var A=L.some=L.any=function(P,O,N){O||(O=L.identity);var M=false;if(P==null){return M}if(p&&P.some===p){return P.some(O,N)}H(P,function(S,Q,R){if(M||(M=O.call(N,S,Q,R))){return D}});return !!M};L.contains=L.include=function(N,M){if(N==null){return false}if(n&&N.indexOf===n){return N.indexOf(M)!=-1}return A(N,function(O){return O===M})};L.invoke=function(O,P){var M=o.call(arguments,2);var N=L.isFunction(P);return L.map(O,function(Q){return(N?P:Q[P]).apply(Q,M)})};L.pluck=function(N,M){return L.map(N,function(O){return O[M]})};L.where=function(N,M,O){if(L.isEmpty(M)){return O?null:[]}return L[O?"find":"filter"](N,function(Q){for(var P in M){if(M[P]!==Q[P]){return false}}return true})};L.findWhere=function(N,M){return L.where(N,M,true)};L.max=function(P,O,N){if(!O&&L.isArray(P)&&P[0]===+P[0]&&P.length<65535){return Math.max.apply(Math,P)}if(!O&&L.isEmpty(P)){return -Infinity}var M={computed:-Infinity,value:-Infinity};H(P,function(T,Q,S){var R=O?O.call(N,T,Q,S):T;R>=M.computed&&(M={value:T,computed:R})});return M.value};L.min=function(P,O,N){if(!O&&L.isArray(P)&&P[0]===+P[0]&&P.length<65535){return Math.min.apply(Math,P)}if(!O&&L.isEmpty(P)){return Infinity}var M={computed:Infinity,value:Infinity};H(P,function(T,Q,S){var R=O?O.call(N,T,Q,S):T;R<M.computed&&(M={value:T,computed:R})});return M.value};L.shuffle=function(P){var O;var N=0;var M=[];H(P,function(Q){O=L.random(N++);M[N-1]=M[O];M[O]=Q});return M};var a=function(M){return L.isFunction(M)?M:function(N){return N[M]}};L.sortBy=function(P,O,M){var N=a(O);return L.pluck(L.map(P,function(S,Q,R){return{value:S,index:Q,criteria:N.call(M,S,Q,R)}}).sort(function(T,S){var R=T.criteria;var Q=S.criteria;if(R!==Q){if(R>Q||R===void 0){return 1}if(R<Q||Q===void 0){return -1}}return T.index<S.index?-1:1}),"value")};var t=function(R,Q,N,P){var M={};var O=a(Q||L.identity);H(R,function(U,S){var T=O.call(N,U,S,R);P(M,T,U)});return M};L.groupBy=function(O,N,M){return t(O,N,M,function(P,Q,R){(L.has(P,Q)?P[Q]:(P[Q]=[])).push(R)})};L.countBy=function(O,N,M){return t(O,N,M,function(P,Q){if(!L.has(P,Q)){P[Q]=0}P[Q]++})};L.sortedIndex=function(T,S,P,O){P=P==null?L.identity:a(P);var R=P.call(O,S);var M=0,Q=T.length;while(M<Q){var N=(M+Q)>>>1;P.call(O,T[N])<R?M=N+1:Q=N}return M};L.toArray=function(M){if(!M){return[]}if(L.isArray(M)){return o.call(M)}if(M.length===+M.length){return L.map(M,L.identity)}return L.values(M)};L.size=function(M){if(M==null){return 0}return(M.length===+M.length)?M.length:L.keys(M).length};L.first=L.head=L.take=function(O,N,M){if(O==null){return void 0}return(N!=null)&&!M?o.call(O,0,N):O[0]};L.initial=function(O,N,M){return o.call(O,0,O.length-((N==null)||M?1:N))};L.last=function(O,N,M){if(O==null){return void 0}if((N!=null)&&!M){return o.call(O,Math.max(O.length-N,0))}else{return O[O.length-1]}};L.rest=L.tail=L.drop=function(O,N,M){return o.call(O,(N==null)||M?1:N)};L.compact=function(M){return L.filter(M,L.identity)};var x=function(N,O,M){H(N,function(P){if(L.isArray(P)){O?G.apply(M,P):x(P,O,M)}else{M.push(P)}});return M};L.flatten=function(N,M){return x(N,M,[])};L.without=function(M){return L.difference(M,o.call(arguments,1))};L.uniq=L.unique=function(S,R,Q,P){if(L.isFunction(R)){P=Q;Q=R;R=false}var N=Q?L.map(S,Q,P):S;var O=[];var M=[];H(N,function(U,T){if(R?(!T||M[M.length-1]!==U):!L.contains(M,U)){M.push(U);O.push(S[T])}});return O};L.union=function(){return L.uniq(y.apply(C,arguments))};L.intersection=function(N){var M=o.call(arguments,1);return L.filter(L.uniq(N),function(O){return L.every(M,function(P){return L.indexOf(P,O)>=0})})};L.difference=function(N){var M=y.apply(C,o.call(arguments,1));return L.filter(N,function(O){return !L.contains(M,O)})};L.zip=function(){var M=o.call(arguments);var P=L.max(L.pluck(M,"length"));var O=new Array(P);for(var N=0;N<P;N++){O[N]=L.pluck(M,""+N)}return O};L.object=function(Q,O){if(Q==null){return{}}var M={};for(var P=0,N=Q.length;P<N;P++){if(O){M[Q[P]]=O[P]}else{M[Q[P][0]]=Q[P][1]}}return M};L.indexOf=function(Q,O,P){if(Q==null){return -1}var N=0,M=Q.length;if(P){if(typeof P=="number"){N=(P<0?Math.max(0,M+P):P)}else{N=L.sortedIndex(Q,O);return Q[N]===O?N:-1}}if(n&&Q.indexOf===n){return Q.indexOf(O,P)}for(;N<M;N++){if(Q[N]===O){return N}}return -1};L.lastIndexOf=function(Q,O,P){if(Q==null){return -1}var M=P!=null;if(l&&Q.lastIndexOf===l){return M?Q.lastIndexOf(O,P):Q.lastIndexOf(O)}var N=(M?P:Q.length);while(N--){if(Q[N]===O){return N}}return -1};L.range=function(R,P,Q){if(arguments.length<=1){P=R||0;R=0}Q=arguments[2]||1;var N=Math.max(Math.ceil((P-R)/Q),0);var M=0;var O=new Array(N);while(M<N){O[M++]=R;R+=Q}return O};L.bind=function(O,N){if(O.bind===F&&F){return F.apply(O,o.call(arguments,1))}var M=o.call(arguments,2);return function(){return O.apply(N,M.concat(o.call(arguments)))}};L.partial=function(N){var M=o.call(arguments,1);return function(){return N.apply(this,M.concat(o.call(arguments)))}};L.bindAll=function(N){var M=o.call(arguments,1);if(M.length===0){M=L.functions(N)}H(M,function(O){N[O]=L.bind(N[O],N)});return N};L.memoize=function(O,N){var M={};N||(N=L.identity);return function(){var P=N.apply(this,arguments);return L.has(M,P)?M[P]:(M[P]=O.apply(this,arguments))}};L.delay=function(N,O){var M=o.call(arguments,2);return setTimeout(function(){return N.apply(null,M)},O)};L.defer=function(M){return L.delay.apply(L,[M,1].concat(o.call(arguments,1)))};L.throttle=function(R,T){var P,O,S,M;var Q=0;var N=function(){Q=new Date;S=null;M=R.apply(P,O)};return function(){var U=new Date;var V=T-(U-Q);P=this;O=arguments;if(V<=0){clearTimeout(S);S=null;Q=U;M=R.apply(P,O)}else{if(!S){S=setTimeout(N,V)}}return M}};L.debounce=function(O,Q,N){var P,M;return function(){var U=this,T=arguments;var S=function(){P=null;if(!N){M=O.apply(U,T)}};var R=N&&!P;clearTimeout(P);P=setTimeout(S,Q);if(R){M=O.apply(U,T)}return M}};L.once=function(O){var M=false,N;return function(){if(M){return N}M=true;N=O.apply(this,arguments);O=null;return N}};L.wrap=function(M,N){return function(){var O=[M];G.apply(O,arguments);return N.apply(this,O)}};L.compose=function(){var M=arguments;return function(){var N=arguments;for(var O=M.length-1;O>=0;O--){N=[M[O].apply(this,N)]}return N[0]}};L.after=function(N,M){if(N<=0){return M()}return function(){if(--N<1){return M.apply(this,arguments)}}};L.keys=e||function(O){if(O!==Object(O)){throw new TypeError("Invalid object")}var N=[];for(var M in O){if(L.has(O,M)){N[N.length]=M}}return N};L.values=function(O){var M=[];for(var N in O){if(L.has(O,N)){M.push(O[N])}}return M};L.pairs=function(O){var N=[];for(var M in O){if(L.has(O,M)){N.push([M,O[M]])}}return N};L.invert=function(O){var M={};for(var N in O){if(L.has(O,N)){M[O[N]]=N}}return M};L.functions=L.methods=function(O){var N=[];for(var M in O){if(L.isFunction(O[M])){N.push(M)}}return N.sort()};L.extend=function(M){H(o.call(arguments,1),function(N){if(N){for(var O in N){M[O]=N[O]}}});return M};L.pick=function(N){var O={};var M=y.apply(C,o.call(arguments,1));H(M,function(P){if(P in N){O[P]=N[P]}});return O};L.omit=function(O){var P={};var N=y.apply(C,o.call(arguments,1));for(var M in O){if(!L.contains(N,M)){P[M]=O[M]}}return P};L.defaults=function(M){H(o.call(arguments,1),function(N){if(N){for(var O in N){if(M[O]==null){M[O]=N[O]}}}});return M};L.clone=function(M){if(!L.isObject(M)){return M}return L.isArray(M)?M.slice():L.extend({},M)};L.tap=function(N,M){M(N);return N};var I=function(T,S,N,O){if(T===S){return T!==0||1/T==1/S}if(T==null||S==null){return T===S}if(T instanceof L){T=T._wrapped}if(S instanceof L){S=S._wrapped}var Q=d.call(T);if(Q!=d.call(S)){return false}switch(Q){case"[object String]":return T==String(S);case"[object Number]":return T!=+T?S!=+S:(T==0?1/T==1/S:T==+S);case"[object Date]":case"[object Boolean]":return +T==+S;case"[object RegExp]":return T.source==S.source&&T.global==S.global&&T.multiline==S.multiline&&T.ignoreCase==S.ignoreCase}if(typeof T!="object"||typeof S!="object"){return false}var M=N.length;while(M--){if(N[M]==T){return O[M]==S}}N.push(T);O.push(S);var V=0,W=true;if(Q=="[object Array]"){V=T.length;W=V==S.length;if(W){while(V--){if(!(W=I(T[V],S[V],N,O))){break}}}}else{var R=T.constructor,P=S.constructor;if(R!==P&&!(L.isFunction(R)&&(R instanceof R)&&L.isFunction(P)&&(P instanceof P))){return false}for(var U in T){if(L.has(T,U)){V++;if(!(W=L.has(S,U)&&I(T[U],S[U],N,O))){break}}}if(W){for(U in S){if(L.has(S,U)&&!(V--)){break}}W=!V}}N.pop();O.pop();return W};L.isEqual=function(N,M){return I(N,M,[],[])};L.isEmpty=function(N){if(N==null){return true}if(L.isArray(N)||L.isString(N)){return N.length===0}for(var M in N){if(L.has(N,M)){return false}}return true};L.isElement=function(M){return !!(M&&M.nodeType===1)};L.isArray=u||function(M){return d.call(M)=="[object Array]"};L.isObject=function(M){return M===Object(M)};H(["Arguments","Function","String","Number","Date","RegExp"],function(M){L["is"+M]=function(N){return d.call(N)=="[object "+M+"]"}});if(!L.isArguments(arguments)){L.isArguments=function(M){return !!(M&&L.has(M,"callee"))}}if(typeof(/./)!=="function"){L.isFunction=function(M){return typeof M==="function"}}L.isFinite=function(M){return isFinite(M)&&!isNaN(parseFloat(M))};L.isNaN=function(M){return L.isNumber(M)&&M!=+M};L.isBoolean=function(M){return M===true||M===false||d.call(M)=="[object Boolean]"};L.isNull=function(M){return M===null};L.isUndefined=function(M){return M===void 0};L.has=function(N,M){return j.call(N,M)};L.noConflict=function(){w._=k;return this};L.identity=function(M){return M};L.times=function(Q,P,O){var M=Array(Q);for(var N=0;N<Q;N++){M[N]=P.call(O,N)}return M};L.random=function(N,M){if(M==null){M=N;N=0}return N+Math.floor(Math.random()*(M-N+1))};var m={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};m.unescape=L.invert(m.escape);var J={escape:new RegExp("["+L.keys(m.escape).join("")+"]","g"),unescape:new RegExp("("+L.keys(m.unescape).join("|")+")","g")};L.each(["escape","unescape"],function(M){L[M]=function(N){if(N==null){return""}return(""+N).replace(J[M],function(O){return m[M][O]})}});L.result=function(M,O){if(M==null){return null}var N=M[O];return L.isFunction(N)?N.call(M):N};L.mixin=function(M){H(L.functions(M),function(N){var O=L[N]=M[N];L.prototype[N]=function(){var P=[this._wrapped];G.apply(P,arguments);return s.call(this,O.apply(L,P))}})};var z=0;L.uniqueId=function(M){var N=++z+"";return M?M+N:N};L.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var v=/(.)^/;var h={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"};var i=/\\|'|\r|\n|\t|\u2028|\u2029/g;L.template=function(U,P,O){var N;O=L.defaults({},O,L.templateSettings);var Q=new RegExp([(O.escape||v).source,(O.interpolate||v).source,(O.evaluate||v).source].join("|")+"|$","g");var R=0;var M="__p+='";U.replace(Q,function(W,X,V,Z,Y){M+=U.slice(R,Y).replace(i,function(aa){return"\\"+h[aa]});if(X){M+="'+\n((__t=("+X+"))==null?'':_.escape(__t))+\n'"}if(V){M+="'+\n((__t=("+V+"))==null?'':__t)+\n'"}if(Z){M+="';\n"+Z+"\n__p+='"}R=Y+W.length;return W});M+="';\n";if(!O.variable){M="with(obj||{}){\n"+M+"}\n"}M="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+M+"return __p;\n";try{N=new Function(O.variable||"obj","_",M)}catch(S){S.source=M;throw S}if(P){return N(P,L)}var T=function(V){return N.call(this,V,L)};T.source="function("+(O.variable||"obj")+"){\n"+M+"}";return T};L.chain=function(M){return L(M).chain()};var s=function(M){return this._chain?L(M).chain():M};L.mixin(L);H(["pop","push","reverse","shift","sort","splice","unshift"],function(M){var N=C[M];L.prototype[M]=function(){var O=this._wrapped;N.apply(O,arguments);if((M=="shift"||M=="splice")&&O.length===0){delete O[0]}return s.call(this,O)}});H(["concat","join","slice"],function(M){var N=C[M];L.prototype[M]=function(){return s.call(this,N.apply(this._wrapped,arguments))}});L.extend(L.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}})}).call(this);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:common-webresources', location = '/com/k15t/scroll/platform/ui/common/compatibility-postprocessing.js' */
(function(a){Scroll.Versions.Compatibility.restoreGlobalVariable("_")})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:common-webresources', location = '/com/k15t/scroll/platform/ui/common/jquery.serialize-object.js' */
(function(a){return a.fn.serializeObject=function(){var c,d,b,e=this;c={};b={};d={validate:/^[a-zA-Z][a-zA-Z0-9_]*(?:\[(?:\d*|[a-zA-Z0-9_]+)\])*$/,key:/[a-zA-Z0-9_]+|(?=\[\])/g,push:/^$/,fixed:/^\d+$/,named:/^[a-zA-Z0-9_]+$/};this.build=function(h,f,g){h[f]=g;return h};this.push_counter=function(f){if(b[f]===void 0){b[f]=0}return b[f]++};a.each(a(this).serializeArray(),function(g,l){var f,j,n,h,m;if(!d.validate.test(l.name)){return}j=l.name.match(d.key);n=l.value;m=l.name;while((f=j.pop())!==void 0){if(d.push.test(f)){h=new RegExp("\\["+f+"\\]$");m=m.replace(h,"");n=e.build([],e.push_counter(m),n)}else{if(d.fixed.test(f)){n=e.build([],f,n)}else{if(d.named.test(f)){n=e.build({},f,n)}}}}return c=a.extend(true,c,n)});return c}})(jQuery);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:common-webresources', location = '/com/k15t/scroll/platform/ui/common/context.js' */
(function(d,b){AJS.toInit(function(){if(d(".sv-context").length){window.Scroll.Versions.Context.init(d(".sv-context").data("scrollVersionsContext"))}});window.Scroll.Versions.Context=window.Scroll.Versions.Context||{};window.Scroll.Versions.Context.init=function(f){var e=window.Scroll.Versions.Context.init;window.Scroll.Versions.Context=f;window.Scroll.Versions.Context.init=e;a();c()};var a=function(){var e=function(){return Scroll.Versions.Context.user.permissions.ManageContent&&Scroll.Versions.Context.user.settings.isShowArchivedVersions};Scroll.Versions.Context.space.versions=[];d.each(Scroll.Versions.Context.space.allVersions,function(g,f){if(e()||!f.isArchived){Scroll.Versions.Context.space.versions.push(f)}})};var c=function(){window.Scroll.Versions.Context.getVersion=function(g,e){if(g==="current"){return{versionId:"current",name:"Currently Published"}}var f=null;d.each(Scroll.Versions.Context.versions,function(h,i){if(i.versionId==g){if(e||!i.isArchived){f=i}return false}});return f};window.Scroll.Versions.Context.getVariant=function(e){return b.find(Scroll.Versions.Context.space.allVariants,function(f){return(f.id===e)})}}})(AJS.$,Scroll.Versions._);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:common-webresources', location = '/com/k15t/scroll/platform/ui/common/events.js' */
(function(a){SV_CONTEXT_RESOURCE=contextPath+"\/rest\/scroll-versions\/1.0"+"/context";window.Scroll.Versions.Events={};window.Scroll.Versions.Events.bind=function(b,c){a(window).bind(b,c)};window.Scroll.Versions.Events.trigger=function(b){if(b==="contextChange"){a.getJSON(SV_CONTEXT_RESOURCE,{spaceKey:AJS.params.spaceKey,confluencePageId:AJS.params.pageId},function(c){window.Scroll.Versions.Context.init(c);a(window).trigger(b)})}else{a(window).trigger(b)}}})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:common-webresources', location = '/com/k15t/scroll/platform/ui/common/utils.js' */
(function(a){window.Scroll.Versions.Utils={};window.Scroll.Versions.Utils.htmlEscape=function(b){return a("<div/>").text(b).html()};window.Scroll.Versions.Utils.htmlUnescape=function(c){a("body").append("<div class='k15t-temp'/>");var b=a("body > .k15t-temp").html(c).text();a("body > .k15t-temp").remove();return b};window.Scroll.Versions.urlEncode=function(b){return encodeURI(b.replace(/ /g,"+"))};window.Scroll.Versions.Utils.escapeCssSelector=function(b){var c=["#","&","~","=",">","'","@",":",'"',"!",";",","];var e=[".","*","+","|","[","]","(",")","/","^","$"];var d=new RegExp("("+c.join("|")+"|\\"+e.join("|\\")+")","g");return b.replace(d,"\\$1")};window.Scroll.Versions.Utils.parseError=function(b){var c;try{c=JSON.parse(b)}catch(d){c={title:"Unknown Error",message:b}}return c}})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:common-webresources', location = '/com/k15t/scroll/platform/ui/common/dialog.soy' */
// This file was automatically generated from dialog.soy.
// Please don't edit this file by hand.

if (typeof Scroll == 'undefined') { var Scroll = {}; }
if (typeof Scroll.Versions == 'undefined') { Scroll.Versions = {}; }
if (typeof Scroll.Versions.Templates == 'undefined') { Scroll.Versions.Templates = {}; }
if (typeof Scroll.Versions.Templates.Dialog == 'undefined') { Scroll.Versions.Templates.Dialog = {}; }


Scroll.Versions.Templates.Dialog.userMessage = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class="aui-message closeable shadowed ', soy.$$escapeHtml(opt_data.severity), '">', (opt_data.title) ? '<p class="title"><span class="aui-icon icon-' + soy.$$escapeHtml(opt_data.severity) + '"></span>' + ((opt_data.autoEscape == false) ? '<strong>' + opt_data.title + '</strong>' : '<strong>' + soy.$$escapeHtml(opt_data.title) + '</strong>') + '</p>' : '', (opt_data.message) ? (opt_data.autoEscape == false) ? '<p>' + opt_data.message + '</p>' : '<p>' + soy.$$escapeHtml(opt_data.message) + '</p>' : '', '</div>');
  return opt_sb ? '' : output.toString();
};


Scroll.Versions.Templates.Dialog.dialogFooter = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<span class="sv-footertext"><span><a href="', soy.$$escapeHtml("http://www.k15t.com/software/scroll-versions"), '" target="_new">', soy.$$escapeHtml("Scroll Content Management Add-ons"), '</a>, ', soy.$$escapeHtml(opt_data.version), ' | <a href="', soy.$$escapeHtml("http://www.k15t.com/display/VSN"), '" target="_new">', soy.$$escapeHtml("Get Help"), '</a></span></span>');
  return opt_sb ? '' : output.toString();
};

} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:common-webresources', location = '/com/k15t/scroll/platform/ui/common/dialog.js' */
(function(b){window.Scroll=window.Scroll||{};window.Scroll=AJS.$.extend(true,window.Scroll,{Versions:{}});Scroll.Versions.Dialog=function(c){var e;c.width=(c.maximize?(window.innerWidth-30):(c.width||800));c.height=(c.maximize?(window.innerHeight-80):(c.height||480));c.keypressListener=function(m){if(m.keyCode===27&&e.popup.element.is(":visible")){var g=e.popup.element;var l=parseInt(g.css("zIndex"),10);var f=b(".aui-dialog:visible");for(var j=0;j<f.size();++j){var h=f.eq(j);var k=parseInt(h.css("zIndex"),10);if(k>l&&!g.is(h)){return}}m.stopImmediatePropagation();e.hide()}};e=b.extend(new AJS.Dialog(c||{}),this);if(c.maximize){b(window).unbind("resize.pagediff").bind("resize.pagediff",function(){b("#k15t-com-compareto-dialog").css({height:(b(window).height()-80),width:(b(window).width()-30),"margin-top":-(b(window).height()-80)/2,"margin-left":-(b(window).width()-30)/2}).find(".dialog-panel-body").css({height:(b(window).height()-80)-106})}).trigger("resize")}e.showUserMessage=function(f,j,h,i){f=f.toLowerCase();i=(typeof(a)!="undefined")?true:i;AJS.log("[Scroll Versions] user message ("+f+"): "+h);var g=b(e.getCurrentPanel().body);if(!g.find(".user-feedback").length){g.prepend('<div class="user-feedback" />')}g.find(".user-feedback").html(Scroll.Versions.Templates.Dialog.userMessage({severity:f,message:h,title:j,autoEscape:i}))};e.showHtmlUserMessage=function(f,i,h){if(arguments.length>3){var j=Array.prototype.slice.call(arguments).slice(3);b(j).each(function(k,l){j[k]=AJS.escapeHtml(l)});i=AJS.format.apply(AJS,[i].concat(j));h=AJS.format.apply(AJS,[h].concat(j))}f=f.toLowerCase();AJS.log("[Scroll Versions] user message ("+f+"): "+h);var g=b(e.getCurrentPanel().body);if(!g.find(".user-feedback").length){g.prepend('<div class="user-feedback" />')}g.find(".user-feedback").html(Scroll.Versions.Templates.Dialog.userMessage({severity:f,message:h,title:i,autoEscape:false}))};e.hideUserMessages=function(){b(e.popup.element).find(".user-feedback").html("")};e.find=function(f){return b(e.popup.element).find(f)};e.onSuccess=function(h,k,i,f,g){e.enable();i.hide();if(f.urlPath){var j=contextPath+f.urlPath;e.showUserMessage(g,f.userMessageTitle,AJS.format(f.userMessageDetails,j));var l=setTimeout(function(){if(!e.opts.beforeRedirectCallback||e.opts.beforeRedirectCallback(e)){window.location.href=j}},e.opts.waitBeforeRedirect)}else{e.showUserMessage(g,f.userMessageTitle,AJS.format(f.userMessageDetails,j));var l=setTimeout(function(){e.cancel()},e.opts.waitBeforeRedirect)}};e.submit=function(h,k,g,f){var j=undefined;if(g&&g.length){j=g}if(!j){j=h.getCurrentPanel().body.find("form")}if(!j){AJS.log("[Scroll Versions] Form for dialog '"+e.opts.header+"' not found");return}var i=b(e.popup.element).find(".dialog-button-panel button");b.ajax({type:j.attr("method"),url:j.attr("action"),contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:j.serialize(),timeout:e.opts.ajaxTimeout,beforeSend:function(m,l){e.disable();i.attr("disabled",true)},complete:function(m,o){j.find(".error").html("");var l;try{l=jQuery.parseJSON(m.responseText)}catch(n){e.enable();j.hide();AJS.log("[Scroll Versions] Could not parse response text: "+m.responseText);e.showUserMessage("error","Unknown Error","An unknown error has occurred while processing the server response. Please contact your administrator.");return}if(o==="success"&&m.status==200){e.opts.onSuccess(h,k,j,l,l.severity)}else{if(o==="error"&&m.status==400){e.enable();i.attr("disabled",false);e.hideUserMessages();b.each(l.fieldErrors,function(p,q){AJS.log("[Scroll Versions] Field Validation Error with '"+p+"': "+q);b(j.find("[name="+p+"] ~ .error")).html(q).show()});e.showUserMessage("error",l.title,l.message)}else{if(o==="error"&&(b.inArray(m.status,[403,404,409,500,503])!=-1)){e.enable();j.hide();e.showUserMessage("error",l.title,l.message,l.autoEscape)}else{e.showUserMessage("error","Unknown Error","An unknown error has occurred while processing the server response. Please contact your administrator.")}}}}})};e._fixBlankets=function(){this.$blanket=AJS("div").addClass("sv-dialog-blanket");this.$blanket.css("z-index",this.popup.element.css("z-index")-1).appendTo("body").show().click(function(){if(c.closeOnOutsideClick){e.close()}});AJS.dim.$dim.hide()};e.addClass=function(f){b(e.popup.element).addClass(f)};e.cancel=function(){e.hideUserMessages();b(e.popup.element).find("form.aui input, form.aui select").each(function(f){b(this).val(b(this).attr("data-original-value"))});b(e.popup.element).find("form.aui .error").html("");b(e.popup.element).find(".dialog-button-panel button").attr("disabled",false);b(e.popup.element).find("form").show();e.hide()};e._hide=e.hide;e.hide=function(){e._hide();this.$blanket.remove()};e._remove=e.remove;e.remove=function(){e._remove();this.$blanket.remove()};e._addCancel=e.addCancel;e.addCancel=function(f){e.addLink("Cancel",f||e.cancel)};e.addClose=function(f){e.addButton("Close",f||e.cancel)};e._addHeader=e.addHeader;e.addHeader=function(g,f){e._addHeader(g,f||"sv-dialog-heading")};e.addNextPageButton=function(f){e.addButton(f||"Next",function(g){g.nextPage()})};e._show=e.show;var d=false;e.show=function(){if(!d){b(e.popup.element).find("form.aui input, form.aui select").each(function(g){b(this).attr("data-original-value",b(this).val())});if(!c.omitK15tFooter){b(e.popup.element).find(".dialog-button-panel").prepend(Scroll.Versions.Templates.Dialog.dialogFooter({version:Scroll.Versions.Context.product.version}))}e.find("form").bind("submit",function(g){g.preventDefault();e.submit(e,null,b(this))});b(e.popup.element).find("form input, form select").unbind("keypress.submit_on_enter").bind("keypress.submit_on_enter",function(g){if(g.keyCode==13){e.submit(e)}});var f=e.opts.tabIdxStart;b("input, select, button, .button-panel-link").each(function(){if(this.type!="hidden"){var g=b(this);g.attr("tabindex",f);f++}});d=true}e.gotoPage(0);e._show();e._fixBlankets()};e.opts=b.extend({maximize:c.maximize||false,closeOnOutsideClick:c.closeOnOutsideClick||false,onSuccess:c.onSuccess||e.onSuccess,ajaxTimeout:c.ajaxTimeout||12000,waitBeforeRedirect:c.waitBeforeRedirect||500},c);return e};Scroll.Versions.Dialog.alert=function(f,c,e){var d=new Scroll.Versions.Dialog({id:"sv-alert",height:240,width:640});d.addHeader(f.title);d.addPanel("","","sv-dialog-alert");d.showUserMessage("error",f.message,"",!c);d.addButton("Close",function(){d.hide();d=null});d.show()}})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:common-webresources', location = '/com/k15t/scroll/platform/ui/common/message-dialog.soy' */
// This file was automatically generated from message-dialog.soy.
// Please don't edit this file by hand.

if (typeof Scroll == 'undefined') { var Scroll = {}; }
if (typeof Scroll.Versions == 'undefined') { Scroll.Versions = {}; }
if (typeof Scroll.Versions.Templates == 'undefined') { Scroll.Versions.Templates = {}; }
if (typeof Scroll.Versions.Templates.MessageDialog == 'undefined') { Scroll.Versions.Templates.MessageDialog = {}; }


Scroll.Versions.Templates.MessageDialog.messagesDialogPanel = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class="sv-message-dialog-panel"><div class="aui-message warning"><p class="title"><span class="aui-icon icon-warning"></span><span style="font-weight: normal;">', soy.$$escapeHtml("Please review the following items for potential problems."), '</span></p></div><div class="scrollable-messages-container"><ul>');
  var messageList6 = opt_data.messages.errors;
  var messageListLen6 = messageList6.length;
  for (var messageIndex6 = 0; messageIndex6 < messageListLen6; messageIndex6++) {
    var messageData6 = messageList6[messageIndex6];
    output.append('<li class="user-message error">', messageData6.text, '</li>');
  }
  output.append('</ul><ul>');
  var messageList13 = opt_data.messages.warnings;
  var messageListLen13 = messageList13.length;
  for (var messageIndex13 = 0; messageIndex13 < messageListLen13; messageIndex13++) {
    var messageData13 = messageList13[messageIndex13];
    output.append('<li class="user-message warning">', messageData13.text, '</li>');
  }
  output.append('</ul><ul>');
  var messageList20 = opt_data.messages.infos;
  var messageListLen20 = messageList20.length;
  for (var messageIndex20 = 0; messageIndex20 < messageListLen20; messageIndex20++) {
    var messageData20 = messageList20[messageIndex20];
    output.append('<li class="user-message info">', messageData20.text, '</li>');
  }
  output.append('</ul></div></div>');
  return opt_sb ? '' : output.toString();
};


Scroll.Versions.Templates.MessageDialog.messagesIndicators = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append((opt_data.label) ? '<span class="sv-messages-indicators-label">' + soy.$$escapeHtml(opt_data.label) + '&nbsp;</span>' : '', (opt_data.messages.errors.length > 0) ? '<span class="lozenge lozenge-error">' + soy.$$escapeHtml(opt_data.messages.errors.length) + '&nbsp;' + ((opt_data.messages.errors.length > 1) ? soy.$$escapeHtml("Errors") : soy.$$escapeHtml("Error")) + '</span>' : '', (opt_data.messages.warnings.length > 0) ? '<span class="lozenge lozenge-warning">' + soy.$$escapeHtml(opt_data.messages.warnings.length) + '&nbsp;' + ((opt_data.messages.warnings.length > 1) ? soy.$$escapeHtml("Warnings") : soy.$$escapeHtml("Warning")) + '</span>' : '', (opt_data.messages.infos.length > 0) ? '<span class="lozenge lozenge-info">' + soy.$$escapeHtml(opt_data.messages.infos.length) + '&nbsp;' + ((opt_data.messages.infos.length > 1) ? soy.$$escapeHtml("Messages") : soy.$$escapeHtml("Message")) + '</span>' : '', (opt_data.messages.errors.length > 0 || opt_data.messages.warnings.length > 0 || opt_data.messages.infos.length > 0) ? '<a class="sv-message-dialog-opener" href="#">' + soy.$$escapeHtml("Show") + '</a>' : '');
  return opt_sb ? '' : output.toString();
};

} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:common-webresources', location = '/com/k15t/scroll/platform/ui/common/message-dialog.js' */
(function(a){Scroll.Versions.Messages={};Scroll.Versions.Messages.getGroupedUserMessages=function(d){var b={errors:[],warnings:[],infos:[]};if(a.isArray(d)){for(var c=0;c<d.length;c++){if(d[c].severity=="error"){b.errors.push(d[c])}else{if(d[c].severity=="warning"){b.warnings.push(d[c])}else{if(d[c].severity=="info"){b.infos.push(d[c])}}}}}else{a.extend(b,d)}return b};Scroll.Versions.Messages.appendMessageIndicators=function(f,e,c,d){var b=Scroll.Versions.Messages.getGroupedUserMessages(e);a(f).html(Scroll.Versions.Templates.MessageDialog.messagesIndicators({label:d||"",messages:b}));a(f).find(".sv-message-dialog-opener").click(function(){new Scroll.Versions.Messages.Dialog(b,{header:c||""}).open()})};Scroll.Versions.Messages.Dialog=function(e,c){var d=this;var b=c.header||"Messages";var g=Scroll.Versions.Context.getVersion(c.versionId,true);var f=Scroll.Versions.Messages.getGroupedUserMessages(e);d.open=function(){var h=new Scroll.Versions.Dialog({height:c.height||540,width:c.width||860});h.addHeader(b);h.addPanel("messages-panel","","sv-messages");h.addClose(function(i,j){i.remove()});a(h.getCurrentPanel().body).html(Scroll.Versions.Templates.MessageDialog.messagesDialogPanel({messages:f}));h.show()};return d}})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:common-webresources', location = '/com/k15t/scroll/platform/ui/common/infopopup.js' */
(function(c){AJS.toInit(function(){c(".sv-infopopup-container .sv-infopopup-container").removeClass("sv-infopopup-container");c.each(c(".sv-infopopup-container"),function(){new Scroll.Versions.InfoPopup(c(this))})});window.Scroll=window.Scroll||{};window.Scroll=AJS.$.extend(true,window.Scroll,{Versions:{}});var b=0;Scroll.Versions.InfoPopup=function(d){new AJS.InlineDialog(d,"sv-infopopup-"+b++,function(i,g,j){var f=d.data("svInfopopupTemplate");var h=a(window,f);var e=h(d.data());i.html(e);j()},{noBind:true,onHover:true,hideDelay:100,calculatePositions:function(g,i,l,h){var f=c(i.target).closest(".sv-infopopup-container");var j=f.offset();var e={top:j.top-10-c(g).height(),left:j.left-13,right:"auto"};var k={top:c(g).height()-9,left:25};return{displayAbove:true,popupCss:e,arrowCss:k}},getArrowAttributes:function(){return{fill:"#FFFFFF",stroke:"#BBBBBB"}}})};function a(e,f){var d=f.split(".");while(d.length&&(e=e[d.shift()])){}return e}})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:common-webresources', location = '/com/k15t/scroll/platform/ui/common/tooltip.js' */
(function(a){AJS.toInit(function(){var b=0;a.each(a(".sv-tooltip"),function(c,d){new AJS.InlineDialog(a(d),"id_"+b++,function(f,e,g){if(a(e).data("ttText")){f.html('<p style="margin: 0.5em 0.5em 0.3em 0.5em;">'+a(e).data("ttText")+"</p>");g()}},{noBind:true,onHover:true,hideDelay:100,width:a(d).data("ttWidth")||"auto"})})})})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:common-webresources', location = '/com/k15t/scroll/platform/ui/common/loadingblanket.js' */
(function(a){window.Scroll=window.Scroll||{};window.Scroll.Versions=window.Scroll.Versions||{};window.Scroll.Versions.LoadingBlanket={show:function(f){var b=a(f);var d=b.next(".loading-overlay");if(!d.length||d.is(":visible")){d=a('<div class="loading-overlay sv-spinner"/>');d.insertAfter(b)}var c={position:"absolute"};var e={};var g=function(j){e=jQuery.extend(e,c);var h=b.position();var m=b.css(["margin-top","margin-left","border-top-width","border-left-width","z-index"]);e.top=h.top+parseInt(b.css("margin-top"),10)+parseInt(b.css("border-top-width"),10);e.left=h.left+parseInt(b.css("margin-left"),10)+parseInt(b.css("border-left-width"),10);e.width=b.innerWidth();e.height=b.innerHeight();e["z-index"]=b.css("z-index")+1;for(var l in e){if(e.hasOwnProperty(l)&&c.hasOwnProperty(l)){if(e[l]!==c[l]){j=true;break}}}if(j){d.css(e);var k=c;c=e;e=k}if(f.is(":visible")){setTimeout(g,100)}else{d.hide()}};g(true);d.show();return{element:f,blanket:d,hide:function(){d.hide();return this},show:function(){g(true);d.show();return this},dispose:function(){d.remove();return this},update:g}}}})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:common-webresources', location = '/com/k15t/scroll/platform/ui/common/navigationutil.js' */
(function(b){AJS.toInit(function(){var c=a(b(location).attr("href"),"svReturnTo");if(c){b(".view-information p a").attr("href",contextPath+"/"+c)}});function a(d,c){var e=new RegExp("[\\?&]"+c+"=([^&#]*)").exec(d);return e&&e.length<=1&&e[1]}})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:conditional-conditioninfo-webresources', location = '/com/k15t/scroll/platform/ui/conditional/conditioninfo/conditioninfo.soy' */
// This file was automatically generated from conditioninfo.soy.
// Please don't edit this file by hand.

if (typeof Scroll == 'undefined') { var Scroll = {}; }
if (typeof Scroll.Versions == 'undefined') { Scroll.Versions = {}; }
if (typeof Scroll.Versions.Conditional == 'undefined') { Scroll.Versions.Conditional = {}; }
if (typeof Scroll.Versions.Conditional.Templates == 'undefined') { Scroll.Versions.Conditional.Templates = {}; }


Scroll.Versions.Conditional.Templates.popupContent = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class="sv-infopopup sv-conditioninfo"><h3>', soy.$$escapeHtml("Conditional Content"), '</h3>', (opt_data.isConditionalContentAvailable == false) ? '<p class="small-warning">' + AJS.format("This content is \x3cstrong\x3enot\x3c/strong\x3e available in \x3cem\x3e{0}\x3c/em\x3e.",opt_data.currentVariant.name) + '</p>' : '', '<h5>', soy.$$escapeHtml("Available in Variants"), ':</h5>');
  if (opt_data.enabledVariants.length > 0) {
    output.append('<ul class="sv-variant-list label-list" style="padding-left: 0;">');
    var variantList18 = opt_data.enabledVariants;
    var variantListLen18 = variantList18.length;
    for (var variantIndex18 = 0; variantIndex18 < variantListLen18; variantIndex18++) {
      var variantData18 = variantList18[variantIndex18];
      output.append('<li class="label-container"><span class="label aui-label confluence-label">', soy.$$escapeHtml(variantData18.name), '</span></li>');
    }
    output.append('</ul>');
  } else {
    output.append('<p><em>', soy.$$escapeHtml("none"), '</em></p>');
  }
  output.append('<p class="sv-fineprint">', soy.$$escapeHtml("To change the variants, edit this page and apply different attributes to the macro."), '</p></div>');
  return opt_sb ? '' : output.toString();
};

} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.js.aui-ng:angular10', location = '/com/k15t/js/angular-version-pre.js' */
(function(a,b){})(window);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.js.aui-ng:angular10', location = '/com/k15t/js/jquery-1.6.4.js' */
/*!
 * jQuery JavaScript Library v1.6.4
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Mon Sep 12 18:54:48 2011 -0400
 */
(function(a7,K){if(AJS.params.buildNumber>=3273){return}var ap=a7.document,bq=a7.navigator,bh=a7.location;var b=(function(){var bB=function(bX,bY){return new bB.fn.init(bX,bY,bz)},bR=a7.jQuery,bD=a7.$,bz,bV=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,bJ=/\S/,bF=/^\s+/,bA=/\s+$/,bE=/\d/,bw=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,bK=/^[\],:{}\s]*$/,bT=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,bM=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,bG=/(?:^|:|,)(?:\s*\[)+/g,bu=/(webkit)[ \/]([\w.]+)/,bO=/(opera)(?:.*version)?[ \/]([\w.]+)/,bN=/(msie) ([\w.]+)/,bP=/(mozilla)(?:.*? rv:([\w.]+))?/,bx=/-([a-z]|[0-9])/ig,bW=/^-ms-/,bQ=function(bX,bY){return(bY+"").toUpperCase()},bU=bq.userAgent,bS,by,e,bI=Object.prototype.toString,bC=Object.prototype.hasOwnProperty,bv=Array.prototype.push,bH=Array.prototype.slice,bL=String.prototype.trim,br=Array.prototype.indexOf,bt={};bB.fn=bB.prototype={constructor:bB,init:function(bX,b1,b0){var bZ,b2,bY,b3;if(!bX){return this}if(bX.nodeType){this.context=this[0]=bX;this.length=1;return this}if(bX==="body"&&!b1&&ap.body){this.context=ap;this[0]=ap.body;this.selector=bX;this.length=1;return this}if(typeof bX==="string"){if(bX.charAt(0)==="<"&&bX.charAt(bX.length-1)===">"&&bX.length>=3){bZ=[null,bX,null]}else{bZ=bV.exec(bX)}if(bZ&&(bZ[1]||!b1)){if(bZ[1]){b1=b1 instanceof bB?b1[0]:b1;b3=(b1?b1.ownerDocument||b1:ap);bY=bw.exec(bX);if(bY){if(bB.isPlainObject(b1)){bX=[ap.createElement(bY[1])];bB.fn.attr.call(bX,b1,true)}else{bX=[b3.createElement(bY[1])]}}else{bY=bB.buildFragment([bZ[1]],[b3]);bX=(bY.cacheable?bB.clone(bY.fragment):bY.fragment).childNodes}return bB.merge(this,bX)}else{b2=ap.getElementById(bZ[2]);if(b2&&b2.parentNode){if(b2.id!==bZ[2]){return b0.find(bX)}this.length=1;this[0]=b2}this.context=ap;this.selector=bX;return this}}else{if(!b1||b1.jquery){return(b1||b0).find(bX)}else{return this.constructor(b1).find(bX)}}}else{if(bB.isFunction(bX)){return b0.ready(bX)}}if(bX.selector!==K){this.selector=bX.selector;this.context=bX.context}return bB.makeArray(bX,this)},selector:"",jquery:"1.6.4",length:0,size:function(){return this.length},toArray:function(){return bH.call(this,0)},get:function(bX){return bX==null?this.toArray():(bX<0?this[this.length+bX]:this[bX])},pushStack:function(bY,b0,bX){var bZ=this.constructor();if(bB.isArray(bY)){bv.apply(bZ,bY)}else{bB.merge(bZ,bY)}bZ.prevObject=this;bZ.context=this.context;if(b0==="find"){bZ.selector=this.selector+(this.selector?" ":"")+bX}else{if(b0){bZ.selector=this.selector+"."+b0+"("+bX+")"}}return bZ},each:function(bY,bX){return bB.each(this,bY,bX)},ready:function(bX){bB.bindReady();by.done(bX);return this},eq:function(bX){return bX===-1?this.slice(bX):this.slice(bX,+bX+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(bH.apply(this,arguments),"slice",bH.call(arguments).join(","))},map:function(bX){return this.pushStack(bB.map(this,function(bZ,bY){return bX.call(bZ,bY,bZ)}))},end:function(){return this.prevObject||this.constructor(null)},push:bv,sort:[].sort,splice:[].splice};bB.fn.init.prototype=bB.fn;bB.extend=bB.fn.extend=function(){var b6,bZ,bX,bY,b3,b4,b2=arguments[0]||{},b1=1,b0=arguments.length,b5=false;if(typeof b2==="boolean"){b5=b2;b2=arguments[1]||{};b1=2}if(typeof b2!=="object"&&!bB.isFunction(b2)){b2={}}if(b0===b1){b2=this;--b1}for(;b1<b0;b1++){if((b6=arguments[b1])!=null){for(bZ in b6){bX=b2[bZ];bY=b6[bZ];if(b2===bY){continue}if(b5&&bY&&(bB.isPlainObject(bY)||(b3=bB.isArray(bY)))){if(b3){b3=false;b4=bX&&bB.isArray(bX)?bX:[]}else{b4=bX&&bB.isPlainObject(bX)?bX:{}}b2[bZ]=bB.extend(b5,b4,bY)}else{if(bY!==K){b2[bZ]=bY}}}}}return b2};bB.extend({noConflict:function(bX){if(a7.$===bB){a7.$=bD}if(bX&&a7.jQuery===bB){a7.jQuery=bR}return bB},isReady:false,readyWait:1,holdReady:function(bX){if(bX){bB.readyWait++}else{bB.ready(true)}},ready:function(bX){if((bX===true&&!--bB.readyWait)||(bX!==true&&!bB.isReady)){if(!ap.body){return setTimeout(bB.ready,1)}bB.isReady=true;if(bX!==true&&--bB.readyWait>0){return}by.resolveWith(ap,[bB]);if(bB.fn.trigger){bB(ap).trigger("ready").unbind("ready")}}},bindReady:function(){if(by){return}by=bB._Deferred();if(ap.readyState==="complete"){return setTimeout(bB.ready,1)}if(ap.addEventListener){ap.addEventListener("DOMContentLoaded",e,false);a7.addEventListener("load",bB.ready,false)}else{if(ap.attachEvent){ap.attachEvent("onreadystatechange",e);a7.attachEvent("onload",bB.ready);var bX=false;try{bX=a7.frameElement==null}catch(bY){}if(ap.documentElement.doScroll&&bX){bs()}}}},isFunction:function(bX){return bB.type(bX)==="function"},isArray:Array.isArray||function(bX){return bB.type(bX)==="array"},isWindow:function(bX){return bX&&typeof bX==="object"&&"setInterval" in bX},isNaN:function(bX){return bX==null||!bE.test(bX)||isNaN(bX)},type:function(bX){return bX==null?String(bX):bt[bI.call(bX)]||"object"},isPlainObject:function(bZ){if(!bZ||bB.type(bZ)!=="object"||bZ.nodeType||bB.isWindow(bZ)){return false}try{if(bZ.constructor&&!bC.call(bZ,"constructor")&&!bC.call(bZ.constructor.prototype,"isPrototypeOf")){return false}}catch(bY){return false}var bX;for(bX in bZ){}return bX===K||bC.call(bZ,bX)},isEmptyObject:function(bY){for(var bX in bY){return false}return true},error:function(bX){throw bX},parseJSON:function(bX){if(typeof bX!=="string"||!bX){return null}bX=bB.trim(bX);if(a7.JSON&&a7.JSON.parse){return a7.JSON.parse(bX)}if(bK.test(bX.replace(bT,"@").replace(bM,"]").replace(bG,""))){return(new Function("return "+bX))()}bB.error("Invalid JSON: "+bX)},parseXML:function(bZ){var bX,bY;try{if(a7.DOMParser){bY=new DOMParser();bX=bY.parseFromString(bZ,"text/xml")}else{bX=new ActiveXObject("Microsoft.XMLDOM");bX.async="false";bX.loadXML(bZ)}}catch(b0){bX=K}if(!bX||!bX.documentElement||bX.getElementsByTagName("parsererror").length){bB.error("Invalid XML: "+bZ)}return bX},noop:function(){},globalEval:function(bX){if(bX&&bJ.test(bX)){(a7.execScript||function(bY){a7["eval"].call(a7,bY)})(bX)}},camelCase:function(bX){return bX.replace(bW,"ms-").replace(bx,bQ)},nodeName:function(bY,bX){return bY.nodeName&&bY.nodeName.toUpperCase()===bX.toUpperCase()},each:function(b0,b3,bZ){var bY,b1=0,b2=b0.length,bX=b2===K||bB.isFunction(b0);if(bZ){if(bX){for(bY in b0){if(b3.apply(b0[bY],bZ)===false){break}}}else{for(;b1<b2;){if(b3.apply(b0[b1++],bZ)===false){break}}}}else{if(bX){for(bY in b0){if(b3.call(b0[bY],bY,b0[bY])===false){break}}}else{for(;b1<b2;){if(b3.call(b0[b1],b1,b0[b1++])===false){break}}}}return b0},trim:bL?function(bX){return bX==null?"":bL.call(bX)}:function(bX){return bX==null?"":bX.toString().replace(bF,"").replace(bA,"")},makeArray:function(b0,bY){var bX=bY||[];if(b0!=null){var bZ=bB.type(b0);if(b0.length==null||bZ==="string"||bZ==="function"||bZ==="regexp"||bB.isWindow(b0)){bv.call(bX,b0)}else{bB.merge(bX,b0)}}return bX},inArray:function(bZ,b0){if(!b0){return -1}if(br){return br.call(b0,bZ)}for(var bX=0,bY=b0.length;bX<bY;bX++){if(b0[bX]===bZ){return bX}}return -1},merge:function(b1,bZ){var b0=b1.length,bY=0;if(typeof bZ.length==="number"){for(var bX=bZ.length;bY<bX;bY++){b1[b0++]=bZ[bY]}}else{while(bZ[bY]!==K){b1[b0++]=bZ[bY++]}}b1.length=b0;return b1},grep:function(bY,b3,bX){var bZ=[],b2;bX=!!bX;for(var b0=0,b1=bY.length;b0<b1;b0++){b2=!!b3(bY[b0],b0);if(bX!==b2){bZ.push(bY[b0])}}return bZ},map:function(bX,b4,b5){var b2,b3,b1=[],bZ=0,bY=bX.length,b0=bX instanceof bB||bY!==K&&typeof bY==="number"&&((bY>0&&bX[0]&&bX[bY-1])||bY===0||bB.isArray(bX));if(b0){for(;bZ<bY;bZ++){b2=b4(bX[bZ],bZ,b5);if(b2!=null){b1[b1.length]=b2}}}else{for(b3 in bX){b2=b4(bX[b3],b3,b5);if(b2!=null){b1[b1.length]=b2}}}return b1.concat.apply([],b1)},guid:1,proxy:function(b1,b0){if(typeof b0==="string"){var bZ=b1[b0];b0=b1;b1=bZ}if(!bB.isFunction(b1)){return K}var bX=bH.call(arguments,2),bY=function(){return b1.apply(b0,bX.concat(bH.call(arguments)))};bY.guid=b1.guid=b1.guid||bY.guid||bB.guid++;return bY},access:function(bX,b5,b3,bZ,b2,b4){var bY=bX.length;if(typeof b5==="object"){for(var b0 in b5){bB.access(bX,b0,b5[b0],bZ,b2,b3)}return bX}if(b3!==K){bZ=!b4&&bZ&&bB.isFunction(b3);for(var b1=0;b1<bY;b1++){b2(bX[b1],b5,bZ?b3.call(bX[b1],b1,b2(bX[b1],b5)):b3,b4)}return bX}return bY?b2(bX[0],b5):K},now:function(){return(new Date()).getTime()},uaMatch:function(bY){bY=bY.toLowerCase();var bX=bu.exec(bY)||bO.exec(bY)||bN.exec(bY)||bY.indexOf("compatible")<0&&bP.exec(bY)||[];return{browser:bX[1]||"",version:bX[2]||"0"}},sub:function(){function bX(b0,b1){return new bX.fn.init(b0,b1)}bB.extend(true,bX,this);bX.superclass=this;bX.fn=bX.prototype=this();bX.fn.constructor=bX;bX.sub=this.sub;bX.fn.init=function bZ(b0,b1){if(b1&&b1 instanceof bB&&!(b1 instanceof bX)){b1=bX(b1)}return bB.fn.init.call(this,b0,b1,bY)};bX.fn.init.prototype=bX.fn;var bY=bX(ap);return bX},browser:{}});bB.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(bY,bX){bt["[object "+bX+"]"]=bX.toLowerCase()});bS=bB.uaMatch(bU);if(bS.browser){bB.browser[bS.browser]=true;bB.browser.version=bS.version}if(bB.browser.webkit){bB.browser.safari=true}if(bJ.test("\xA0")){bF=/^[\s\xA0]+/;bA=/[\s\xA0]+$/}bz=bB(ap);if(ap.addEventListener){e=function(){ap.removeEventListener("DOMContentLoaded",e,false);bB.ready()}}else{if(ap.attachEvent){e=function(){if(ap.readyState==="complete"){ap.detachEvent("onreadystatechange",e);bB.ready()}}}}function bs(){if(bB.isReady){return}try{ap.documentElement.doScroll("left")}catch(bX){setTimeout(bs,1);return}bB.ready()}return bB})();var a="done fail isResolved isRejected promise then always pipe".split(" "),aE=[].slice;b.extend({_Deferred:function(){var bt=[],bu,br,bs,e={done:function(){if(!bs){var bw=arguments,bx,bA,bz,by,bv;if(bu){bv=bu;bu=0}for(bx=0,bA=bw.length;bx<bA;bx++){bz=bw[bx];by=b.type(bz);if(by==="array"){e.done.apply(e,bz)}else{if(by==="function"){bt.push(bz)}}}if(bv){e.resolveWith(bv[0],bv[1])}}return this},resolveWith:function(bw,bv){if(!bs&&!bu&&!br){bv=bv||[];br=1;try{while(bt[0]){bt.shift().apply(bw,bv)}}finally{bu=[bw,bv];br=0}}return this},resolve:function(){e.resolveWith(this,arguments);return this},isResolved:function(){return !!(br||bu)},cancel:function(){bs=1;bt=[];return this}};return e},Deferred:function(br){var e=b._Deferred(),bt=b._Deferred(),bs;b.extend(e,{then:function(bv,bu){e.done(bv).fail(bu);return this},always:function(){return e.done.apply(e,arguments).fail.apply(this,arguments)},fail:bt.done,rejectWith:bt.resolveWith,reject:bt.resolve,isRejected:bt.isResolved,pipe:function(bv,bu){return b.Deferred(function(bw){b.each({done:[bv,"resolve"],fail:[bu,"reject"]},function(by,bB){var bx=bB[0],bA=bB[1],bz;if(b.isFunction(bx)){e[by](function(){bz=bx.apply(this,arguments);if(bz&&b.isFunction(bz.promise)){bz.promise().then(bw.resolve,bw.reject)}else{bw[bA+"With"](this===e?bw:this,[bz])}})}else{e[by](bw[bA])}})}).promise()},promise:function(bv){if(bv==null){if(bs){return bs}bs=bv={}}var bu=a.length;while(bu--){bv[a[bu]]=e[a[bu]]}return bv}});e.done(bt.cancel).fail(e.cancel);delete e.cancel;if(br){br.call(e,e)}return e},when:function(bw){var br=arguments,bs=0,bv=br.length,bu=bv,e=bv<=1&&bw&&b.isFunction(bw.promise)?bw:b.Deferred();function bt(bx){return function(by){br[bx]=arguments.length>1?aE.call(arguments,0):by;if(!(--bu)){e.resolveWith(e,aE.call(br,0))}}}if(bv>1){for(;bs<bv;bs++){if(br[bs]&&b.isFunction(br[bs].promise)){br[bs].promise().then(bt(bs),e.reject)}else{--bu}}if(!bu){e.resolveWith(e,br)}}else{if(e!==bw){e.resolveWith(e,bv?[bw]:[])}}return e.promise()}});b.support=(function(){var bB=ap.createElement("div"),bI=ap.documentElement,bu,bJ,bC,bs,bA,bv,by,br,bz,bD,bx,bH,bF,bt,bw,bE,bK;bB.setAttribute("className","t");bB.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";bu=bB.getElementsByTagName("*");bJ=bB.getElementsByTagName("a")[0];if(!bu||!bu.length||!bJ){return{}}bC=ap.createElement("select");bs=bC.appendChild(ap.createElement("option"));bA=bB.getElementsByTagName("input")[0];by={leadingWhitespace:(bB.firstChild.nodeType===3),tbody:!bB.getElementsByTagName("tbody").length,htmlSerialize:!!bB.getElementsByTagName("link").length,style:/top/.test(bJ.getAttribute("style")),hrefNormalized:(bJ.getAttribute("href")==="/a"),opacity:/^0.55$/.test(bJ.style.opacity),cssFloat:!!bJ.style.cssFloat,checkOn:(bA.value==="on"),optSelected:bs.selected,getSetAttribute:bB.className!=="t",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};bA.checked=true;by.noCloneChecked=bA.cloneNode(true).checked;bC.disabled=true;by.optDisabled=!bs.disabled;try{delete bB.test}catch(bG){by.deleteExpando=false}if(!bB.addEventListener&&bB.attachEvent&&bB.fireEvent){bB.attachEvent("onclick",function(){by.noCloneEvent=false});bB.cloneNode(true).fireEvent("onclick")}bA=ap.createElement("input");bA.value="t";bA.setAttribute("type","radio");by.radioValue=bA.value==="t";bA.setAttribute("checked","checked");bB.appendChild(bA);br=ap.createDocumentFragment();br.appendChild(bB.firstChild);by.checkClone=br.cloneNode(true).cloneNode(true).lastChild.checked;bB.innerHTML="";bB.style.width=bB.style.paddingLeft="1px";bz=ap.getElementsByTagName("body")[0];bx=ap.createElement(bz?"div":"body");bH={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(bz){b.extend(bH,{position:"absolute",left:"-1000px",top:"-1000px"})}for(bE in bH){bx.style[bE]=bH[bE]}bx.appendChild(bB);bD=bz||bI;bD.insertBefore(bx,bD.firstChild);by.appendChecked=bA.checked;by.boxModel=bB.offsetWidth===2;if("zoom" in bB.style){bB.style.display="inline";bB.style.zoom=1;by.inlineBlockNeedsLayout=(bB.offsetWidth===2);bB.style.display="";bB.innerHTML="<div style='width:4px;'></div>";by.shrinkWrapBlocks=(bB.offsetWidth!==2)}bB.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";bF=bB.getElementsByTagName("td");bK=(bF[0].offsetHeight===0);bF[0].style.display="";bF[1].style.display="none";by.reliableHiddenOffsets=bK&&(bF[0].offsetHeight===0);bB.innerHTML="";if(ap.defaultView&&ap.defaultView.getComputedStyle){bv=ap.createElement("div");bv.style.width="0";bv.style.marginRight="0";bB.appendChild(bv);by.reliableMarginRight=(parseInt((ap.defaultView.getComputedStyle(bv,null)||{marginRight:0}).marginRight,10)||0)===0}bx.innerHTML="";bD.removeChild(bx);if(bB.attachEvent){for(bE in {submit:1,change:1,focusin:1}){bw="on"+bE;bK=(bw in bB);if(!bK){bB.setAttribute(bw,"return;");bK=(typeof bB[bw]==="function")}by[bE+"Bubbles"]=bK}}bx=br=bC=bs=bz=bv=bB=bA=null;return by})();b.boxModel=b.support.boxModel;var aL=/^(?:\{.*\}|\[.*\])$/,av=/([A-Z])/g;b.extend({cache:{},uuid:0,expando:"jQuery"+(b.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(e){e=e.nodeType?b.cache[e[b.expando]]:e[b.expando];return !!e&&!S(e)},data:function(bt,br,bv,bu){if(!b.acceptData(bt)){return}var bw,by,bz=b.expando,bx=typeof br==="string",bA=bt.nodeType,e=bA?b.cache:bt,bs=bA?bt[b.expando]:bt[b.expando]&&b.expando;if((!bs||(bu&&bs&&(e[bs]&&!e[bs][bz])))&&bx&&bv===K){return}if(!bs){if(bA){bt[b.expando]=bs=++b.uuid}else{bs=b.expando}}if(!e[bs]){e[bs]={};if(!bA){e[bs].toJSON=b.noop}}if(typeof br==="object"||typeof br==="function"){if(bu){e[bs][bz]=b.extend(e[bs][bz],br)}else{e[bs]=b.extend(e[bs],br)}}bw=e[bs];if(bu){if(!bw[bz]){bw[bz]={}}bw=bw[bz]}if(bv!==K){bw[b.camelCase(br)]=bv}if(br==="events"&&!bw[br]){return bw[bz]&&bw[bz].events}if(bx){by=bw[br];if(by==null){by=bw[b.camelCase(br)]}}else{by=bw}return by},removeData:function(bu,bs,bv){if(!b.acceptData(bu)){return}var bw,bx=b.expando,by=bu.nodeType,br=by?b.cache:bu,bt=by?bu[b.expando]:b.expando;if(!br[bt]){return}if(bs){bw=bv?br[bt][bx]:br[bt];if(bw){if(!bw[bs]){bs=b.camelCase(bs)}delete bw[bs];if(!S(bw)){return}}}if(bv){delete br[bt][bx];if(!S(br[bt])){return}}var e=br[bt][bx];if(b.support.deleteExpando||!br.setInterval){delete br[bt]}else{br[bt]=null}if(e){br[bt]={};if(!by){br[bt].toJSON=b.noop}br[bt][bx]=e}else{if(by){if(b.support.deleteExpando){delete bu[b.expando]}else{if(bu.removeAttribute){bu.removeAttribute(b.expando)}else{bu[b.expando]=null}}}}},_data:function(br,e,bs){return b.data(br,e,bs,true)},acceptData:function(br){if(br.nodeName){var e=b.noData[br.nodeName.toLowerCase()];if(e){return !(e===true||br.getAttribute("classid")!==e)}}return true}});b.fn.extend({data:function(bu,bw){var bv=null;if(typeof bu==="undefined"){if(this.length){bv=b.data(this[0]);if(this[0].nodeType===1){var e=this[0].attributes,bs;for(var bt=0,br=e.length;bt<br;bt++){bs=e[bt].name;if(bs.indexOf("data-")===0){bs=b.camelCase(bs.substring(5));a1(this[0],bs,bv[bs])}}}}return bv}else{if(typeof bu==="object"){return this.each(function(){b.data(this,bu)})}}var bx=bu.split(".");bx[1]=bx[1]?"."+bx[1]:"";if(bw===K){bv=this.triggerHandler("getData"+bx[1]+"!",[bx[0]]);if(bv===K&&this.length){bv=b.data(this[0],bu);bv=a1(this[0],bu,bv)}return bv===K&&bx[1]?this.data(bx[0]):bv}else{return this.each(function(){var bz=b(this),by=[bx[0],bw];bz.triggerHandler("setData"+bx[1]+"!",by);b.data(this,bu,bw);bz.triggerHandler("changeData"+bx[1]+"!",by)})}},removeData:function(e){return this.each(function(){b.removeData(this,e)})}});function a1(bt,bs,bu){if(bu===K&&bt.nodeType===1){var br="data-"+bs.replace(av,"-$1").toLowerCase();bu=bt.getAttribute(br);if(typeof bu==="string"){try{bu=bu==="true"?true:bu==="false"?false:bu==="null"?null:!b.isNaN(bu)?parseFloat(bu):aL.test(bu)?b.parseJSON(bu):bu}catch(bv){}b.data(bt,bs,bu)}else{bu=K}}return bu}function S(br){for(var e in br){if(e!=="toJSON"){return false}}return true}function bd(bu,bt,bw){var bs=bt+"defer",br=bt+"queue",e=bt+"mark",bv=b.data(bu,bs,K,true);if(bv&&(bw==="queue"||!b.data(bu,br,K,true))&&(bw==="mark"||!b.data(bu,e,K,true))){setTimeout(function(){if(!b.data(bu,br,K,true)&&!b.data(bu,e,K,true)){b.removeData(bu,bs,true);bv.resolve()}},0)}}b.extend({_mark:function(br,e){if(br){e=(e||"fx")+"mark";b.data(br,e,(b.data(br,e,K,true)||0)+1,true)}},_unmark:function(bu,bt,br){if(bu!==true){br=bt;bt=bu;bu=false}if(bt){br=br||"fx";var e=br+"mark",bs=bu?0:((b.data(bt,e,K,true)||1)-1);if(bs){b.data(bt,e,bs,true)}else{b.removeData(bt,e,true);bd(bt,br,"mark")}}},queue:function(br,e,bt){if(br){e=(e||"fx")+"queue";var bs=b.data(br,e,K,true);if(bt){if(!bs||b.isArray(bt)){bs=b.data(br,e,b.makeArray(bt),true)}else{bs.push(bt)}}return bs||[]}},dequeue:function(bt,bs){bs=bs||"fx";var e=b.queue(bt,bs),br=e.shift(),bu;if(br==="inprogress"){br=e.shift()}if(br){if(bs==="fx"){e.unshift("inprogress")}br.call(bt,function(){b.dequeue(bt,bs)})}if(!e.length){b.removeData(bt,bs+"queue",true);bd(bt,bs,"queue")}}});b.fn.extend({queue:function(e,br){if(typeof e!=="string"){br=e;e="fx"}if(br===K){return b.queue(this[0],e)}return this.each(function(){var bs=b.queue(this,e,br);if(e==="fx"&&bs[0]!=="inprogress"){b.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},delay:function(br,e){br=b.fx?b.fx.speeds[br]||br:br;e=e||"fx";return this.queue(e,function(){var bs=this;setTimeout(function(){b.dequeue(bs,e)},br)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(bz,bs){if(typeof bz!=="string"){bs=bz;bz=K}bz=bz||"fx";var e=b.Deferred(),br=this,bu=br.length,bx=1,bv=bz+"defer",bw=bz+"queue",by=bz+"mark",bt;function bA(){if(!(--bx)){e.resolveWith(br,[br])}}while(bu--){if((bt=b.data(br[bu],bv,K,true)||(b.data(br[bu],bw,K,true)||b.data(br[bu],by,K,true))&&b.data(br[bu],bv,b._Deferred(),true))){bx++;bt.done(bA)}}bA();return e.promise()}});var aJ=/[\n\t\r]/g,ab=/\s+/,aN=/\r/g,g=/^(?:button|input)$/i,D=/^(?:button|input|object|select|textarea)$/i,l=/^a(?:rea)?$/i,aj=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ba,aU;b.fn.extend({attr:function(e,br){return b.access(this,e,br,true,b.attr)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})},prop:function(e,br){return b.access(this,e,br,true,b.prop)},removeProp:function(e){e=b.propFix[e]||e;return this.each(function(){try{this[e]=K;delete this[e]}catch(br){}})},addClass:function(bu){var bw,bs,br,bt,bv,bx,e;if(b.isFunction(bu)){return this.each(function(by){b(this).addClass(bu.call(this,by,this.className))})}if(bu&&typeof bu==="string"){bw=bu.split(ab);for(bs=0,br=this.length;bs<br;bs++){bt=this[bs];if(bt.nodeType===1){if(!bt.className&&bw.length===1){bt.className=bu}else{bv=" "+bt.className+" ";for(bx=0,e=bw.length;bx<e;bx++){if(!~bv.indexOf(" "+bw[bx]+" ")){bv+=bw[bx]+" "}}bt.className=b.trim(bv)}}}}return this},removeClass:function(bv){var bw,bs,br,bu,bt,bx,e;if(b.isFunction(bv)){return this.each(function(by){b(this).removeClass(bv.call(this,by,this.className))})}if((bv&&typeof bv==="string")||bv===K){bw=(bv||"").split(ab);for(bs=0,br=this.length;bs<br;bs++){bu=this[bs];if(bu.nodeType===1&&bu.className){if(bv){bt=(" "+bu.className+" ").replace(aJ," ");for(bx=0,e=bw.length;bx<e;bx++){bt=bt.replace(" "+bw[bx]+" "," ")}bu.className=b.trim(bt)}else{bu.className=""}}}}return this},toggleClass:function(bt,br){var bs=typeof bt,e=typeof br==="boolean";if(b.isFunction(bt)){return this.each(function(bu){b(this).toggleClass(bt.call(this,bu,this.className,br),br)})}return this.each(function(){if(bs==="string"){var bw,bv=0,bu=b(this),bx=br,by=bt.split(ab);while((bw=by[bv++])){bx=e?bx:!bu.hasClass(bw);bu[bx?"addClass":"removeClass"](bw)}}else{if(bs==="undefined"||bs==="boolean"){if(this.className){b._data(this,"__className__",this.className)}this.className=this.className||bt===false?"":b._data(this,"__className__")||""}}})},hasClass:function(e){var bt=" "+e+" ";for(var bs=0,br=this.length;bs<br;bs++){if(this[bs].nodeType===1&&(" "+this[bs].className+" ").replace(aJ," ").indexOf(bt)>-1){return true}}return false},val:function(bt){var e,br,bs=this[0];if(!arguments.length){if(bs){e=b.valHooks[bs.nodeName.toLowerCase()]||b.valHooks[bs.type];if(e&&"get" in e&&(br=e.get(bs,"value"))!==K){return br}br=bs.value;return typeof br==="string"?br.replace(aN,""):br==null?"":br}return K}var bu=b.isFunction(bt);return this.each(function(bw){var bv=b(this),bx;if(this.nodeType!==1){return}if(bu){bx=bt.call(this,bw,bv.val())}else{bx=bt}if(bx==null){bx=""}else{if(typeof bx==="number"){bx+=""}else{if(b.isArray(bx)){bx=b.map(bx,function(by){return by==null?"":by+""})}}}e=b.valHooks[this.nodeName.toLowerCase()]||b.valHooks[this.type];if(!e||!("set" in e)||e.set(this,bx,"value")===K){this.value=bx}})}});b.extend({valHooks:{option:{get:function(e){var br=e.attributes.value;return !br||br.specified?e.value:e.text}},select:{get:function(e){var bw,bu=e.selectedIndex,bx=[],by=e.options,bt=e.type==="select-one";if(bu<0){return null}for(var br=bt?bu:0,bv=bt?bu+1:by.length;br<bv;br++){var bs=by[br];if(bs.selected&&(b.support.optDisabled?!bs.disabled:bs.getAttribute("disabled")===null)&&(!bs.parentNode.disabled||!b.nodeName(bs.parentNode,"optgroup"))){bw=b(bs).val();if(bt){return bw}bx.push(bw)}}if(bt&&!bx.length&&by.length){return b(by[bu]).val()}return bx},set:function(br,bs){var e=b.makeArray(bs);b(br).find("option").each(function(){this.selected=b.inArray(b(this).val(),e)>=0});if(!e.length){br.selectedIndex=-1}return e}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attrFix:{tabindex:"tabIndex"},attr:function(bw,bt,bx,bv){var br=bw.nodeType;if(!bw||br===3||br===8||br===2){return K}if(bv&&bt in b.attrFn){return b(bw)[bt](bx)}if(!("getAttribute" in bw)){return b.prop(bw,bt,bx)}var bs,e,bu=br!==1||!b.isXMLDoc(bw);if(bu){bt=b.attrFix[bt]||bt;e=b.attrHooks[bt];if(!e){if(aj.test(bt)){e=aU}else{if(ba){e=ba}}}}if(bx!==K){if(bx===null){b.removeAttr(bw,bt);return K}else{if(e&&"set" in e&&bu&&(bs=e.set(bw,bx,bt))!==K){return bs}else{bw.setAttribute(bt,""+bx);return bx}}}else{if(e&&"get" in e&&bu&&(bs=e.get(bw,bt))!==null){return bs}else{bs=bw.getAttribute(bt);return bs===null?K:bs}}},removeAttr:function(br,e){var bs;if(br.nodeType===1){e=b.attrFix[e]||e;b.attr(br,e,"");br.removeAttribute(e);if(aj.test(e)&&(bs=b.propFix[e]||e) in br){br[bs]=false}}},attrHooks:{type:{set:function(e,br){if(g.test(e.nodeName)&&e.parentNode){b.error("type property can't be changed")}else{if(!b.support.radioValue&&br==="radio"&&b.nodeName(e,"input")){var bs=e.value;e.setAttribute("type",br);if(bs){e.value=bs}return br}}}},value:{get:function(br,e){if(ba&&b.nodeName(br,"button")){return ba.get(br,e)}return e in br?br.value:null},set:function(br,bs,e){if(ba&&b.nodeName(br,"button")){return ba.set(br,bs,e)}br.value=bs}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(bv,bt,bw){var br=bv.nodeType;if(!bv||br===3||br===8||br===2){return K}var bs,e,bu=br!==1||!b.isXMLDoc(bv);if(bu){bt=b.propFix[bt]||bt;e=b.propHooks[bt]}if(bw!==K){if(e&&"set" in e&&(bs=e.set(bv,bw,bt))!==K){return bs}else{return(bv[bt]=bw)}}else{if(e&&"get" in e&&(bs=e.get(bv,bt))!==null){return bs}else{return bv[bt]}}},propHooks:{tabIndex:{get:function(br){var e=br.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):D.test(br.nodeName)||l.test(br.nodeName)&&br.href?0:K}}}});b.attrHooks.tabIndex=b.propHooks.tabIndex;aU={get:function(br,e){var bs;return b.prop(br,e)===true||(bs=br.getAttributeNode(e))&&bs.nodeValue!==false?e.toLowerCase():K},set:function(br,bt,e){var bs;if(bt===false){b.removeAttr(br,e)}else{bs=b.propFix[e]||e;if(bs in br){br[bs]=true}br.setAttribute(e,e.toLowerCase())}return e}};if(!b.support.getSetAttribute){ba=b.valHooks.button={get:function(bs,br){var e;e=bs.getAttributeNode(br);return e&&e.nodeValue!==""?e.nodeValue:K},set:function(bs,bt,br){var e=bs.getAttributeNode(br);if(!e){e=ap.createAttribute(br);bs.setAttributeNode(e)}return(e.nodeValue=bt+"")}};b.each(["width","height"],function(br,e){b.attrHooks[e]=b.extend(b.attrHooks[e],{set:function(bs,bt){if(bt===""){bs.setAttribute(e,"auto");return bt}}})})}if(!b.support.hrefNormalized){b.each(["href","src","width","height"],function(br,e){b.attrHooks[e]=b.extend(b.attrHooks[e],{get:function(bt){var bs=bt.getAttribute(e,2);return bs===null?K:bs}})})}if(!b.support.style){b.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||K},set:function(e,br){return(e.style.cssText=""+br)}}}if(!b.support.optSelected){b.propHooks.selected=b.extend(b.propHooks.selected,{get:function(br){var e=br.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}return null}})}if(!b.support.checkOn){b.each(["radio","checkbox"],function(){b.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}})}b.each(["radio","checkbox"],function(){b.valHooks[this]=b.extend(b.valHooks[this],{set:function(e,br){if(b.isArray(br)){return(e.checked=b.inArray(b(e).val(),br)>=0)}}})});var aW=/\.(.*)$/,a9=/^(?:textarea|input|select)$/i,N=/\./g,be=/ /g,aB=/[^\w\s.|`]/g,G=function(e){return e.replace(aB,"\\$&")};b.event={add:function(bt,bx,bC,bv){if(bt.nodeType===3||bt.nodeType===8){return}if(bC===false){bC=bg}else{if(!bC){return}}var br,bB;if(bC.handler){br=bC;bC=br.handler}if(!bC.guid){bC.guid=b.guid++}var by=b._data(bt);if(!by){return}var bD=by.events,bw=by.handle;if(!bD){by.events=bD={}}if(!bw){by.handle=bw=function(bE){return typeof b!=="undefined"&&(!bE||b.event.triggered!==bE.type)?b.event.handle.apply(bw.elem,arguments):K}}bw.elem=bt;bx=bx.split(" ");var bA,bu=0,e;while((bA=bx[bu++])){bB=br?b.extend({},br):{handler:bC,data:bv};if(bA.indexOf(".")>-1){e=bA.split(".");bA=e.shift();bB.namespace=e.slice(0).sort().join(".")}else{e=[];bB.namespace=""}bB.type=bA;if(!bB.guid){bB.guid=bC.guid}var bs=bD[bA],bz=b.event.special[bA]||{};if(!bs){bs=bD[bA]=[];if(!bz.setup||bz.setup.call(bt,bv,e,bw)===false){if(bt.addEventListener){bt.addEventListener(bA,bw,false)}else{if(bt.attachEvent){bt.attachEvent("on"+bA,bw)}}}}if(bz.add){bz.add.call(bt,bB);if(!bB.handler.guid){bB.handler.guid=bC.guid}}bs.push(bB);b.event.global[bA]=true}bt=null},global:{},remove:function(bF,bA,bs,bw){if(bF.nodeType===3||bF.nodeType===8){return}if(bs===false){bs=bg}var bI,bv,bx,bC,bD=0,bt,by,bB,bu,bz,e,bH,bE=b.hasData(bF)&&b._data(bF),br=bE&&bE.events;if(!bE||!br){return}if(bA&&bA.type){bs=bA.handler;bA=bA.type}if(!bA||typeof bA==="string"&&bA.charAt(0)==="."){bA=bA||"";for(bv in br){b.event.remove(bF,bv+bA)}return}bA=bA.split(" ");while((bv=bA[bD++])){bH=bv;e=null;bt=bv.indexOf(".")<0;by=[];if(!bt){by=bv.split(".");bv=by.shift();bB=new RegExp("(^|\\.)"+b.map(by.slice(0).sort(),G).join("\\.(?:.*\\.)?")+"(\\.|$)")}bz=br[bv];if(!bz){continue}if(!bs){for(bC=0;bC<bz.length;bC++){e=bz[bC];if(bt||bB.test(e.namespace)){b.event.remove(bF,bH,e.handler,bC);bz.splice(bC--,1)}}continue}bu=b.event.special[bv]||{};for(bC=bw||0;bC<bz.length;bC++){e=bz[bC];if(bs.guid===e.guid){if(bt||bB.test(e.namespace)){if(bw==null){bz.splice(bC--,1)}if(bu.remove){bu.remove.call(bF,e)}}if(bw!=null){break}}}if(bz.length===0||bw!=null&&bz.length===1){if(!bu.teardown||bu.teardown.call(bF,by)===false){b.removeEvent(bF,bv,bE.handle)}bI=null;delete br[bv]}}if(b.isEmptyObject(br)){var bG=bE.handle;if(bG){bG.elem=null}delete bE.events;delete bE.handle;if(b.isEmptyObject(bE)){b.removeData(bF,K,true)}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(e,bx,bv,bC){var bA=e.type||e,bs=[],br;if(bA.indexOf("!")>=0){bA=bA.slice(0,-1);br=true}if(bA.indexOf(".")>=0){bs=bA.split(".");bA=bs.shift();bs.sort()}if((!bv||b.event.customEvent[bA])&&!b.event.global[bA]){return}e=typeof e==="object"?e[b.expando]?e:new b.Event(bA,e):new b.Event(bA);e.type=bA;e.exclusive=br;e.namespace=bs.join(".");e.namespace_re=new RegExp("(^|\\.)"+bs.join("\\.(?:.*\\.)?")+"(\\.|$)");if(bC||!bv){e.preventDefault();e.stopPropagation()}if(!bv){b.each(b.cache,function(){var bE=b.expando,bD=this[bE];if(bD&&bD.events&&bD.events[bA]){b.event.trigger(e,bx,bD.handle.elem)}});return}if(bv.nodeType===3||bv.nodeType===8){return}e.result=K;e.target=bv;bx=bx!=null?b.makeArray(bx):[];bx.unshift(e);var bB=bv,bt=bA.indexOf(":")<0?"on"+bA:"";do{var by=b._data(bB,"handle");e.currentTarget=bB;if(by){by.apply(bB,bx)}if(bt&&b.acceptData(bB)&&bB[bt]&&bB[bt].apply(bB,bx)===false){e.result=false;e.preventDefault()}bB=bB.parentNode||bB.ownerDocument||bB===e.target.ownerDocument&&a7}while(bB&&!e.isPropagationStopped());if(!e.isDefaultPrevented()){var bu,bz=b.event.special[bA]||{};if((!bz._default||bz._default.call(bv.ownerDocument,e)===false)&&!(bA==="click"&&b.nodeName(bv,"a"))&&b.acceptData(bv)){try{if(bt&&bv[bA]){bu=bv[bt];if(bu){bv[bt]=null}b.event.triggered=bA;bv[bA]()}}catch(bw){}if(bu){bv[bt]=bu}b.event.triggered=K}}return e.result},handle:function(bx){bx=b.event.fix(bx||a7.event);var br=((b._data(this,"events")||{})[bx.type]||[]).slice(0),bw=!bx.exclusive&&!bx.namespace,bu=Array.prototype.slice.call(arguments,0);bu[0]=bx;bx.currentTarget=this;for(var bt=0,e=br.length;bt<e;bt++){var bv=br[bt];if(bw||bx.namespace_re.test(bv.namespace)){bx.handler=bv.handler;bx.data=bv.data;bx.handleObj=bv;var bs=bv.handler.apply(this,bu);if(bs!==K){bx.result=bs;if(bs===false){bx.preventDefault();bx.stopPropagation()}}if(bx.isImmediatePropagationStopped()){break}}}return bx.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(bu){if(bu[b.expando]){return bu}var br=bu;bu=b.Event(br);for(var bs=this.props.length,bw;bs;){bw=this.props[--bs];bu[bw]=br[bw]}if(!bu.target){bu.target=bu.srcElement||ap}if(bu.target.nodeType===3){bu.target=bu.target.parentNode}if(!bu.relatedTarget&&bu.fromElement){bu.relatedTarget=bu.fromElement===bu.target?bu.toElement:bu.fromElement}if(bu.pageX==null&&bu.clientX!=null){var bt=bu.target.ownerDocument||ap,bv=bt.documentElement,e=bt.body;bu.pageX=bu.clientX+(bv&&bv.scrollLeft||e&&e.scrollLeft||0)-(bv&&bv.clientLeft||e&&e.clientLeft||0);bu.pageY=bu.clientY+(bv&&bv.scrollTop||e&&e.scrollTop||0)-(bv&&bv.clientTop||e&&e.clientTop||0)}if(bu.which==null&&(bu.charCode!=null||bu.keyCode!=null)){bu.which=bu.charCode!=null?bu.charCode:bu.keyCode}if(!bu.metaKey&&bu.ctrlKey){bu.metaKey=bu.ctrlKey}if(!bu.which&&bu.button!==K){bu.which=(bu.button&1?1:(bu.button&2?3:(bu.button&4?2:0)))}return bu},guid:100000000,proxy:b.proxy,special:{ready:{setup:b.bindReady,teardown:b.noop},live:{add:function(e){b.event.add(this,p(e.origType,e.selector),b.extend({},e,{handler:ag,guid:e.handler.guid}))},remove:function(e){b.event.remove(this,p(e.origType,e.selector),e)}},beforeunload:{setup:function(bs,br,e){if(b.isWindow(this)){this.onbeforeunload=e}},teardown:function(br,e){if(this.onbeforeunload===e){this.onbeforeunload=null}}}}};b.removeEvent=ap.removeEventListener?function(br,e,bs){if(br.removeEventListener){br.removeEventListener(e,bs,false)}}:function(br,e,bs){if(br.detachEvent){br.detachEvent("on"+e,bs)}};b.Event=function(br,e){if(!this.preventDefault){return new b.Event(br,e)}if(br&&br.type){this.originalEvent=br;this.type=br.type;this.isDefaultPrevented=(br.defaultPrevented||br.returnValue===false||br.getPreventDefault&&br.getPreventDefault())?i:bg}else{this.type=br}if(e){b.extend(this,e)}this.timeStamp=b.now();this[b.expando]=true};function bg(){return false}function i(){return true}b.Event.prototype={preventDefault:function(){this.isDefaultPrevented=i;var br=this.originalEvent;if(!br){return}if(br.preventDefault){br.preventDefault()}else{br.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=i;var br=this.originalEvent;if(!br){return}if(br.stopPropagation){br.stopPropagation()}br.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i;this.stopPropagation()},isDefaultPrevented:bg,isPropagationStopped:bg,isImmediatePropagationStopped:bg};var aa=function(bs){var bt=bs.relatedTarget,e=false,br=bs.type;bs.type=bs.data;if(bt!==this){if(bt){e=b.contains(this,bt)}if(!e){b.event.handle.apply(this,arguments);bs.type=br}}},aR=function(e){e.type=e.data;b.event.handle.apply(this,arguments)};b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(br,e){b.event.special[br]={setup:function(bs){b.event.add(this,e,bs&&bs.selector?aR:aa,br)},teardown:function(bs){b.event.remove(this,e,bs&&bs.selector?aR:aa)}}});if(!b.support.submitBubbles){b.event.special.submit={setup:function(br,e){if(!b.nodeName(this,"form")){b.event.add(this,"click.specialSubmit",function(bu){var bt=bu.target,bs=b.nodeName(bt,"input")||b.nodeName(bt,"button")?bt.type:"";if((bs==="submit"||bs==="image")&&b(bt).closest("form").length){aT("submit",this,arguments)}});b.event.add(this,"keypress.specialSubmit",function(bu){var bt=bu.target,bs=b.nodeName(bt,"input")||b.nodeName(bt,"button")?bt.type:"";if((bs==="text"||bs==="password")&&b(bt).closest("form").length&&bu.keyCode===13){aT("submit",this,arguments)}})}else{return false}},teardown:function(e){b.event.remove(this,".specialSubmit")}}}if(!b.support.changeBubbles){var bj,k=function(br){var e=b.nodeName(br,"input")?br.type:"",bs=br.value;if(e==="radio"||e==="checkbox"){bs=br.checked}else{if(e==="select-multiple"){bs=br.selectedIndex>-1?b.map(br.options,function(bt){return bt.selected}).join("-"):""}else{if(b.nodeName(br,"select")){bs=br.selectedIndex}}}return bs},Y=function Y(bt){var br=bt.target,bs,bu;if(!a9.test(br.nodeName)||br.readOnly){return}bs=b._data(br,"_change_data");bu=k(br);if(bt.type!=="focusout"||br.type!=="radio"){b._data(br,"_change_data",bu)}if(bs===K||bu===bs){return}if(bs!=null||bu){bt.type="change";bt.liveFired=K;b.event.trigger(bt,arguments[1],br)}};b.event.special.change={filters:{focusout:Y,beforedeactivate:Y,click:function(bt){var bs=bt.target,br=b.nodeName(bs,"input")?bs.type:"";if(br==="radio"||br==="checkbox"||b.nodeName(bs,"select")){Y.call(this,bt)}},keydown:function(bt){var bs=bt.target,br=b.nodeName(bs,"input")?bs.type:"";if((bt.keyCode===13&&!b.nodeName(bs,"textarea"))||(bt.keyCode===32&&(br==="checkbox"||br==="radio"))||br==="select-multiple"){Y.call(this,bt)}},beforeactivate:function(bs){var br=bs.target;b._data(br,"_change_data",k(br))}},setup:function(bs,br){if(this.type==="file"){return false}for(var e in bj){b.event.add(this,e+".specialChange",bj[e])}return a9.test(this.nodeName)},teardown:function(e){b.event.remove(this,".specialChange");return a9.test(this.nodeName)}};bj=b.event.special.change.filters;bj.focus=bj.beforeactivate}function aT(br,bt,e){var bs=b.extend({},e[0]);bs.type=br;bs.originalEvent={};bs.liveFired=K;b.event.handle.call(bt,bs);if(bs.isDefaultPrevented()){e[0].preventDefault()}}if(!b.support.focusinBubbles){b.each({focus:"focusin",blur:"focusout"},function(bt,e){var br=0;b.event.special[e]={setup:function(){if(br++===0){ap.addEventListener(bt,bs,true)}},teardown:function(){if(--br===0){ap.removeEventListener(bt,bs,true)}}};function bs(bu){var bv=b.event.fix(bu);bv.type=e;bv.originalEvent={};b.event.trigger(bv,null,bv.target);if(bv.isDefaultPrevented()){bu.preventDefault()}}})}b.each(["bind","one"],function(br,e){b.fn[e]=function(bx,by,bw){var bv;if(typeof bx==="object"){for(var bu in bx){this[e](bu,by,bx[bu],bw)}return this}if(arguments.length===2||by===false){bw=by;by=K}if(e==="one"){bv=function(bz){b(this).unbind(bz,bv);return bw.apply(this,arguments)};bv.guid=bw.guid||b.guid++}else{bv=bw}if(bx==="unload"&&e!=="one"){this.one(bx,by,bw)}else{for(var bt=0,bs=this.length;bt<bs;bt++){b.event.add(this[bt],bx,bv,by)}}return this}});b.fn.extend({unbind:function(bu,bt){if(typeof bu==="object"&&!bu.preventDefault){for(var bs in bu){this.unbind(bs,bu[bs])}}else{for(var br=0,e=this.length;br<e;br++){b.event.remove(this[br],bu,bt)}}return this},delegate:function(e,br,bt,bs){return this.live(br,bt,bs,e)},undelegate:function(e,br,bs){if(arguments.length===0){return this.unbind("live")}else{return this.die(br,null,bs,e)}},trigger:function(e,br){return this.each(function(){b.event.trigger(e,br,this)})},triggerHandler:function(e,br){if(this[0]){return b.event.trigger(e,br,this[0],true)}},toggle:function(bt){var br=arguments,e=bt.guid||b.guid++,bs=0,bu=function(bv){var bw=(b.data(this,"lastToggle"+bt.guid)||0)%bs;b.data(this,"lastToggle"+bt.guid,bw+1);bv.preventDefault();return br[bw].apply(this,arguments)||false};bu.guid=e;while(bs<br.length){br[bs++].guid=e}return this.click(bu)},hover:function(e,br){return this.mouseenter(e).mouseleave(br||e)}});var aP={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};b.each(["live","die"],function(br,e){b.fn[e]=function(bB,by,bD,bu){var bC,bz=0,bA,bt,bF,bw=bu||this.selector,bs=bu?this:b(this.context);if(typeof bB==="object"&&!bB.preventDefault){for(var bE in bB){bs[e](bE,by,bB[bE],bw)}return this}if(e==="die"&&!bB&&bu&&bu.charAt(0)==="."){bs.unbind(bu);return this}if(by===false||b.isFunction(by)){bD=by||bg;by=K}bB=(bB||"").split(" ");while((bC=bB[bz++])!=null){bA=aW.exec(bC);bt="";if(bA){bt=bA[0];bC=bC.replace(aW,"")}if(bC==="hover"){bB.push("mouseenter"+bt,"mouseleave"+bt);continue}bF=bC;if(aP[bC]){bB.push(aP[bC]+bt);bC=bC+bt}else{bC=(aP[bC]||bC)+bt}if(e==="live"){for(var bx=0,bv=bs.length;bx<bv;bx++){b.event.add(bs[bx],"live."+p(bC,bw),{data:by,selector:bw,handler:bD,origType:bC,origHandler:bD,preType:bF})}}else{bs.unbind("live."+p(bC,bw),bD)}}return this}});function ag(bB){var by,bt,bH,bv,e,bD,bA,bC,bz,bG,bx,bw,bF,bE=[],bu=[],br=b._data(this,"events");if(bB.liveFired===this||!br||!br.live||bB.target.disabled||bB.button&&bB.type==="click"){return}if(bB.namespace){bw=new RegExp("(^|\\.)"+bB.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)")}bB.liveFired=this;var bs=br.live.slice(0);for(bA=0;bA<bs.length;bA++){e=bs[bA];if(e.origType.replace(aW,"")===bB.type){bu.push(e.selector)}else{bs.splice(bA--,1)}}bv=b(bB.target).closest(bu,bB.currentTarget);for(bC=0,bz=bv.length;bC<bz;bC++){bx=bv[bC];for(bA=0;bA<bs.length;bA++){e=bs[bA];if(bx.selector===e.selector&&(!bw||bw.test(e.namespace))&&!bx.elem.disabled){bD=bx.elem;bH=null;if(e.preType==="mouseenter"||e.preType==="mouseleave"){bB.type=e.preType;bH=b(bB.relatedTarget).closest(e.selector)[0];if(bH&&b.contains(bD,bH)){bH=bD}}if(!bH||bH!==bD){bE.push({elem:bD,handleObj:e,level:bx.level})}}}}for(bC=0,bz=bE.length;bC<bz;bC++){bv=bE[bC];if(bt&&bv.level>bt){break}bB.currentTarget=bv.elem;bB.data=bv.handleObj.data;bB.handleObj=bv.handleObj;bF=bv.handleObj.origHandler.apply(bv.elem,arguments);if(bF===false||bB.isPropagationStopped()){bt=bv.level;if(bF===false){by=false}if(bB.isImmediatePropagationStopped()){break}}}return by}function p(br,e){return(br&&br!=="*"?br+".":"")+e.replace(N,"`").replace(be,"&")}b.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error").split(" "),function(br,e){b.fn[e]=function(bt,bs){if(bs==null){bs=bt;bt=null}return arguments.length>0?this.bind(e,bt,bs):this.trigger(e)};if(b.attrFn){b.attrFn[e]=true}});
/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){var bB=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,bC=0,bF=Object.prototype.toString,bw=false,bv=true,bD=/\\/g,bJ=/\W/;[0,0].sort(function(){bv=false;return 0});var bt=function(bO,e,bR,bS){bR=bR||[];e=e||ap;var bU=e;if(e.nodeType!==1&&e.nodeType!==9){return[]}if(!bO||typeof bO!=="string"){return bR}var bL,bW,bZ,bK,bV,bY,bX,bQ,bN=true,bM=bt.isXML(e),bP=[],bT=bO;do{bB.exec("");bL=bB.exec(bT);if(bL){bT=bL[3];bP.push(bL[1]);if(bL[2]){bK=bL[3];break}}}while(bL);if(bP.length>1&&bx.exec(bO)){if(bP.length===2&&by.relative[bP[0]]){bW=bG(bP[0]+bP[1],e)}else{bW=by.relative[bP[0]]?[e]:bt(bP.shift(),e);while(bP.length){bO=bP.shift();if(by.relative[bO]){bO+=bP.shift()}bW=bG(bO,bW)}}}else{if(!bS&&bP.length>1&&e.nodeType===9&&!bM&&by.match.ID.test(bP[0])&&!by.match.ID.test(bP[bP.length-1])){bV=bt.find(bP.shift(),e,bM);e=bV.expr?bt.filter(bV.expr,bV.set)[0]:bV.set[0]}if(e){bV=bS?{expr:bP.pop(),set:bz(bS)}:bt.find(bP.pop(),bP.length===1&&(bP[0]==="~"||bP[0]==="+")&&e.parentNode?e.parentNode:e,bM);bW=bV.expr?bt.filter(bV.expr,bV.set):bV.set;if(bP.length>0){bZ=bz(bW)}else{bN=false}while(bP.length){bY=bP.pop();bX=bY;if(!by.relative[bY]){bY=""}else{bX=bP.pop()}if(bX==null){bX=e}by.relative[bY](bZ,bX,bM)}}else{bZ=bP=[]}}if(!bZ){bZ=bW}if(!bZ){bt.error(bY||bO)}if(bF.call(bZ)==="[object Array]"){if(!bN){bR.push.apply(bR,bZ)}else{if(e&&e.nodeType===1){for(bQ=0;bZ[bQ]!=null;bQ++){if(bZ[bQ]&&(bZ[bQ]===true||bZ[bQ].nodeType===1&&bt.contains(e,bZ[bQ]))){bR.push(bW[bQ])}}}else{for(bQ=0;bZ[bQ]!=null;bQ++){if(bZ[bQ]&&bZ[bQ].nodeType===1){bR.push(bW[bQ])}}}}}else{bz(bZ,bR)}if(bK){bt(bK,bU,bR,bS);bt.uniqueSort(bR)}return bR};bt.uniqueSort=function(bK){if(bE){bw=bv;bK.sort(bE);if(bw){for(var e=1;e<bK.length;e++){if(bK[e]===bK[e-1]){bK.splice(e--,1)}}}}return bK};bt.matches=function(e,bK){return bt(e,null,null,bK)};bt.matchesSelector=function(e,bK){return bt(bK,null,null,[e]).length>0};bt.find=function(bQ,e,bR){var bP;if(!bQ){return[]}for(var bM=0,bL=by.order.length;bM<bL;bM++){var bN,bO=by.order[bM];if((bN=by.leftMatch[bO].exec(bQ))){var bK=bN[1];bN.splice(1,1);if(bK.substr(bK.length-1)!=="\\"){bN[1]=(bN[1]||"").replace(bD,"");bP=by.find[bO](bN,e,bR);if(bP!=null){bQ=bQ.replace(by.match[bO],"");break}}}}if(!bP){bP=typeof e.getElementsByTagName!=="undefined"?e.getElementsByTagName("*"):[]}return{set:bP,expr:bQ}};bt.filter=function(bU,bT,bX,bN){var bP,e,bL=bU,bZ=[],bR=bT,bQ=bT&&bT[0]&&bt.isXML(bT[0]);while(bU&&bT.length){for(var bS in by.filter){if((bP=by.leftMatch[bS].exec(bU))!=null&&bP[2]){var bY,bW,bK=by.filter[bS],bM=bP[1];e=false;bP.splice(1,1);if(bM.substr(bM.length-1)==="\\"){continue}if(bR===bZ){bZ=[]}if(by.preFilter[bS]){bP=by.preFilter[bS](bP,bR,bX,bZ,bN,bQ);if(!bP){e=bY=true}else{if(bP===true){continue}}}if(bP){for(var bO=0;(bW=bR[bO])!=null;bO++){if(bW){bY=bK(bW,bP,bO,bR);var bV=bN^!!bY;if(bX&&bY!=null){if(bV){e=true}else{bR[bO]=false}}else{if(bV){bZ.push(bW);e=true}}}}}if(bY!==K){if(!bX){bR=bZ}bU=bU.replace(by.match[bS],"");if(!e){return[]}break}}}if(bU===bL){if(e==null){bt.error(bU)}else{break}}bL=bU}return bR};bt.error=function(e){throw"Syntax error, unrecognized expression: "+e};var by=bt.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(bP,bK){var bM=typeof bK==="string",bO=bM&&!bJ.test(bK),bQ=bM&&!bO;if(bO){bK=bK.toLowerCase()}for(var bL=0,e=bP.length,bN;bL<e;bL++){if((bN=bP[bL])){while((bN=bN.previousSibling)&&bN.nodeType!==1){}bP[bL]=bQ||bN&&bN.nodeName.toLowerCase()===bK?bN||false:bN===bK}}if(bQ){bt.filter(bK,bP,true)}},">":function(bP,bK){var bO,bN=typeof bK==="string",bL=0,e=bP.length;if(bN&&!bJ.test(bK)){bK=bK.toLowerCase();for(;bL<e;bL++){bO=bP[bL];if(bO){var bM=bO.parentNode;bP[bL]=bM.nodeName.toLowerCase()===bK?bM:false}}}else{for(;bL<e;bL++){bO=bP[bL];if(bO){bP[bL]=bN?bO.parentNode:bO.parentNode===bK}}if(bN){bt.filter(bK,bP,true)}}},"":function(bM,bK,bO){var bN,bL=bC++,e=bH;if(typeof bK==="string"&&!bJ.test(bK)){bK=bK.toLowerCase();bN=bK;e=br}e("parentNode",bK,bL,bM,bN,bO)},"~":function(bM,bK,bO){var bN,bL=bC++,e=bH;if(typeof bK==="string"&&!bJ.test(bK)){bK=bK.toLowerCase();bN=bK;e=br}e("previousSibling",bK,bL,bM,bN,bO)}},find:{ID:function(bK,bL,bM){if(typeof bL.getElementById!=="undefined"&&!bM){var e=bL.getElementById(bK[1]);return e&&e.parentNode?[e]:[]}},NAME:function(bL,bO){if(typeof bO.getElementsByName!=="undefined"){var bK=[],bN=bO.getElementsByName(bL[1]);for(var bM=0,e=bN.length;bM<e;bM++){if(bN[bM].getAttribute("name")===bL[1]){bK.push(bN[bM])}}return bK.length===0?null:bK}},TAG:function(e,bK){if(typeof bK.getElementsByTagName!=="undefined"){return bK.getElementsByTagName(e[1])}}},preFilter:{CLASS:function(bM,bK,bL,e,bP,bQ){bM=" "+bM[1].replace(bD,"")+" ";if(bQ){return bM}for(var bN=0,bO;(bO=bK[bN])!=null;bN++){if(bO){if(bP^(bO.className&&(" "+bO.className+" ").replace(/[\t\n\r]/g," ").indexOf(bM)>=0)){if(!bL){e.push(bO)}}else{if(bL){bK[bN]=false}}}}return false},ID:function(e){return e[1].replace(bD,"")},TAG:function(bK,e){return bK[1].replace(bD,"").toLowerCase()},CHILD:function(e){if(e[1]==="nth"){if(!e[2]){bt.error(e[0])}e[2]=e[2].replace(/^\+|\s*/g,"");var bK=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(e[2]==="even"&&"2n"||e[2]==="odd"&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=(bK[1]+(bK[2]||1))-0;e[3]=bK[3]-0}else{if(e[2]){bt.error(e[0])}}e[0]=bC++;return e},ATTR:function(bN,bK,bL,e,bO,bP){var bM=bN[1]=bN[1].replace(bD,"");if(!bP&&by.attrMap[bM]){bN[1]=by.attrMap[bM]}bN[4]=(bN[4]||bN[5]||"").replace(bD,"");if(bN[2]==="~="){bN[4]=" "+bN[4]+" "}return bN},PSEUDO:function(bN,bK,bL,e,bO){if(bN[1]==="not"){if((bB.exec(bN[3])||"").length>1||/^\w/.test(bN[3])){bN[3]=bt(bN[3],null,null,bK)}else{var bM=bt.filter(bN[3],bK,bL,true^bO);if(!bL){e.push.apply(e,bM)}return false}}else{if(by.match.POS.test(bN[0])||by.match.CHILD.test(bN[0])){return true}}return bN},POS:function(e){e.unshift(true);return e}},filters:{enabled:function(e){return e.disabled===false&&e.type!=="hidden"},disabled:function(e){return e.disabled===true},checked:function(e){return e.checked===true},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},parent:function(e){return !!e.firstChild},empty:function(e){return !e.firstChild},has:function(bL,bK,e){return !!bt(e[3],bL).length},header:function(e){return(/h\d/i).test(e.nodeName)},text:function(bL){var e=bL.getAttribute("type"),bK=bL.type;return bL.nodeName.toLowerCase()==="input"&&"text"===bK&&(e===bK||e===null)},radio:function(e){return e.nodeName.toLowerCase()==="input"&&"radio"===e.type},checkbox:function(e){return e.nodeName.toLowerCase()==="input"&&"checkbox"===e.type},file:function(e){return e.nodeName.toLowerCase()==="input"&&"file"===e.type},password:function(e){return e.nodeName.toLowerCase()==="input"&&"password"===e.type},submit:function(bK){var e=bK.nodeName.toLowerCase();return(e==="input"||e==="button")&&"submit"===bK.type},image:function(e){return e.nodeName.toLowerCase()==="input"&&"image"===e.type},reset:function(bK){var e=bK.nodeName.toLowerCase();return(e==="input"||e==="button")&&"reset"===bK.type},button:function(bK){var e=bK.nodeName.toLowerCase();return e==="input"&&"button"===bK.type||e==="button"},input:function(e){return(/input|select|textarea|button/i).test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(bK,e){return e===0},last:function(bL,bK,e,bM){return bK===bM.length-1},even:function(bK,e){return e%2===0},odd:function(bK,e){return e%2===1},lt:function(bL,bK,e){return bK<e[3]-0},gt:function(bL,bK,e){return bK>e[3]-0},nth:function(bL,bK,e){return e[3]-0===bK},eq:function(bL,bK,e){return e[3]-0===bK}},filter:{PSEUDO:function(bL,bQ,bP,bR){var e=bQ[1],bK=by.filters[e];if(bK){return bK(bL,bP,bQ,bR)}else{if(e==="contains"){return(bL.textContent||bL.innerText||bt.getText([bL])||"").indexOf(bQ[3])>=0}else{if(e==="not"){var bM=bQ[3];for(var bO=0,bN=bM.length;bO<bN;bO++){if(bM[bO]===bL){return false}}return true}else{bt.error(e)}}}},CHILD:function(e,bM){var bP=bM[1],bK=e;switch(bP){case"only":case"first":while((bK=bK.previousSibling)){if(bK.nodeType===1){return false}}if(bP==="first"){return true}bK=e;case"last":while((bK=bK.nextSibling)){if(bK.nodeType===1){return false}}return true;case"nth":var bL=bM[2],bS=bM[3];if(bL===1&&bS===0){return true}var bO=bM[0],bR=e.parentNode;if(bR&&(bR.sizcache!==bO||!e.nodeIndex)){var bN=0;for(bK=bR.firstChild;bK;bK=bK.nextSibling){if(bK.nodeType===1){bK.nodeIndex=++bN}}bR.sizcache=bO}var bQ=e.nodeIndex-bS;if(bL===0){return bQ===0}else{return(bQ%bL===0&&bQ/bL>=0)}}},ID:function(bK,e){return bK.nodeType===1&&bK.getAttribute("id")===e},TAG:function(bK,e){return(e==="*"&&bK.nodeType===1)||bK.nodeName.toLowerCase()===e},CLASS:function(bK,e){return(" "+(bK.className||bK.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(bO,bM){var bL=bM[1],e=by.attrHandle[bL]?by.attrHandle[bL](bO):bO[bL]!=null?bO[bL]:bO.getAttribute(bL),bP=e+"",bN=bM[2],bK=bM[4];return e==null?bN==="!=":bN==="="?bP===bK:bN==="*="?bP.indexOf(bK)>=0:bN==="~="?(" "+bP+" ").indexOf(bK)>=0:!bK?bP&&e!==false:bN==="!="?bP!==bK:bN==="^="?bP.indexOf(bK)===0:bN==="$="?bP.substr(bP.length-bK.length)===bK:bN==="|="?bP===bK||bP.substr(0,bK.length+1)===bK+"-":false},POS:function(bN,bK,bL,bO){var e=bK[2],bM=by.setFilters[e];if(bM){return bM(bN,bL,bK,bO)}}}};var bx=by.match.POS,bs=function(bK,e){return"\\"+(e-0+1)};for(var bu in by.match){by.match[bu]=new RegExp(by.match[bu].source+(/(?![^\[]*\])(?![^\(]*\))/.source));by.leftMatch[bu]=new RegExp(/(^(?:.|\r|\n)*?)/.source+by.match[bu].source.replace(/\\(\d+)/g,bs))}var bz=function(bK,e){bK=Array.prototype.slice.call(bK,0);if(e){e.push.apply(e,bK);return e}return bK};try{Array.prototype.slice.call(ap.documentElement.childNodes,0)[0].nodeType}catch(bI){bz=function(bN,bM){var bL=0,bK=bM||[];if(bF.call(bN)==="[object Array]"){Array.prototype.push.apply(bK,bN)}else{if(typeof bN.length==="number"){for(var e=bN.length;bL<e;bL++){bK.push(bN[bL])}}else{for(;bN[bL];bL++){bK.push(bN[bL])}}}return bK}}var bE,bA;if(ap.documentElement.compareDocumentPosition){bE=function(bK,e){if(bK===e){bw=true;return 0}if(!bK.compareDocumentPosition||!e.compareDocumentPosition){return bK.compareDocumentPosition?-1:1}return bK.compareDocumentPosition(e)&4?-1:1}}else{bE=function(bR,bQ){if(bR===bQ){bw=true;return 0}else{if(bR.sourceIndex&&bQ.sourceIndex){return bR.sourceIndex-bQ.sourceIndex}}var bO,bK,bL=[],e=[],bN=bR.parentNode,bP=bQ.parentNode,bS=bN;if(bN===bP){return bA(bR,bQ)}else{if(!bN){return -1}else{if(!bP){return 1}}}while(bS){bL.unshift(bS);bS=bS.parentNode}bS=bP;while(bS){e.unshift(bS);bS=bS.parentNode}bO=bL.length;bK=e.length;for(var bM=0;bM<bO&&bM<bK;bM++){if(bL[bM]!==e[bM]){return bA(bL[bM],e[bM])}}return bM===bO?bA(bR,e[bM],-1):bA(bL[bM],bQ,1)};bA=function(bK,e,bL){if(bK===e){return bL}var bM=bK.nextSibling;while(bM){if(bM===e){return -1}bM=bM.nextSibling}return 1}}bt.getText=function(e){var bK="",bM;for(var bL=0;e[bL];bL++){bM=e[bL];if(bM.nodeType===3||bM.nodeType===4){bK+=bM.nodeValue}else{if(bM.nodeType!==8){bK+=bt.getText(bM.childNodes)}}}return bK};(function(){var bK=ap.createElement("div"),bL="script"+(new Date()).getTime(),e=ap.documentElement;bK.innerHTML="<a name='"+bL+"'/>";e.insertBefore(bK,e.firstChild);if(ap.getElementById(bL)){by.find.ID=function(bN,bO,bP){if(typeof bO.getElementById!=="undefined"&&!bP){var bM=bO.getElementById(bN[1]);return bM?bM.id===bN[1]||typeof bM.getAttributeNode!=="undefined"&&bM.getAttributeNode("id").nodeValue===bN[1]?[bM]:K:[]}};by.filter.ID=function(bO,bM){var bN=typeof bO.getAttributeNode!=="undefined"&&bO.getAttributeNode("id");return bO.nodeType===1&&bN&&bN.nodeValue===bM}}e.removeChild(bK);e=bK=null})();(function(){var e=ap.createElement("div");e.appendChild(ap.createComment(""));if(e.getElementsByTagName("*").length>0){by.find.TAG=function(bK,bO){var bN=bO.getElementsByTagName(bK[1]);if(bK[1]==="*"){var bM=[];for(var bL=0;bN[bL];bL++){if(bN[bL].nodeType===1){bM.push(bN[bL])}}bN=bM}return bN}}e.innerHTML="<a href='#'></a>";if(e.firstChild&&typeof e.firstChild.getAttribute!=="undefined"&&e.firstChild.getAttribute("href")!=="#"){by.attrHandle.href=function(bK){return bK.getAttribute("href",2)}}e=null})();if(ap.querySelectorAll){(function(){var e=bt,bM=ap.createElement("div"),bL="__sizzle__";bM.innerHTML="<p class='TEST'></p>";if(bM.querySelectorAll&&bM.querySelectorAll(".TEST").length===0){return}bt=function(bX,bO,bS,bW){bO=bO||ap;if(!bW&&!bt.isXML(bO)){var bV=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(bX);if(bV&&(bO.nodeType===1||bO.nodeType===9)){if(bV[1]){return bz(bO.getElementsByTagName(bX),bS)}else{if(bV[2]&&by.find.CLASS&&bO.getElementsByClassName){return bz(bO.getElementsByClassName(bV[2]),bS)}}}if(bO.nodeType===9){if(bX==="body"&&bO.body){return bz([bO.body],bS)}else{if(bV&&bV[3]){var bR=bO.getElementById(bV[3]);if(bR&&bR.parentNode){if(bR.id===bV[3]){return bz([bR],bS)}}else{return bz([],bS)}}}try{return bz(bO.querySelectorAll(bX),bS)}catch(bT){}}else{if(bO.nodeType===1&&bO.nodeName.toLowerCase()!=="object"){var bP=bO,bQ=bO.getAttribute("id"),bN=bQ||bL,bZ=bO.parentNode,bY=/^\s*[+~]/.test(bX);if(!bQ){bO.setAttribute("id",bN)}else{bN=bN.replace(/'/g,"\\$&")}if(bY&&bZ){bO=bO.parentNode}try{if(!bY||bZ){return bz(bO.querySelectorAll("[id='"+bN+"'] "+bX),bS)}}catch(bU){}finally{if(!bQ){bP.removeAttribute("id")}}}}}return e(bX,bO,bS,bW)};for(var bK in e){bt[bK]=e[bK]}bM=null})()}(function(){var e=ap.documentElement,bL=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(bL){var bN=!bL.call(ap.createElement("div"),"div"),bK=false;try{bL.call(ap.documentElement,"[test!='']:sizzle")}catch(bM){bK=true}bt.matchesSelector=function(bP,bR){bR=bR.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!bt.isXML(bP)){try{if(bK||!by.match.PSEUDO.test(bR)&&!/!=/.test(bR)){var bO=bL.call(bP,bR);if(bO||!bN||bP.document&&bP.document.nodeType!==11){return bO}}}catch(bQ){}}return bt(bR,null,null,[bP]).length>0}}})();(function(){var e=ap.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";if(!e.getElementsByClassName||e.getElementsByClassName("e").length===0){return}e.lastChild.className="e";if(e.getElementsByClassName("e").length===1){return}by.order.splice(1,0,"CLASS");by.find.CLASS=function(bK,bL,bM){if(typeof bL.getElementsByClassName!=="undefined"&&!bM){return bL.getElementsByClassName(bK[1])}};e=null})();function br(bK,bP,bO,bS,bQ,bR){for(var bM=0,bL=bS.length;bM<bL;bM++){var e=bS[bM];if(e){var bN=false;e=e[bK];while(e){if(e.sizcache===bO){bN=bS[e.sizset];break}if(e.nodeType===1&&!bR){e.sizcache=bO;e.sizset=bM}if(e.nodeName.toLowerCase()===bP){bN=e;break}e=e[bK]}bS[bM]=bN}}}function bH(bK,bP,bO,bS,bQ,bR){for(var bM=0,bL=bS.length;bM<bL;bM++){var e=bS[bM];if(e){var bN=false;e=e[bK];while(e){if(e.sizcache===bO){bN=bS[e.sizset];break}if(e.nodeType===1){if(!bR){e.sizcache=bO;e.sizset=bM}if(typeof bP!=="string"){if(e===bP){bN=true;break}}else{if(bt.filter(bP,[e]).length>0){bN=e;break}}}e=e[bK]}bS[bM]=bN}}}if(ap.documentElement.contains){bt.contains=function(bK,e){return bK!==e&&(bK.contains?bK.contains(e):true)}}else{if(ap.documentElement.compareDocumentPosition){bt.contains=function(bK,e){return !!(bK.compareDocumentPosition(e)&16)}}else{bt.contains=function(){return false}}}bt.isXML=function(e){var bK=(e?e.ownerDocument||e:0).documentElement;return bK?bK.nodeName!=="HTML":false};var bG=function(e,bQ){var bO,bM=[],bN="",bL=bQ.nodeType?[bQ]:bQ;while((bO=by.match.PSEUDO.exec(e))){bN+=bO[0];e=e.replace(by.match.PSEUDO,"")}e=by.relative[e]?e+"*":e;for(var bP=0,bK=bL.length;bP<bK;bP++){bt(e,bL[bP],bM)}return bt.filter(bN,bM)};b.find=bt;b.expr=bt.selectors;b.expr[":"]=b.expr.filters;b.unique=bt.uniqueSort;b.text=bt.getText;b.isXMLDoc=bt.isXML;b.contains=bt.contains})();var X=/Until$/,al=/^(?:parents|prevUntil|prevAll)/,a5=/,/,bm=/^.[^:#\[\.,]*$/,P=Array.prototype.slice,H=b.expr.match.POS,at={children:true,contents:true,next:true,prev:true};b.fn.extend({find:function(e){var bs=this,bu,br;if(typeof e!=="string"){return b(e).filter(function(){for(bu=0,br=bs.length;bu<br;bu++){if(b.contains(bs[bu],this)){return true}}})}var bt=this.pushStack("","find",e),bw,bx,bv;for(bu=0,br=this.length;bu<br;bu++){bw=bt.length;b.find(e,this[bu],bt);if(bu>0){for(bx=bw;bx<bt.length;bx++){for(bv=0;bv<bw;bv++){if(bt[bv]===bt[bx]){bt.splice(bx--,1);break}}}}}return bt},has:function(br){var e=b(br);return this.filter(function(){for(var bt=0,bs=e.length;bt<bs;bt++){if(b.contains(this,e[bt])){return true}}})},not:function(e){return this.pushStack(aA(this,e,false),"not",e)},filter:function(e){return this.pushStack(aA(this,e,true),"filter",e)},is:function(e){return !!e&&(typeof e==="string"?b.filter(e,this).length>0:this.filter(e).length>0)},closest:function(bA,br){var bx=[],bu,bs,bz=this[0];if(b.isArray(bA)){var bw,bt,bv={},e=1;if(bz&&bA.length){for(bu=0,bs=bA.length;bu<bs;bu++){bt=bA[bu];if(!bv[bt]){bv[bt]=H.test(bt)?b(bt,br||this.context):bt}}while(bz&&bz.ownerDocument&&bz!==br){for(bt in bv){bw=bv[bt];if(bw.jquery?bw.index(bz)>-1:b(bz).is(bw)){bx.push({selector:bt,elem:bz,level:e})}}bz=bz.parentNode;e++}}return bx}var by=H.test(bA)||typeof bA!=="string"?b(bA,br||this.context):0;for(bu=0,bs=this.length;bu<bs;bu++){bz=this[bu];while(bz){if(by?by.index(bz)>-1:b.find.matchesSelector(bz,bA)){bx.push(bz);break}else{bz=bz.parentNode;if(!bz||!bz.ownerDocument||bz===br||bz.nodeType===11){break}}}}bx=bx.length>1?b.unique(bx):bx;return this.pushStack(bx,"closest",bA)},index:function(e){if(!e){return(this[0]&&this[0].parentNode)?this.prevAll().length:-1}if(typeof e==="string"){return b.inArray(this[0],b(e))}return b.inArray(e.jquery?e[0]:e,this)},add:function(e,br){var bt=typeof e==="string"?b(e,br):b.makeArray(e&&e.nodeType?[e]:e),bs=b.merge(this.get(),bt);return this.pushStack(C(bt[0])||C(bs[0])?bs:b.unique(bs))},andSelf:function(){return this.add(this.prevObject)}});function C(e){return !e||!e.parentNode||e.parentNode.nodeType===11}b.each({parent:function(br){var e=br.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return b.dir(e,"parentNode")},parentsUntil:function(br,e,bs){return b.dir(br,"parentNode",bs)},next:function(e){return b.nth(e,2,"nextSibling")},prev:function(e){return b.nth(e,2,"previousSibling")},nextAll:function(e){return b.dir(e,"nextSibling")},prevAll:function(e){return b.dir(e,"previousSibling")},nextUntil:function(br,e,bs){return b.dir(br,"nextSibling",bs)},prevUntil:function(br,e,bs){return b.dir(br,"previousSibling",bs)},siblings:function(e){return b.sibling(e.parentNode.firstChild,e)},children:function(e){return b.sibling(e.firstChild)},contents:function(e){return b.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:b.makeArray(e.childNodes)}},function(e,br){b.fn[e]=function(bv,bs){var bu=b.map(this,br,bv),bt=P.call(arguments);if(!X.test(e)){bs=bv}if(bs&&typeof bs==="string"){bu=b.filter(bs,bu)}bu=this.length>1&&!at[e]?b.unique(bu):bu;if((this.length>1||a5.test(bs))&&al.test(e)){bu=bu.reverse()}return this.pushStack(bu,e,bt.join(","))}});b.extend({filter:function(bs,e,br){if(br){bs=":not("+bs+")"}return e.length===1?b.find.matchesSelector(e[0],bs)?[e[0]]:[]:b.find.matches(bs,e)},dir:function(bs,br,bu){var e=[],bt=bs[br];while(bt&&bt.nodeType!==9&&(bu===K||bt.nodeType!==1||!b(bt).is(bu))){if(bt.nodeType===1){e.push(bt)}bt=bt[br]}return e},nth:function(bu,e,bs,bt){e=e||1;var br=0;for(;bu;bu=bu[bs]){if(bu.nodeType===1&&++br===e){break}}return bu},sibling:function(bs,br){var e=[];for(;bs;bs=bs.nextSibling){if(bs.nodeType===1&&bs!==br){e.push(bs)}}return e}});function aA(bt,bs,e){bs=bs||0;if(b.isFunction(bs)){return b.grep(bt,function(bv,bu){var bw=!!bs.call(bv,bu,bv);return bw===e})}else{if(bs.nodeType){return b.grep(bt,function(bv,bu){return(bv===bs)===e})}else{if(typeof bs==="string"){var br=b.grep(bt,function(bu){return bu.nodeType===1});if(bm.test(bs)){return b.filter(bs,br,!e)}else{bs=b.filter(bs,br)}}}}return b.grep(bt,function(bv,bu){return(b.inArray(bv,bs)>=0)===e})}var ac=/ jQuery\d+="(?:\d+|null)"/g,am=/^\s+/,R=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,d=/<([\w:]+)/,w=/<tbody/i,U=/<|&#?\w+;/,O=/<(?:script|object|embed|option|style)/i,n=/checked\s*(?:[^=]|=\s*.checked.)/i,bi=/\/(java|ecma)script/i,aI=/^\s*<!(?:\[CDATA\[|\-\-)/,ar={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};ar.optgroup=ar.option;ar.tbody=ar.tfoot=ar.colgroup=ar.caption=ar.thead;ar.th=ar.td;if(!b.support.htmlSerialize){ar._default=[1,"div<div>","</div>"]}b.fn.extend({text:function(e){if(b.isFunction(e)){return this.each(function(bs){var br=b(this);br.text(e.call(this,bs,br.text()))})}if(typeof e!=="object"&&e!==K){return this.empty().append((this[0]&&this[0].ownerDocument||ap).createTextNode(e))}return b.text(this)},wrapAll:function(e){if(b.isFunction(e)){return this.each(function(bs){b(this).wrapAll(e.call(this,bs))})}if(this[0]){var br=b(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){br.insertBefore(this[0])}br.map(function(){var bs=this;while(bs.firstChild&&bs.firstChild.nodeType===1){bs=bs.firstChild}return bs}).append(this)}return this},wrapInner:function(e){if(b.isFunction(e)){return this.each(function(br){b(this).wrapInner(e.call(this,br))})}return this.each(function(){var br=b(this),bs=br.contents();if(bs.length){bs.wrapAll(e)}else{br.append(e)}})},wrap:function(e){return this.each(function(){b(this).wrapAll(e)})},unwrap:function(){return this.parent().each(function(){if(!b.nodeName(this,"body")){b(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1){this.appendChild(e)}})},prepend:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1){this.insertBefore(e,this.firstChild)}})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(br){this.parentNode.insertBefore(br,this)})}else{if(arguments.length){var e=b(arguments[0]);e.push.apply(e,this.toArray());return this.pushStack(e,"before",arguments)}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(br){this.parentNode.insertBefore(br,this.nextSibling)})}else{if(arguments.length){var e=this.pushStack(this,"after",arguments);e.push.apply(e,b(arguments[0]).toArray());return e}}},remove:function(e,bt){for(var br=0,bs;(bs=this[br])!=null;br++){if(!e||b.filter(e,[bs]).length){if(!bt&&bs.nodeType===1){b.cleanData(bs.getElementsByTagName("*"));b.cleanData([bs])}if(bs.parentNode){bs.parentNode.removeChild(bs)}}}return this},empty:function(){for(var e=0,br;(br=this[e])!=null;e++){if(br.nodeType===1){b.cleanData(br.getElementsByTagName("*"))}while(br.firstChild){br.removeChild(br.firstChild)}}return this},clone:function(br,e){br=br==null?false:br;e=e==null?br:e;return this.map(function(){return b.clone(this,br,e)})},html:function(bt){if(bt===K){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(ac,""):null}else{if(typeof bt==="string"&&!O.test(bt)&&(b.support.leadingWhitespace||!am.test(bt))&&!ar[(d.exec(bt)||["",""])[1].toLowerCase()]){bt=bt.replace(R,"<$1></$2>");try{for(var bs=0,br=this.length;bs<br;bs++){if(this[bs].nodeType===1){b.cleanData(this[bs].getElementsByTagName("*"));this[bs].innerHTML=bt}}}catch(bu){this.empty().append(bt)}}else{if(b.isFunction(bt)){this.each(function(bv){var e=b(this);e.html(bt.call(this,bv,e.html()))})}else{this.empty().append(bt)}}}return this},replaceWith:function(e){if(this[0]&&this[0].parentNode){if(b.isFunction(e)){return this.each(function(bt){var bs=b(this),br=bs.html();bs.replaceWith(e.call(this,bt,br))})}if(typeof e!=="string"){e=b(e).detach()}return this.each(function(){var bs=this.nextSibling,br=this.parentNode;b(this).remove();if(bs){b(bs).before(e)}else{b(br).append(e)}})}else{return this.length?this.pushStack(b(b.isFunction(e)?e():e),"replaceWith",e):this}},detach:function(e){return this.remove(e,true)},domManip:function(bx,bB,bA){var bt,bu,bw,bz,by=bx[0],br=[];if(!b.support.checkClone&&arguments.length===3&&typeof by==="string"&&n.test(by)){return this.each(function(){b(this).domManip(bx,bB,bA,true)})}if(b.isFunction(by)){return this.each(function(bD){var bC=b(this);bx[0]=by.call(this,bD,bB?bC.html():K);bC.domManip(bx,bB,bA)})}if(this[0]){bz=by&&by.parentNode;if(b.support.parentNode&&bz&&bz.nodeType===11&&bz.childNodes.length===this.length){bt={fragment:bz}}else{bt=b.buildFragment(bx,this,br)}bw=bt.fragment;if(bw.childNodes.length===1){bu=bw=bw.firstChild}else{bu=bw.firstChild}if(bu){bB=bB&&b.nodeName(bu,"tr");for(var bs=0,e=this.length,bv=e-1;bs<e;bs++){bA.call(bB?a6(this[bs],bu):this[bs],bt.cacheable||(e>1&&bs<bv)?b.clone(bw,true,true):bw)}}if(br.length){b.each(br,bl)}}return this}});function a6(e,br){return b.nodeName(e,"table")?(e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody"))):e}function t(e,bx){if(bx.nodeType!==1||!b.hasData(e)){return}var bw=b.expando,bt=b.data(e),bu=b.data(bx,bt);if((bt=bt[bw])){var by=bt.events;bu=bu[bw]=b.extend({},bt);if(by){delete bu.handle;bu.events={};for(var bv in by){for(var bs=0,br=by[bv].length;bs<br;bs++){b.event.add(bx,bv+(by[bv][bs].namespace?".":"")+by[bv][bs].namespace,by[bv][bs],by[bv][bs].data)}}}}}function ad(br,e){var bs;if(e.nodeType!==1){return}if(e.clearAttributes){e.clearAttributes()}if(e.mergeAttributes){e.mergeAttributes(br)}bs=e.nodeName.toLowerCase();if(bs==="object"){e.outerHTML=br.outerHTML}else{if(bs==="input"&&(br.type==="checkbox"||br.type==="radio")){if(br.checked){e.defaultChecked=e.checked=br.checked}if(e.value!==br.value){e.value=br.value}}else{if(bs==="option"){e.selected=br.defaultSelected}else{if(bs==="input"||bs==="textarea"){e.defaultValue=br.defaultValue}}}}e.removeAttribute(b.expando)}b.buildFragment=function(bv,bt,br){var bu,e,bs,bw;if(bt&&bt[0]){bw=bt[0].ownerDocument||bt[0]}if(!bw.createDocumentFragment){bw=ap}if(bv.length===1&&typeof bv[0]==="string"&&bv[0].length<512&&bw===ap&&bv[0].charAt(0)==="<"&&!O.test(bv[0])&&(b.support.checkClone||!n.test(bv[0]))){e=true;bs=b.fragments[bv[0]];if(bs&&bs!==1){bu=bs}}if(!bu){bu=bw.createDocumentFragment();b.clean(bv,bw,bu,br)}if(e){b.fragments[bv[0]]=bs?bu:1}return{fragment:bu,cacheable:e}};b.fragments={};b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,br){b.fn[e]=function(bs){var bv=[],by=b(bs),bx=this.length===1&&this[0].parentNode;if(bx&&bx.nodeType===11&&bx.childNodes.length===1&&by.length===1){by[br](this[0]);return this}else{for(var bw=0,bt=by.length;bw<bt;bw++){var bu=(bw>0?this.clone(true):this).get();b(by[bw])[br](bu);bv=bv.concat(bu)}return this.pushStack(bv,e,by.selector)}}});function bb(e){if("getElementsByTagName" in e){return e.getElementsByTagName("*")}else{if("querySelectorAll" in e){return e.querySelectorAll("*")}else{return[]}}}function au(e){if(e.type==="checkbox"||e.type==="radio"){e.defaultChecked=e.checked}}function E(e){if(b.nodeName(e,"input")){au(e)}else{if("getElementsByTagName" in e){b.grep(e.getElementsByTagName("input"),au)}}}b.extend({clone:function(bu,bw,bs){var bv=bu.cloneNode(true),e,br,bt;if((!b.support.noCloneEvent||!b.support.noCloneChecked)&&(bu.nodeType===1||bu.nodeType===11)&&!b.isXMLDoc(bu)){ad(bu,bv);e=bb(bu);br=bb(bv);for(bt=0;e[bt];++bt){if(br[bt]){ad(e[bt],br[bt])}}}if(bw){t(bu,bv);if(bs){e=bb(bu);br=bb(bv);for(bt=0;e[bt];++bt){t(e[bt],br[bt])}}}e=br=null;return bv},clean:function(bs,bu,bD,bw){var bB;bu=bu||ap;if(typeof bu.createElement==="undefined"){bu=bu.ownerDocument||bu[0]&&bu[0].ownerDocument||ap}var bE=[],bx;for(var bA=0,bv;(bv=bs[bA])!=null;bA++){if(typeof bv==="number"){bv+=""}if(!bv){continue}if(typeof bv==="string"){if(!U.test(bv)){bv=bu.createTextNode(bv)}else{bv=bv.replace(R,"<$1></$2>");var bG=(d.exec(bv)||["",""])[1].toLowerCase(),bt=ar[bG]||ar._default,bz=bt[0],br=bu.createElement("div");br.innerHTML=bt[1]+bv+bt[2];while(bz--){br=br.lastChild}if(!b.support.tbody){var e=w.test(bv),by=bG==="table"&&!e?br.firstChild&&br.firstChild.childNodes:bt[1]==="<table>"&&!e?br.childNodes:[];for(bx=by.length-1;bx>=0;--bx){if(b.nodeName(by[bx],"tbody")&&!by[bx].childNodes.length){by[bx].parentNode.removeChild(by[bx])}}}if(!b.support.leadingWhitespace&&am.test(bv)){br.insertBefore(bu.createTextNode(am.exec(bv)[0]),br.firstChild)}bv=br.childNodes}}var bC;if(!b.support.appendChecked){if(bv[0]&&typeof(bC=bv.length)==="number"){for(bx=0;bx<bC;bx++){E(bv[bx])}}else{E(bv)}}if(bv.nodeType){bE.push(bv)}else{bE=b.merge(bE,bv)}}if(bD){bB=function(bH){return !bH.type||bi.test(bH.type)};for(bA=0;bE[bA];bA++){if(bw&&b.nodeName(bE[bA],"script")&&(!bE[bA].type||bE[bA].type.toLowerCase()==="text/javascript")){bw.push(bE[bA].parentNode?bE[bA].parentNode.removeChild(bE[bA]):bE[bA])}else{if(bE[bA].nodeType===1){var bF=b.grep(bE[bA].getElementsByTagName("script"),bB);bE.splice.apply(bE,[bA+1,0].concat(bF))}bD.appendChild(bE[bA])}}}return bE},cleanData:function(br){var bu,bs,e=b.cache,bz=b.expando,bx=b.event.special,bw=b.support.deleteExpando;for(var bv=0,bt;(bt=br[bv])!=null;bv++){if(bt.nodeName&&b.noData[bt.nodeName.toLowerCase()]){continue}bs=bt[b.expando];if(bs){bu=e[bs]&&e[bs][bz];if(bu&&bu.events){for(var by in bu.events){if(bx[by]){b.event.remove(bt,by)}else{b.removeEvent(bt,by,bu.handle)}}if(bu.handle){bu.handle.elem=null}}if(bw){delete bt[b.expando]}else{if(bt.removeAttribute){bt.removeAttribute(b.expando)}}delete e[bs]}}}});function bl(e,br){if(br.src){b.ajax({url:br.src,async:false,dataType:"script"})}else{b.globalEval((br.text||br.textContent||br.innerHTML||"").replace(aI,"/*$0*/"))}if(br.parentNode){br.parentNode.removeChild(br)}}var af=/alpha\([^)]*\)/i,ao=/opacity=([^)]*)/,z=/([A-Z]|^ms)/g,a8=/^-?\d+(?:px)?$/i,bk=/^-?\d/,I=/^([\-+])=([\-+.\de]+)/,a3={position:"absolute",visibility:"hidden",display:"block"},ai=["Left","Right"],aY=["Top","Bottom"],V,aD,aS;b.fn.css=function(e,br){if(arguments.length===2&&br===K){return this}return b.access(this,e,br,true,function(bt,bs,bu){return bu!==K?b.style(bt,bs,bu):b.css(bt,bs)})};b.extend({cssHooks:{opacity:{get:function(bs,br){if(br){var e=V(bs,"opacity","opacity");return e===""?"1":e}else{return bs.style.opacity}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":b.support.cssFloat?"cssFloat":"styleFloat"},style:function(bt,bs,bz,bu){if(!bt||bt.nodeType===3||bt.nodeType===8||!bt.style){return}var bx,by,bv=b.camelCase(bs),br=bt.style,bA=b.cssHooks[bv];bs=b.cssProps[bv]||bv;if(bz!==K){by=typeof bz;if(by==="string"&&(bx=I.exec(bz))){bz=(+(bx[1]+1)*+bx[2])+parseFloat(b.css(bt,bs));by="number"}if(bz==null||by==="number"&&isNaN(bz)){return}if(by==="number"&&!b.cssNumber[bv]){bz+="px"}if(!bA||!("set" in bA)||(bz=bA.set(bt,bz))!==K){try{br[bs]=bz}catch(bw){}}}else{if(bA&&"get" in bA&&(bx=bA.get(bt,false,bu))!==K){return bx}return br[bs]}},css:function(bu,bt,br){var bs,e;bt=b.camelCase(bt);e=b.cssHooks[bt];bt=b.cssProps[bt]||bt;if(bt==="cssFloat"){bt="float"}if(e&&"get" in e&&(bs=e.get(bu,true,br))!==K){return bs}else{if(V){return V(bu,bt)}}},swap:function(bt,bs,bu){var e={};for(var br in bs){e[br]=bt.style[br];bt.style[br]=bs[br]}bu.call(bt);for(br in bs){bt.style[br]=e[br]}}});b.curCSS=b.css;b.each(["height","width"],function(br,e){b.cssHooks[e]={get:function(bu,bt,bs){var bv;if(bt){if(bu.offsetWidth!==0){return o(bu,e,bs)}else{b.swap(bu,a3,function(){bv=o(bu,e,bs)})}return bv}},set:function(bs,bt){if(a8.test(bt)){bt=parseFloat(bt);if(bt>=0){return bt+"px"}}else{return bt}}}});if(!b.support.opacity){b.cssHooks.opacity={get:function(br,e){return ao.test((e&&br.currentStyle?br.currentStyle.filter:br.style.filter)||"")?(parseFloat(RegExp.$1)/100)+"":e?"1":""},set:function(bu,bv){var bt=bu.style,br=bu.currentStyle,e=b.isNaN(bv)?"":"alpha(opacity="+bv*100+")",bs=br&&br.filter||bt.filter||"";bt.zoom=1;if(bv>=1&&b.trim(bs.replace(af,""))===""){bt.removeAttribute("filter");if(br&&!br.filter){return}}bt.filter=af.test(bs)?bs.replace(af,e):bs+" "+e}}}b(function(){if(!b.support.reliableMarginRight){b.cssHooks.marginRight={get:function(bs,br){var e;b.swap(bs,{display:"inline-block"},function(){if(br){e=V(bs,"margin-right","marginRight")}else{e=bs.style.marginRight}});return e}}}});if(ap.defaultView&&ap.defaultView.getComputedStyle){aD=function(bu,bs){var br,bt,e;bs=bs.replace(z,"-$1").toLowerCase();if(!(bt=bu.ownerDocument.defaultView)){return K}if((e=bt.getComputedStyle(bu,null))){br=e.getPropertyValue(bs);if(br===""&&!b.contains(bu.ownerDocument.documentElement,bu)){br=b.style(bu,bs)}}return br}}if(ap.documentElement.currentStyle){aS=function(bu,bs){var bv,br=bu.currentStyle&&bu.currentStyle[bs],e=bu.runtimeStyle&&bu.runtimeStyle[bs],bt=bu.style;if(!a8.test(br)&&bk.test(br)){bv=bt.left;if(e){bu.runtimeStyle.left=bu.currentStyle.left}bt.left=bs==="fontSize"?"1em":(br||0);br=bt.pixelLeft+"px";bt.left=bv;if(e){bu.runtimeStyle.left=e}}return br===""?"auto":br}}V=aD||aS;function o(bs,br,e){var bu=br==="width"?bs.offsetWidth:bs.offsetHeight,bt=br==="width"?ai:aY;if(bu>0){if(e!=="border"){b.each(bt,function(){if(!e){bu-=parseFloat(b.css(bs,"padding"+this))||0}if(e==="margin"){bu+=parseFloat(b.css(bs,e+this))||0}else{bu-=parseFloat(b.css(bs,"border"+this+"Width"))||0}})}return bu+"px"}bu=V(bs,br,br);if(bu<0||bu==null){bu=bs.style[br]||0}bu=parseFloat(bu)||0;if(e){b.each(bt,function(){bu+=parseFloat(b.css(bs,"padding"+this))||0;if(e!=="padding"){bu+=parseFloat(b.css(bs,"border"+this+"Width"))||0}if(e==="margin"){bu+=parseFloat(b.css(bs,e+this))||0}})}return bu+"px"}if(b.expr&&b.expr.filters){b.expr.filters.hidden=function(bs){var br=bs.offsetWidth,e=bs.offsetHeight;return(br===0&&e===0)||(!b.support.reliableHiddenOffsets&&(bs.style.display||b.css(bs,"display"))==="none")};b.expr.filters.visible=function(e){return !b.expr.filters.hidden(e)}}var j=/%20/g,ak=/\[\]$/,bp=/\r?\n/g,bn=/#.*$/,ay=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,aV=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,aH=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,aK=/^(?:GET|HEAD)$/,c=/^\/\//,L=/\?/,a2=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,q=/^(?:select|textarea)/i,h=/\s+/,bo=/([?&])_=[^&]*/,J=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,A=b.fn.load,W={},r={},az,s,aO=["*/"]+["*"];try{az=bh.href}catch(aq){az=ap.createElement("a");az.href="";az=az.href}s=J.exec(az.toLowerCase())||[];function f(e){return function(bu,bw){if(typeof bu!=="string"){bw=bu;bu="*"}if(b.isFunction(bw)){var bt=bu.toLowerCase().split(h),bs=0,bv=bt.length,br,bx,by;for(;bs<bv;bs++){br=bt[bs];by=/^\+/.test(br);if(by){br=br.substr(1)||"*"}bx=e[br]=e[br]||[];bx[by?"unshift":"push"](bw)}}}}function aQ(br,bA,bv,bz,bx,bt){bx=bx||bA.dataTypes[0];bt=bt||{};bt[bx]=true;var bw=br[bx],bs=0,e=bw?bw.length:0,bu=(br===W),by;for(;bs<e&&(bu||!by);bs++){by=bw[bs](bA,bv,bz);if(typeof by==="string"){if(!bu||bt[by]){by=K}else{bA.dataTypes.unshift(by);by=aQ(br,bA,bv,bz,by,bt)}}}if((bu||!by)&&!bt["*"]){by=aQ(br,bA,bv,bz,"*",bt)}return by}function ah(bs,bt){var br,e,bu=b.ajaxSettings.flatOptions||{};for(br in bt){if(bt[br]!==K){(bu[br]?bs:(e||(e={})))[br]=bt[br]}}if(e){b.extend(true,bs,e)}}b.fn.extend({load:function(bs,bv,bw){if(typeof bs!=="string"&&A){return A.apply(this,arguments)}else{if(!this.length){return this}}var bu=bs.indexOf(" ");if(bu>=0){var e=bs.slice(bu,bs.length);bs=bs.slice(0,bu)}var bt="GET";if(bv){if(b.isFunction(bv)){bw=bv;bv=K}else{if(typeof bv==="object"){bv=b.param(bv,b.ajaxSettings.traditional);bt="POST"}}}var br=this;b.ajax({url:bs,type:bt,dataType:"html",data:bv,complete:function(by,bx,bz){bz=by.responseText;if(by.isResolved()){by.done(function(bA){bz=bA});br.html(e?b("<div>").append(bz.replace(a2,"")).find(e):bz)}if(bw){br.each(bw,[bz,bx,by])}}});return this},serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?b.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||q.test(this.nodeName)||aV.test(this.type))}).map(function(e,br){var bs=b(this).val();return bs==null?null:b.isArray(bs)?b.map(bs,function(bu,bt){return{name:br.name,value:bu.replace(bp,"\r\n")}}):{name:br.name,value:bs.replace(bp,"\r\n")}}).get()}});b.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,br){b.fn[br]=function(bs){return this.bind(br,bs)}});b.each(["get","post"],function(e,br){b[br]=function(bs,bu,bv,bt){if(b.isFunction(bu)){bt=bt||bv;bv=bu;bu=K}return b.ajax({type:br,url:bs,data:bu,success:bv,dataType:bt})}});b.extend({getScript:function(e,br){return b.get(e,K,br,"script")},getJSON:function(e,br,bs){return b.get(e,br,bs,"json")},ajaxSetup:function(br,e){if(e){ah(br,b.ajaxSettings)}else{e=br;br=b.ajaxSettings}ah(br,e);return br},ajaxSettings:{url:az,isLocal:aH.test(s[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":aO},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a7.String,"text html":true,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:f(W),ajaxTransport:f(r),ajax:function(bv,bt){if(typeof bv==="object"){bt=bv;bv=K}bt=bt||{};var bz=b.ajaxSetup({},bt),bO=bz.context||bz,bC=bO!==bz&&(bO.nodeType||bO instanceof b)?b(bO):b.event,bN=b.Deferred(),bJ=b._Deferred(),bx=bz.statusCode||{},by,bD={},bK={},bM,bu,bH,bA,bE,bw=0,bs,bG,bF={readyState:0,setRequestHeader:function(bP,bQ){if(!bw){var e=bP.toLowerCase();bP=bK[e]=bK[e]||bP;bD[bP]=bQ}return this},getAllResponseHeaders:function(){return bw===2?bM:null},getResponseHeader:function(bP){var e;if(bw===2){if(!bu){bu={};while((e=ay.exec(bM))){bu[e[1].toLowerCase()]=e[2]}}e=bu[bP.toLowerCase()]}return e===K?null:e},overrideMimeType:function(e){if(!bw){bz.mimeType=e}return this},abort:function(e){e=e||"abort";if(bH){bH.abort(e)}bB(0,e);return this}};function bB(bV,bQ,bW,bS){if(bw===2){return}bw=2;if(bA){clearTimeout(bA)}bH=K;bM=bS||"";bF.readyState=bV>0?4:0;var bP,b0,bZ,bT=bQ,bU=bW?bf(bz,bF,bW):K,bR,bY;if(bV>=200&&bV<300||bV===304){if(bz.ifModified){if((bR=bF.getResponseHeader("Last-Modified"))){b.lastModified[by]=bR}if((bY=bF.getResponseHeader("Etag"))){b.etag[by]=bY}}if(bV===304){bT="notmodified";bP=true}else{try{b0=F(bz,bU);bT="success";bP=true}catch(bX){bT="parsererror";bZ=bX}}}else{bZ=bT;if(!bT||bV){bT="error";if(bV<0){bV=0}}}bF.status=bV;bF.statusText=""+(bQ||bT);if(bP){bN.resolveWith(bO,[b0,bT,bF])}else{bN.rejectWith(bO,[bF,bT,bZ])}bF.statusCode(bx);bx=K;if(bs){bC.trigger("ajax"+(bP?"Success":"Error"),[bF,bz,bP?b0:bZ])}bJ.resolveWith(bO,[bF,bT]);if(bs){bC.trigger("ajaxComplete",[bF,bz]);if(!(--b.active)){b.event.trigger("ajaxStop")}}}bN.promise(bF);bF.success=bF.done;bF.error=bF.fail;bF.complete=bJ.done;bF.statusCode=function(bP){if(bP){var e;if(bw<2){for(e in bP){bx[e]=[bx[e],bP[e]]}}else{e=bP[bF.status];bF.then(e,e)}}return this};bz.url=((bv||bz.url)+"").replace(bn,"").replace(c,s[1]+"//");bz.dataTypes=b.trim(bz.dataType||"*").toLowerCase().split(h);if(bz.crossDomain==null){bE=J.exec(bz.url.toLowerCase());bz.crossDomain=!!(bE&&(bE[1]!=s[1]||bE[2]!=s[2]||(bE[3]||(bE[1]==="http:"?80:443))!=(s[3]||(s[1]==="http:"?80:443))))}if(bz.data&&bz.processData&&typeof bz.data!=="string"){bz.data=b.param(bz.data,bz.traditional)}aQ(W,bz,bt,bF);if(bw===2){return false}bs=bz.global;bz.type=bz.type.toUpperCase();bz.hasContent=!aK.test(bz.type);if(bs&&b.active++===0){b.event.trigger("ajaxStart")}if(!bz.hasContent){if(bz.data){bz.url+=(L.test(bz.url)?"&":"?")+bz.data;delete bz.data}by=bz.url;if(bz.cache===false){var br=b.now(),bL=bz.url.replace(bo,"$1_="+br);bz.url=bL+((bL===bz.url)?(L.test(bz.url)?"&":"?")+"_="+br:"")}}if(bz.data&&bz.hasContent&&bz.contentType!==false||bt.contentType){bF.setRequestHeader("Content-Type",bz.contentType)}if(bz.ifModified){by=by||bz.url;if(b.lastModified[by]){bF.setRequestHeader("If-Modified-Since",b.lastModified[by])}if(b.etag[by]){bF.setRequestHeader("If-None-Match",b.etag[by])}}bF.setRequestHeader("Accept",bz.dataTypes[0]&&bz.accepts[bz.dataTypes[0]]?bz.accepts[bz.dataTypes[0]]+(bz.dataTypes[0]!=="*"?", "+aO+"; q=0.01":""):bz.accepts["*"]);for(bG in bz.headers){bF.setRequestHeader(bG,bz.headers[bG])}if(bz.beforeSend&&(bz.beforeSend.call(bO,bF,bz)===false||bw===2)){bF.abort();return false}for(bG in {success:1,error:1,complete:1}){bF[bG](bz[bG])}bH=aQ(r,bz,bt,bF);if(!bH){bB(-1,"No Transport")}else{bF.readyState=1;if(bs){bC.trigger("ajaxSend",[bF,bz])}if(bz.async&&bz.timeout>0){bA=setTimeout(function(){bF.abort("timeout")},bz.timeout)}try{bw=1;bH.send(bD,bB)}catch(bI){if(bw<2){bB(-1,bI)}else{b.error(bI)}}}return bF},param:function(e,bs){var br=[],bu=function(bv,bw){bw=b.isFunction(bw)?bw():bw;br[br.length]=encodeURIComponent(bv)+"="+encodeURIComponent(bw)};if(bs===K){bs=b.ajaxSettings.traditional}if(b.isArray(e)||(e.jquery&&!b.isPlainObject(e))){b.each(e,function(){bu(this.name,this.value)})}else{for(var bt in e){v(bt,e[bt],bs,bu)}}return br.join("&").replace(j,"+")}});function v(bs,bu,br,bt){if(b.isArray(bu)){b.each(bu,function(bw,bv){if(br||ak.test(bs)){bt(bs,bv)}else{v(bs+"["+(typeof bv==="object"||b.isArray(bv)?bw:"")+"]",bv,br,bt)}})}else{if(!br&&bu!=null&&typeof bu==="object"){for(var e in bu){v(bs+"["+e+"]",bu[e],br,bt)}}else{bt(bs,bu)}}}b.extend({active:0,lastModified:{},etag:{}});function bf(bz,by,bv){var br=bz.contents,bx=bz.dataTypes,bs=bz.responseFields,bu,bw,bt,e;for(bw in bs){if(bw in bv){by[bs[bw]]=bv[bw]}}while(bx[0]==="*"){bx.shift();if(bu===K){bu=bz.mimeType||by.getResponseHeader("content-type")}}if(bu){for(bw in br){if(br[bw]&&br[bw].test(bu)){bx.unshift(bw);break}}}if(bx[0] in bv){bt=bx[0]}else{for(bw in bv){if(!bx[0]||bz.converters[bw+" "+bx[0]]){bt=bw;break}if(!e){e=bw}}bt=bt||e}if(bt){if(bt!==bx[0]){bx.unshift(bt)}return bv[bt]}}function F(bD,bv){if(bD.dataFilter){bv=bD.dataFilter(bv,bD.dataType)}var bz=bD.dataTypes,bC={},bw,bA,bs=bz.length,bx,by=bz[0],bt,bu,bB,br,e;for(bw=1;bw<bs;bw++){if(bw===1){for(bA in bD.converters){if(typeof bA==="string"){bC[bA.toLowerCase()]=bD.converters[bA]}}}bt=by;by=bz[bw];if(by==="*"){by=bt}else{if(bt!=="*"&&bt!==by){bu=bt+" "+by;bB=bC[bu]||bC["* "+by];if(!bB){e=K;for(br in bC){bx=br.split(" ");if(bx[0]===bt||bx[0]==="*"){e=bC[bx[1]+" "+by];if(e){br=bC[br];if(br===true){bB=e}else{if(e===true){bB=br}}break}}}}if(!(bB||e)){b.error("No conversion from "+bu.replace(" "," to "))}if(bB!==true){bv=bB?bB(bv):e(br(bv))}}}}return bv}var ax=b.now(),u=/(\=)\?(&|$)|\?\?/i;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return b.expando+"_"+(ax++)}});b.ajaxPrefilter("json jsonp",function(bz,bw,by){var bt=bz.contentType==="application/x-www-form-urlencoded"&&(typeof bz.data==="string");if(bz.dataTypes[0]==="jsonp"||bz.jsonp!==false&&(u.test(bz.url)||bt&&u.test(bz.data))){var bx,bs=bz.jsonpCallback=b.isFunction(bz.jsonpCallback)?bz.jsonpCallback():bz.jsonpCallback,bv=a7[bs],e=bz.url,bu=bz.data,br="$1"+bs+"$2";if(bz.jsonp!==false){e=e.replace(u,br);if(bz.url===e){if(bt){bu=bu.replace(u,br)}if(bz.data===bu){e+=(/\?/.test(e)?"&":"?")+bz.jsonp+"="+bs}}}bz.url=e;bz.data=bu;a7[bs]=function(bA){bx=[bA]};by.always(function(){a7[bs]=bv;if(bx&&b.isFunction(bv)){a7[bs](bx[0])}});bz.converters["script json"]=function(){if(!bx){b.error(bs+" was not called")}return bx[0]};bz.dataTypes[0]="json";return"script"}});b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){b.globalEval(e);return e}}});b.ajaxPrefilter("script",function(e){if(e.cache===K){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});b.ajaxTransport("script",function(bs){if(bs.crossDomain){var e,br=ap.head||ap.getElementsByTagName("head")[0]||ap.documentElement;return{send:function(bt,bu){e=ap.createElement("script");e.async="async";if(bs.scriptCharset){e.charset=bs.scriptCharset}e.src=bs.url;e.onload=e.onreadystatechange=function(bw,bv){if(bv||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(br&&e.parentNode){br.removeChild(e)}e=K;if(!bv){bu(200,"success")}}};br.insertBefore(e,br.firstChild)},abort:function(){if(e){e.onload(0,1)}}}}});var B=a7.ActiveXObject?function(){for(var e in M){M[e](0,1)}}:false,y=0,M;function aG(){try{return new a7.XMLHttpRequest()}catch(br){}}function ae(){try{return new a7.ActiveXObject("Microsoft.XMLHTTP")}catch(br){}}b.ajaxSettings.xhr=a7.ActiveXObject?function(){return !this.isLocal&&aG()||ae()}:aG;(function(e){b.extend(b.support,{ajax:!!e,cors:!!e&&("withCredentials" in e)})})(b.ajaxSettings.xhr());if(b.support.ajax){b.ajaxTransport(function(e){if(!e.crossDomain||b.support.cors){var br;return{send:function(bx,bs){var bw=e.xhr(),bv,bu;if(e.username){bw.open(e.type,e.url,e.async,e.username,e.password)}else{bw.open(e.type,e.url,e.async)}if(e.xhrFields){for(bu in e.xhrFields){bw[bu]=e.xhrFields[bu]}}if(e.mimeType&&bw.overrideMimeType){bw.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!bx["X-Requested-With"]){bx["X-Requested-With"]="XMLHttpRequest"}try{for(bu in bx){bw.setRequestHeader(bu,bx[bu])}}catch(bt){}bw.send((e.hasContent&&e.data)||null);br=function(bG,bA){var bB,bz,by,bE,bD;try{if(br&&(bA||bw.readyState===4)){br=K;if(bv){bw.onreadystatechange=b.noop;if(B){delete M[bv]}}if(bA){if(bw.readyState!==4){bw.abort()}}else{bB=bw.status;by=bw.getAllResponseHeaders();bE={};bD=bw.responseXML;if(bD&&bD.documentElement){bE.xml=bD}bE.text=bw.responseText;try{bz=bw.statusText}catch(bF){bz=""}if(!bB&&e.isLocal&&!e.crossDomain){bB=bE.text?200:404}else{if(bB===1223){bB=204}}}}}catch(bC){if(!bA){bs(-1,bC)}}if(bE){bs(bB,bz,bE,by)}};if(!e.async||bw.readyState===4){br()}else{bv=++y;if(B){if(!M){M={};b(a7).unload(B)}M[bv]=br}bw.onreadystatechange=br}},abort:function(){if(br){br(0,1)}}}}})}var Q={},a4,m,aw=/^(?:toggle|show|hide)$/,aM=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,aZ,aC=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],a0;b.fn.extend({show:function(bt,bw,bv){var bs,bu;if(bt||bt===0){return this.animate(aX("show",3),bt,bw,bv)}else{for(var br=0,e=this.length;br<e;br++){bs=this[br];if(bs.style){bu=bs.style.display;if(!b._data(bs,"olddisplay")&&bu==="none"){bu=bs.style.display=""}if(bu===""&&b.css(bs,"display")==="none"){b._data(bs,"olddisplay",x(bs.nodeName))}}}for(br=0;br<e;br++){bs=this[br];if(bs.style){bu=bs.style.display;if(bu===""||bu==="none"){bs.style.display=b._data(bs,"olddisplay")||""}}}return this}},hide:function(bs,bv,bu){if(bs||bs===0){return this.animate(aX("hide",3),bs,bv,bu)}else{for(var br=0,e=this.length;br<e;br++){if(this[br].style){var bt=b.css(this[br],"display");if(bt!=="none"&&!b._data(this[br],"olddisplay")){b._data(this[br],"olddisplay",bt)}}}for(br=0;br<e;br++){if(this[br].style){this[br].style.display="none"}}return this}},_toggle:b.fn.toggle,toggle:function(bs,br,bt){var e=typeof bs==="boolean";if(b.isFunction(bs)&&b.isFunction(br)){this._toggle.apply(this,arguments)}else{if(bs==null||e){this.each(function(){var bu=e?bs:b(this).is(":hidden");b(this)[bu?"show":"hide"]()})}else{this.animate(aX("toggle",3),bs,br,bt)}}return this},fadeTo:function(e,bt,bs,br){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:bt},e,bs,br)},animate:function(bu,br,bt,bs){var e=b.speed(br,bt,bs);if(b.isEmptyObject(bu)){return this.each(e.complete,[false])}bu=b.extend({},bu);return this[e.queue===false?"each":"queue"](function(){if(e.queue===false){b._mark(this)}var by=b.extend({},e),bF=this.nodeType===1,bC=bF&&b(this).is(":hidden"),bv,bz,bx,bE,bD,bB,bw,bA,bG;by.animatedProperties={};for(bx in bu){bv=b.camelCase(bx);if(bx!==bv){bu[bv]=bu[bx];delete bu[bx]}bz=bu[bv];if(b.isArray(bz)){by.animatedProperties[bv]=bz[1];bz=bu[bv]=bz[0]}else{by.animatedProperties[bv]=by.specialEasing&&by.specialEasing[bv]||by.easing||"swing"}if(bz==="hide"&&bC||bz==="show"&&!bC){return by.complete.call(this)}if(bF&&(bv==="height"||bv==="width")){by.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(b.css(this,"display")==="inline"&&b.css(this,"float")==="none"){if(!b.support.inlineBlockNeedsLayout){this.style.display="inline-block"}else{bE=x(this.nodeName);if(bE==="inline"){this.style.display="inline-block"}else{this.style.display="inline";this.style.zoom=1}}}}}if(by.overflow!=null){this.style.overflow="hidden"}for(bx in bu){bD=new b.fx(this,by,bx);bz=bu[bx];if(aw.test(bz)){bD[bz==="toggle"?bC?"show":"hide":bz]()}else{bB=aM.exec(bz);bw=bD.cur();if(bB){bA=parseFloat(bB[2]);bG=bB[3]||(b.cssNumber[bx]?"":"px");if(bG!=="px"){b.style(this,bx,(bA||1)+bG);bw=((bA||1)/bD.cur())*bw;b.style(this,bx,bw+bG)}if(bB[1]){bA=((bB[1]==="-="?-1:1)*bA)+bw}bD.custom(bw,bA,bG)}else{bD.custom(bw,bz,"")}}}return true})},stop:function(br,e){if(br){this.queue([])}this.each(function(){var bt=b.timers,bs=bt.length;if(!e){b._unmark(true,this)}while(bs--){if(bt[bs].elem===this){if(e){bt[bs](true)}bt.splice(bs,1)}}});if(!e){this.dequeue()}return this}});function bc(){setTimeout(an,0);return(a0=b.now())}function an(){a0=K}function aX(br,e){var bs={};b.each(aC.concat.apply([],aC.slice(0,e)),function(){bs[this]=br});return bs}b.each({slideDown:aX("show",1),slideUp:aX("hide",1),slideToggle:aX("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,br){b.fn[e]=function(bs,bu,bt){return this.animate(br,bs,bu,bt)}});b.extend({speed:function(bs,bt,br){var e=bs&&typeof bs==="object"?b.extend({},bs):{complete:br||!br&&bt||b.isFunction(bs)&&bs,duration:bs,easing:br&&bt||bt&&!b.isFunction(bt)&&bt};e.duration=b.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in b.fx.speeds?b.fx.speeds[e.duration]:b.fx.speeds._default;e.old=e.complete;e.complete=function(bu){if(b.isFunction(e.old)){e.old.call(this)}if(e.queue!==false){b.dequeue(this)}else{if(bu!==false){b._unmark(this)}}};return e},easing:{linear:function(bs,bt,e,br){return e+br*bs},swing:function(bs,bt,e,br){return((-Math.cos(bs*Math.PI)/2)+0.5)*br+e}},timers:[],fx:function(br,e,bs){this.options=e;this.elem=br;this.prop=bs;e.orig=e.orig||{}}});b.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(b.fx.step[this.prop]||b.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var e,br=b.css(this.elem,this.prop);return isNaN(e=parseFloat(br))?!br||br==="auto"?0:br:e},custom:function(bv,bu,bt){var e=this,bs=b.fx;this.startTime=a0||bc();this.start=bv;this.end=bu;this.unit=bt||this.unit||(b.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;function br(bw){return e.step(bw)}br.elem=this.elem;if(br()&&b.timers.push(br)&&!aZ){aZ=setInterval(bs.tick,bs.interval)}},show:function(){this.options.orig[this.prop]=b.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());b(this.elem).show()},hide:function(){this.options.orig[this.prop]=b.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(bu){var bt=a0||bc(),e=true,bv=this.elem,br=this.options,bs,bx;if(bu||bt>=br.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();br.animatedProperties[this.prop]=true;for(bs in br.animatedProperties){if(br.animatedProperties[bs]!==true){e=false}}if(e){if(br.overflow!=null&&!b.support.shrinkWrapBlocks){b.each(["","X","Y"],function(by,bz){bv.style["overflow"+bz]=br.overflow[by]})}if(br.hide){b(bv).hide()}if(br.hide||br.show){for(var bw in br.animatedProperties){b.style(bv,bw,br.orig[bw])}}br.complete.call(bv)}return false}else{if(br.duration==Infinity){this.now=bt}else{bx=bt-this.startTime;this.state=bx/br.duration;this.pos=b.easing[br.animatedProperties[this.prop]](this.state,bx,0,1,br.duration);this.now=this.start+((this.end-this.start)*this.pos)}this.update()}return true}};b.extend(b.fx,{tick:function(){for(var br=b.timers,e=0;e<br.length;++e){if(!br[e]()){br.splice(e--,1)}}if(!br.length){b.fx.stop()}},interval:13,stop:function(){clearInterval(aZ);aZ=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){b.style(e.elem,"opacity",e.now)},_default:function(e){if(e.elem.style&&e.elem.style[e.prop]!=null){e.elem.style[e.prop]=(e.prop==="width"||e.prop==="height"?Math.max(0,e.now):e.now)+e.unit}else{e.elem[e.prop]=e.now}}}});if(b.expr&&b.expr.filters){b.expr.filters.animated=function(e){return b.grep(b.timers,function(br){return e===br.elem}).length}}function x(bt){if(!Q[bt]){var e=ap.body,br=b("<"+bt+">").appendTo(e),bs=br.css("display");br.remove();if(bs==="none"||bs===""){if(!a4){a4=ap.createElement("iframe");a4.frameBorder=a4.width=a4.height=0}e.appendChild(a4);if(!m||!a4.createElement){m=(a4.contentWindow||a4.contentDocument).document;m.write((ap.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>");m.close()}br=m.createElement(bt);m.body.appendChild(br);bs=b.css(br,"display");e.removeChild(a4)}Q[bt]=bs}return Q[bt]}var T=/^t(?:able|d|h)$/i,Z=/^(?:body|html)$/i;if("getBoundingClientRect" in ap.documentElement){b.fn.offset=function(bE){var bu=this[0],bx;if(bE){return this.each(function(e){b.offset.setOffset(this,bE,e)})}if(!bu||!bu.ownerDocument){return null}if(bu===bu.ownerDocument.body){return b.offset.bodyOffset(bu)}try{bx=bu.getBoundingClientRect()}catch(bB){}var bD=bu.ownerDocument,bs=bD.documentElement;if(!bx||!b.contains(bs,bu)){return bx?{top:bx.top,left:bx.left}:{top:0,left:0}}var by=bD.body,bz=aF(bD),bw=bs.clientTop||by.clientTop||0,bA=bs.clientLeft||by.clientLeft||0,br=bz.pageYOffset||b.support.boxModel&&bs.scrollTop||by.scrollTop,bv=bz.pageXOffset||b.support.boxModel&&bs.scrollLeft||by.scrollLeft,bC=bx.top+br-bw,bt=bx.left+bv-bA;return{top:bC,left:bt}}}else{b.fn.offset=function(bB){var bv=this[0];if(bB){return this.each(function(bC){b.offset.setOffset(this,bB,bC)})}if(!bv||!bv.ownerDocument){return null}if(bv===bv.ownerDocument.body){return b.offset.bodyOffset(bv)}b.offset.initialize();var by,bs=bv.offsetParent,br=bv,bA=bv.ownerDocument,bt=bA.documentElement,bw=bA.body,bx=bA.defaultView,e=bx?bx.getComputedStyle(bv,null):bv.currentStyle,bz=bv.offsetTop,bu=bv.offsetLeft;while((bv=bv.parentNode)&&bv!==bw&&bv!==bt){if(b.offset.supportsFixedPosition&&e.position==="fixed"){break}by=bx?bx.getComputedStyle(bv,null):bv.currentStyle;bz-=bv.scrollTop;bu-=bv.scrollLeft;if(bv===bs){bz+=bv.offsetTop;bu+=bv.offsetLeft;if(b.offset.doesNotAddBorder&&!(b.offset.doesAddBorderForTableAndCells&&T.test(bv.nodeName))){bz+=parseFloat(by.borderTopWidth)||0;bu+=parseFloat(by.borderLeftWidth)||0}br=bs;bs=bv.offsetParent}if(b.offset.subtractsBorderForOverflowNotVisible&&by.overflow!=="visible"){bz+=parseFloat(by.borderTopWidth)||0;bu+=parseFloat(by.borderLeftWidth)||0}e=by}if(e.position==="relative"||e.position==="static"){bz+=bw.offsetTop;bu+=bw.offsetLeft}if(b.offset.supportsFixedPosition&&e.position==="fixed"){bz+=Math.max(bt.scrollTop,bw.scrollTop);bu+=Math.max(bt.scrollLeft,bw.scrollLeft)}return{top:bz,left:bu}}}b.offset={initialize:function(){var e=ap.body,br=ap.createElement("div"),bu,bw,bv,bx,bs=parseFloat(b.css(e,"marginTop"))||0,bt="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";b.extend(br.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});br.innerHTML=bt;e.insertBefore(br,e.firstChild);bu=br.firstChild;bw=bu.firstChild;bx=bu.nextSibling.firstChild.firstChild;this.doesNotAddBorder=(bw.offsetTop!==5);this.doesAddBorderForTableAndCells=(bx.offsetTop===5);bw.style.position="fixed";bw.style.top="20px";this.supportsFixedPosition=(bw.offsetTop===20||bw.offsetTop===15);bw.style.position=bw.style.top="";bu.style.overflow="hidden";bu.style.position="relative";this.subtractsBorderForOverflowNotVisible=(bw.offsetTop===-5);this.doesNotIncludeMarginInBodyOffset=(e.offsetTop!==bs);e.removeChild(br);b.offset.initialize=b.noop},bodyOffset:function(e){var bs=e.offsetTop,br=e.offsetLeft;b.offset.initialize();if(b.offset.doesNotIncludeMarginInBodyOffset){bs+=parseFloat(b.css(e,"marginTop"))||0;br+=parseFloat(b.css(e,"marginLeft"))||0}return{top:bs,left:br}},setOffset:function(bt,bC,bw){var bx=b.css(bt,"position");if(bx==="static"){bt.style.position="relative"}var bv=b(bt),br=bv.offset(),e=b.css(bt,"top"),bA=b.css(bt,"left"),bB=(bx==="absolute"||bx==="fixed")&&b.inArray("auto",[e,bA])>-1,bz={},by={},bs,bu;if(bB){by=bv.position();bs=by.top;bu=by.left}else{bs=parseFloat(e)||0;bu=parseFloat(bA)||0}if(b.isFunction(bC)){bC=bC.call(bt,bw,br)}if(bC.top!=null){bz.top=(bC.top-br.top)+bs}if(bC.left!=null){bz.left=(bC.left-br.left)+bu}if("using" in bC){bC.using.call(bt,bz)}else{bv.css(bz)}}};b.fn.extend({position:function(){if(!this[0]){return null}var bs=this[0],br=this.offsetParent(),bt=this.offset(),e=Z.test(br[0].nodeName)?{top:0,left:0}:br.offset();bt.top-=parseFloat(b.css(bs,"marginTop"))||0;bt.left-=parseFloat(b.css(bs,"marginLeft"))||0;e.top+=parseFloat(b.css(br[0],"borderTopWidth"))||0;e.left+=parseFloat(b.css(br[0],"borderLeftWidth"))||0;return{top:bt.top-e.top,left:bt.left-e.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||ap.body;while(e&&(!Z.test(e.nodeName)&&b.css(e,"position")==="static")){e=e.offsetParent}return e})}});b.each(["Left","Top"],function(br,e){var bs="scroll"+e;b.fn[bs]=function(bv){var bt,bu;if(bv===K){bt=this[0];if(!bt){return null}bu=aF(bt);return bu?("pageXOffset" in bu)?bu[br?"pageYOffset":"pageXOffset"]:b.support.boxModel&&bu.document.documentElement[bs]||bu.document.body[bs]:bt[bs]}return this.each(function(){bu=aF(this);if(bu){bu.scrollTo(!br?bv:b(bu).scrollLeft(),br?bv:b(bu).scrollTop())}else{this[bs]=bv}})}});function aF(e){return b.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}b.each(["Height","Width"],function(br,e){var bs=e.toLowerCase();b.fn["inner"+e]=function(){var bt=this[0];return bt&&bt.style?parseFloat(b.css(bt,bs,"padding")):null};b.fn["outer"+e]=function(bu){var bt=this[0];return bt&&bt.style?parseFloat(b.css(bt,bs,bu?"margin":"border")):null};b.fn[bs]=function(bv){var bw=this[0];if(!bw){return bv==null?null:this}if(b.isFunction(bv)){return this.each(function(bA){var bz=b(this);bz[bs](bv.call(this,bA,bz[bs]()))})}if(b.isWindow(bw)){var bx=bw.document.documentElement["client"+e],bt=bw.document.body;return bw.document.compatMode==="CSS1Compat"&&bx||bt&&bt["client"+e]||bx}else{if(bw.nodeType===9){return Math.max(bw.documentElement["client"+e],bw.body["scroll"+e],bw.documentElement["scroll"+e],bw.body["offset"+e],bw.documentElement["offset"+e])}else{if(bv===K){var by=b.css(bw,bs),bu=parseFloat(by);return b.isNaN(bu)?by:bu}else{return this.css(bs,typeof bv==="string"?bv:bv+"px")}}}}});a7.jQuery=a7.$=b;a7.auiNg=a7.auiNg||{};a7.auiNg.jQuery=b})(window);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.js.aui-ng:angular10', location = '/com/k15t/js/angular/1.0/angular.js' */
(function(cd,r,bE){if(cd.angular){console.log("AUI-NG: Found existing angular instance, skipping ...");return}else{console.log("AUI-NG: Setting up angular instance ...")}var ax=function(du){return cz(du)?du.toLowerCase():du};var b0=function(du){return cz(du)?du.toUpperCase():du};var aS=function(du){return cz(du)?du.replace(/[A-Z]/g,function(dv){return String.fromCharCode(dv.charCodeAt(0)|32)}):du};var cw=function(du){return cz(du)?du.replace(/[a-z]/g,function(dv){return String.fromCharCode(dv.charCodeAt(0)&~32)}):du};if("i"!=="I".toLowerCase()){ax=aS;b0=cw}var aA=df((/msie (\d+)/.exec(ax(navigator.userAgent))||[])[1]),cB,cY,ak=[].slice,E=[].push,H=Object.prototype.toString,aO=cd.angular||(cd.angular={}),X,q,ca=["0","0","0"];function bf(du){if(!du||(typeof du.length!=="number")){return false}if(typeof du.hasOwnProperty!="function"&&typeof du.constructor!="function"){return true}else{return du instanceof bI||(cY&&du instanceof cY)||H.call(du)!=="[object Object]"||typeof du.callee==="function"}}function bj(dx,dw,dv){var du;if(dx){if(G(dx)){for(du in dx){if(du!="prototype"&&du!="length"&&du!="name"&&dx.hasOwnProperty(du)){dw.call(dv,dx[du],du)}}}else{if(dx.forEach&&dx.forEach!==bj){dx.forEach(dw,dv)}else{if(bf(dx)){for(du=0;du<dx.length;du++){dw.call(dv,dx[du],du)}}else{for(du in dx){if(dx.hasOwnProperty(du)){dw.call(dv,dx[du],du)}}}}}}return dx}function cV(dw){var dv=[];for(var du in dw){if(dw.hasOwnProperty(du)){dv.push(du)}}return dv.sort()}function F(dy,dw,dv){var dx=cV(dy);for(var du=0;du<dx.length;du++){dw.call(dv,dy[dx[du]],dx[du])}return dx}function cZ(du){return function(dw,dv){du(dv,dw)}}function cP(){var du=ca.length;var dv;while(du){du--;dv=ca[du].charCodeAt(0);if(dv==57){ca[du]="A";return ca.join("")}if(dv==90){ca[du]="0"}else{ca[du]=String.fromCharCode(dv+1);return ca.join("")}}ca.unshift("0");return ca.join("")}function cm(du){bj(arguments,function(dv){if(dv!==du){bj(dv,function(dx,dw){du[dw]=dx})}});return du}function df(du){return parseInt(du,10)}function ck(dv,du){return cm(new (cm(function(){},{prototype:dv}))(),du)}function k(){}k.$inject=[];function aT(du){return du}aT.$inject=[];function cK(du){return function(){return du}}function bR(du){return typeof du=="undefined"}function cQ(du){return typeof du!="undefined"}function dt(du){return du!=null&&typeof du=="object"}function cz(du){return typeof du=="string"}function a7(du){return typeof du=="number"}function aH(du){return H.apply(du)=="[object Date]"}function bl(du){return H.apply(du)=="[object Array]"}function G(du){return typeof du=="function"}function bo(du){return du&&du.document&&du.location&&du.alert&&du.setInterval}function bz(du){return du&&du.$evalAsync&&du.$watch}function aK(du){return H.apply(du)==="[object File]"}function bq(du){return typeof du=="boolean"}function aD(du){return cz(du)?du.replace(/^\s*/,"").replace(/\s*$/,""):du}function b1(du){return du&&(du.nodeName||(du.bind&&du.find))}function c9(dx){var dw={},du=dx.split(","),dv;for(dv=0;dv<du.length;dv++){dw[du[dv]]=true}return dw}if(aA<9){q=function(du){du=du.nodeName?du:du[0];return(du.scopeName&&du.scopeName!="HTML")?b0(du.scopeName+":"+du.nodeName):du.nodeName}}else{q=function(du){return du.nodeName?du.nodeName:du[0].nodeName}}function aV(dx,dw,dv){var du=[];bj(dx,function(dA,dy,dz){du.push(dw.call(dv,dA,dy,dz))});return du}function aG(dx,du){var dw=0,dv;if(bl(dx)||cz(dx)){return dx.length}else{if(dt(dx)){for(dv in dx){if(!du||dx.hasOwnProperty(dv)){dw++}}}}return dw}function t(dv,du){return dm(dv,du)!=-1}function dm(dw,dv){if(dw.indexOf){return dw.indexOf(dv)}for(var du=0;du<dw.length;du++){if(dv===dw[du]){return du}}return -1}function aP(dw,dv){var du=dm(dw,dv);if(du>=0){dw.splice(du,1)}return dv}function cj(du){if(du){switch(du.nodeName){case"OPTION":case"PRE":case"TITLE":return true}}return false}function bJ(dx,du){if(bo(dx)||bz(dx)){throw Error("Can't copy Window or Scope")}if(!du){du=dx;if(dx){if(bl(dx)){du=bJ(dx,[])}else{if(aH(dx)){du=new Date(dx.getTime())}else{if(dt(dx)){du=bJ(dx,{})}}}}}else{if(dx===du){throw Error("Can't copy equivalent objects or arrays")}if(bl(dx)){du.length=0;for(var dw=0;dw<dx.length;dw++){du.push(bJ(dx[dw]))}}else{bj(du,function(dz,dy){delete du[dy]});for(var dv in dx){du[dv]=bJ(dx[dv])}}}return du}function bD(dv,dw){dw=dw||{};for(var du in dv){if(dv.hasOwnProperty(du)&&du.substr(0,2)!=="$$"){dw[du]=dv[du]}}return dw}function o(dA,dz){if(dA===dz){return true}if(dA===null||dz===null){return false}if(dA!==dA&&dz!==dz){return true}var dy=typeof dA,dw=typeof dz,dx,dv,du;if(dy==dw){if(dy=="object"){if(bl(dA)){if((dx=dA.length)==dz.length){for(dv=0;dv<dx;dv++){if(!o(dA[dv],dz[dv])){return false}}return true}}else{if(aH(dA)){return aH(dz)&&dA.getTime()==dz.getTime()}else{if(bz(dA)||bz(dz)||bo(dA)||bo(dz)){return false}du={};for(dv in dA){if(dv.charAt(0)==="$"||G(dA[dv])){continue}if(!o(dA[dv],dz[dv])){return false}du[dv]=true}for(dv in dz){if(!du[dv]&&dv.charAt(0)!=="$"&&dz[dv]!==bE&&!G(dz[dv])){return false}}return true}}}}return false}function bp(dw,dv,du){return dw.concat(ak.call(dv,du))}function h(du,dv){return ak.call(du,dv||0)}function bW(dv,dw){var du=arguments.length>2?h(arguments,2):[];if(G(dw)&&!(dw instanceof RegExp)){return du.length?function(){return arguments.length?dw.apply(dv,du.concat(ak.call(arguments,0))):dw.apply(dv,du)}:function(){return arguments.length?dw.apply(dv,arguments):dw.call(dv)}}else{return dw}}function cs(du,dv){var dw=dv;if(/^\$+/.test(du)){dw=bE}else{if(bo(dv)){dw="$WINDOW"}else{if(dv&&r===dv){dw="$DOCUMENT"}else{if(bz(dv)){dw="$SCOPE"}}}}return dw}function cD(dv,du){return JSON.stringify(dv,cs,du?"  ":null)}function W(du){return cz(du)?JSON.parse(du):du}function cH(dv){if(dv&&dv.length!==0){var du=ax(""+dv);dv=!(du=="f"||du=="0"||du=="false"||du=="no"||du=="n"||du=="[]")}else{dv=false}return dv}function R(dv){dv=cB(dv).clone();try{dv.html("")}catch(dx){}var du=3;var dw=cB("<div>").append(dv).html();try{return dv[0].nodeType===du?ax(dw):dw.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(dy,dz){return"<"+ax(dz)})}catch(dx){return ax(dw)}}function an(dx){var dw={},du,dv;bj((dx||"").split("&"),function(dy){if(dy){du=dy.split("=");dv=decodeURIComponent(du[0]);dw[dv]=cQ(du[1])?decodeURIComponent(du[1]):true}});return dw}function T(dv){var du=[];bj(dv,function(dx,dw){du.push(aj(dw,true)+(dx===true?"":"="+aj(dx,true)))});return du.length?du.join("&"):""}function aJ(du){return aj(du,true).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function aj(dv,du){return encodeURIComponent(dv).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,(du?"%20":"+"))}function bK(dy,dx){var dA=[dy],dz,dw,dB=["ng:app","ng-app","x-ng-app","data-ng-app"],dv=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;function du(dC){dC&&dA.push(dC)}bj(dB,function(dC){dB[dC]=true;du(r.getElementById(dC));dC=dC.replace(":","\\:");if(dy.querySelectorAll){bj(dy.querySelectorAll("."+dC),du);bj(dy.querySelectorAll("."+dC+"\\:"),du);bj(dy.querySelectorAll("["+dC+"]"),du)}});bj(dA,function(dD){if(!dz){var dE=" "+dD.className+" ";var dC=dv.exec(dE);if(dC){dz=dD;dw=(dC[2]||"").replace(/\s+/g,",")}else{bj(dD.attributes,function(dF){if(!dz&&dB[dF.name]){dz=dD;dw=dF.value}})}}});if(dz){dx(dz,dw?[dw]:[])}}function Z(dw,dv){var dx=function(){dw=cB(dw);dv=dv||[];dv.unshift(["$provide",function(dz){dz.value("$rootElement",dw)}]);dv.unshift("ng");var dy=ce(dv);dy.invoke(["$rootScope","$rootElement","$compile","$injector",function(dA,dz,dB,dC){dA.$apply(function(){dz.data("$injector",dC);dB(dz)(dA)})}]);return dy};var du=/^NG_DEFER_BOOTSTRAP!/;if(cd&&!du.test(cd.name)){return dx()}cd.name=cd.name.replace(du,"");aO.resumeBootstrap=function(dy){bj(dy,function(dz){dv.push(dz)});dx()}}var cC=/[A-Z]/g;function cl(du,dv){dv=dv||"_";return du.replace(cC,function(dw,dx){return(dx?dv:"")+dw.toLowerCase()})}function a3(){cY=cd.jQuery;if(cY){cB=cY;cm(cY.fn,{scope:M.scope,controller:M.controller,injector:M.injector,inheritedData:M.inheritedData});z("remove",true);z("empty");z("html")}else{cB=bI}aO.element=cB}function j(du,dv,dw){if(!du){throw new Error("Argument '"+(dv||"?")+"' is "+(dw||"required"))}return du}function i(du,dv,dw){if(dw&&bl(du)){du=du[du.length-1]}j(G(du),dv,"not a function, got "+(du&&typeof du=="object"?du.constructor.name||"Object":typeof du));return du}function l(dv){function du(dy,dx,dw){return dy[dx]||(dy[dx]=dw())}return du(du(dv,"angular",Object),"module",function(){var dw={};return function dx(dy,dA,dz){if(dA&&dw.hasOwnProperty(dy)){dw[dy]=null}return du(dw,dy,function(){if(!dA){throw Error("No module: "+dy)}var dF=[];var dE=[];var dC=dB("$injector","invoke");var dD={_invokeQueue:dF,_runBlocks:dE,requires:dA,name:dy,provider:dB("$provide","provider"),factory:dB("$provide","factory"),service:dB("$provide","service"),value:dB("$provide","value"),constant:dB("$provide","constant","unshift"),filter:dB("$filterProvider","register"),controller:dB("$controllerProvider","register"),directive:dB("$compileProvider","directive"),config:dC,run:function(dG){dE.push(dG);return this}};if(dz){dC(dz)}return dD;function dB(dH,dI,dG){return function(){dF[dG||"push"]([dH,dI,arguments]);return dD}}})}})}var a4={full:"1.0.6",major:1,minor:0,dot:6,codeName:"universal-irreversibility"};function O(du){cm(du,{bootstrap:Z,copy:bJ,extend:cm,equals:o,element:cB,forEach:bj,injector:ce,noop:k,bind:bW,toJson:cD,fromJson:W,identity:aT,isUndefined:bR,isDefined:cQ,isString:cz,isFunction:G,isObject:dt,isNumber:a7,isElement:b1,isArray:bl,version:a4,isDate:aH,lowercase:ax,uppercase:b0,callbacks:{counter:0}});X=l(cd);try{X("ngLocale")}catch(dv){X("ngLocale",[]).provider("$locale",ab)}X("ng",["ngLocale"],["$provide",function dw(dx){dx.provider("$compile",aa).directive({a:bi,input:cL,textarea:cL,form:c8,script:di,select:a0,style:av,option:J,ngBind:b4,ngBindHtmlUnsafe:bs,ngBindTemplate:bP,ngClass:aB,ngClassEven:da,ngClassOdd:K,ngCsp:aX,ngCloak:cn,ngController:bb,ngForm:bc,ngHide:cr,ngInclude:v,ngInit:dp,ngNonBindable:co,ngPluralize:al,ngRepeat:S,ngShow:a5,ngSubmit:dq,ngStyle:au,ngSwitch:s,ngSwitchWhen:aZ,ngSwitchDefault:C,ngOptions:bH,ngView:dh,ngTransclude:ba,ngModel:a,ngList:b8,ngChange:bh,required:bu,ngRequired:bu,ngValue:aw}).directive(b).directive(I);dx.provider({$anchorScroll:bF,$browser:cT,$cacheFactory:dd,$controller:ah,$document:dn,$exceptionHandler:ds,$filter:aM,$interpolate:dc,$http:b5,$httpBackend:b3,$location:bT,$log:db,$parse:bV,$route:y,$routeParams:be,$rootScope:bm,$q:D,$sniffer:aF,$templateCache:g,$timeout:ai,$window:cW})}])}var ct=bI.cache={},c3=bI.expando="ng-"+new Date().getTime(),ap=1,b7=(cd.document.addEventListener?function(du,dw,dv){du.addEventListener(dw,dv,false)}:function(du,dw,dv){du.attachEvent("on"+dw,dv)}),ae=(cd.document.removeEventListener?function(du,dw,dv){du.removeEventListener(dw,dv,false)}:function(du,dw,dv){du.detachEvent("on"+dw,dv)});function cy(){return ++ap}var bL=/([\:\-\_]+(.))/g;var cS=/^moz([A-Z])/;function L(du){return du.replace(bL,function(dv,dx,dw,dy){return dy?dw.toUpperCase():dw}).replace(cS,"Moz$1")}function z(dw,du){var dx=cY.fn[dw];dx=dx.$original||dx;dv.$original=dx;cY.fn[dw]=dv;function dv(){var dD=[this],dF=du,dE,dy,dI,dB,dA,dC,dz,dG,dH;while(dD.length){dE=dD.shift();for(dy=0,dI=dE.length;dy<dI;dy++){dB=cB(dE[dy]);if(dF){dB.triggerHandler("$destroy")}else{dF=!dF}for(dA=0,dC=(dz=dB.children()).length;dA<dC;dA++){dD.push(cY(dz[dA]))}}}return dx.apply(this,arguments)}}function bI(du){if(du instanceof bI){return du}if(!(this instanceof bI)){if(cz(du)&&du.charAt(0)!="<"){throw Error("selectors not implemented")}return new bI(du)}if(cz(du)){var dv=r.createElement("div");dv.innerHTML="<div>&#160;</div>"+du;dv.removeChild(dv.firstChild);c4(this,dv.childNodes);this.remove()}else{c4(this,du)}}function aL(du){return du.cloneNode(true)}function cJ(dw){a6(dw);for(var dv=0,du=dw.childNodes||[];dv<du.length;dv++){cJ(du[dv])}}function by(dv,dx,dw){var du=aU(dv,"events"),dy=aU(dv,"handle");if(!dy){return}if(bR(dx)){bj(du,function(dz,dA){ae(dv,dA,dz);delete du[dA]})}else{if(bR(dw)){ae(dv,dx,du[dx]);delete du[dx]}else{aP(du[dx],dw)}}}function a6(dw){var dv=dw[c3],du=ct[dv];if(du){if(du.handle){du.events.$destroy&&du.handle({},"$destroy");by(dw)}delete ct[dv];dw[c3]=bE}}function aU(dx,dw,dy){var dv=dx[c3],du=ct[dv||-1];if(cQ(dy)){if(!du){dx[c3]=dv=cy();du=ct[dv]={}}du[dw]=dy}else{return du&&du[dw]}}function aW(dw,dv,dz){var dy=aU(dw,"data"),dx=cQ(dz),du=!dx&&cQ(dv),dA=du&&!dt(dv);if(!dy&&!dA){aU(dw,"data",dy={})}if(dx){dy[dv]=dz}else{if(du){if(dA){return dy&&dy[dv]}else{cm(dy,dv)}}else{return dy}}}function cG(dv,du){return((" "+dv.className+" ").replace(/[\n\t]/g," ").indexOf(" "+du+" ")>-1)}function aC(dv,du){if(du){bj(du.split(" "),function(dw){dv.className=aD((" "+dv.className+" ").replace(/[\n\t]/g," ").replace(" "+aD(dw)+" "," "))})}}function ci(dv,du){if(du){bj(du.split(" "),function(dw){if(!cG(dv,dw)){dv.className=aD(dv.className+" "+aD(dw))}})}}function c4(du,dw){if(dw){dw=(!dw.nodeName&&cQ(dw.length)&&!bo(dw))?dw:[dw];for(var dv=0;dv<dw.length;dv++){du.push(dw[dv])}}}function cg(dv,du){return aI(dv,"$"+(du||"ngController")+"Controller")}function aI(dv,du,dw){dv=cB(dv);if(dv[0].nodeType==9){dv=dv.find("html")}while(dv.length){if(dw=dv.data(du)){return dw}dv=dv.parent()}}var M=bI.prototype={ready:function(dv){var dw=false;function du(){if(dw){return}dw=true;dv()}this.bind("DOMContentLoaded",du);bI(cd).bind("load",du)},toString:function(){var du=[];bj(this,function(dv){du.push(""+dv)});return"["+du.join(", ")+"]"},eq:function(du){return(du>=0)?cB(this[du]):cB(this[this.length+du])},length:0,push:E,sort:[].sort,splice:[].splice};var cN={};bj("multiple,selected,checked,disabled,readOnly,required".split(","),function(du){cN[ax(du)]=du});var a8={};bj("input,select,option,textarea,button,form".split(","),function(du){a8[b0(du)]=true});function aY(dw,du){var dv=cN[du.toLowerCase()];return dv&&a8[dw.nodeName]&&dv}bj({data:aW,inheritedData:aI,scope:function(du){return aI(du,"$scope")},controller:cg,injector:function(du){return aI(du,"$injector")},removeAttr:function(dv,du){dv.removeAttribute(du)},hasClass:cG,css:function(dv,du,dw){du=L(du);if(cQ(dw)){dv.style[du]=dw}else{var dx;if(aA<=8){dx=dv.currentStyle&&dv.currentStyle[du];if(dx===""){dx="auto"}}dx=dx||dv.style[du];if(aA<=8){dx=(dx==="")?bE:dx}return dx}},attr:function(dx,dv,dy){var dw=ax(dv);if(cN[dw]){if(cQ(dy)){if(!!dy){dx[dv]=true;dx.setAttribute(dv,dw)}else{dx[dv]=false;dx.removeAttribute(dw)}}else{return(dx[dv]||(dx.attributes.getNamedItem(dv)||k).specified)?dw:bE}}else{if(cQ(dy)){dx.setAttribute(dv,dy)}else{if(dx.getAttribute){var du=dx.getAttribute(dv,2);return du===null?bE:du}}}},prop:function(dv,du,dw){if(cQ(dw)){dv[du]=dw}else{return dv[du]}},text:cm((aA<9)?function(du,dv){if(du.nodeType==1){if(bR(dv)){return du.innerText}du.innerText=dv}else{if(bR(dv)){return du.nodeValue}du.nodeValue=dv}}:function(du,dv){if(bR(dv)){return du.textContent}du.textContent=dv},{$dv:""}),val:function(du,dv){if(bR(dv)){return du.value}du.value=dv},html:function(dv,dw){if(bR(dw)){return dv.innerHTML}for(var du=0,dx=dv.childNodes;du<dx.length;du++){cJ(dx[du])}dv.innerHTML=dw}},function(dv,du){bI.prototype[du]=function(dx,dw){var dz,dy;if(((dv.length==2&&(dv!==cG&&dv!==cg))?dx:dw)===bE){if(dt(dx)){for(dz=0;dz<this.length;dz++){if(dv===aW){dv(this[dz],dx)}else{for(dy in dx){dv(this[dz],dy,dx[dy])}}}return this}else{if(this.length){return dv(this[0],dx,dw)}}}else{for(dz=0;dz<this.length;dz++){dv(this[dz],dx,dw)}return this}return dv.$dv}});function p(dw,dv){var du=function(dz,dy){if(!dz.preventDefault){dz.preventDefault=function(){dz.returnValue=false}}if(!dz.stopPropagation){dz.stopPropagation=function(){dz.cancelBubble=true}}if(!dz.target){dz.target=dz.srcElement||r}if(bR(dz.defaultPrevented)){var dx=dz.preventDefault;dz.preventDefault=function(){dz.defaultPrevented=true;dx.call(dz)};dz.defaultPrevented=false}dz.isDefaultPrevented=function(){return dz.defaultPrevented};bj(dv[dy||dz.type],function(dA){dA.call(dw,dz)});if(aA<=8){dz.preventDefault=null;dz.stopPropagation=null;dz.isDefaultPrevented=null}else{delete dz.preventDefault;delete dz.stopPropagation;delete dz.isDefaultPrevented}};du.elem=dw;return du}bj({removeData:a6,dealoc:cJ,bind:function bS(dv,dx,dw){var du=aU(dv,"events"),dy=aU(dv,"handle");if(!du){aU(dv,"events",du={})}if(!dy){aU(dv,"handle",dy=p(dv,du))}bj(dx.split(" "),function(dB){var dA=du[dB];if(!dA){if(dB=="mouseenter"||dB=="mouseleave"){var dz=0;du.mouseenter=[];du.mouseleave=[];bS(dv,"mouseover",function(dC){dz++;if(dz==1){dy(dC,"mouseenter")}});bS(dv,"mouseout",function(dC){dz--;if(dz==0){dy(dC,"mouseleave")}})}else{b7(dv,dB,dy);du[dB]=[]}dA=du[dB]}dA.push(dw)})},unbind:by,replaceWith:function(dv,dx){var du,dw=dv.parentNode;cJ(dv);bj(new bI(dx),function(dy){if(du){dw.insertBefore(dy,du.nextSibling)}else{dw.replaceChild(dy,dv)}du=dy})},children:function(dv){var du=[];bj(dv.childNodes,function(dw){if(dw.nodeType===1){du.push(dw)}});return du},contents:function(du){return du.childNodes||[]},append:function(du,dv){bj(new bI(dv),function(dw){if(du.nodeType===1){du.appendChild(dw)}})},prepend:function(dv,dw){if(dv.nodeType===1){var du=dv.firstChild;bj(new bI(dw),function(dx){if(du){dv.insertBefore(dx,du)}else{dv.appendChild(dx);du=dx}})}},wrap:function(dv,du){du=cB(du)[0];var dw=dv.parentNode;if(dw){dw.replaceChild(du,dv)}du.appendChild(dv)},remove:function(du){cJ(du);var dv=du.parentNode;if(dv){dv.removeChild(du)}},after:function(dv,dx){var du=dv,dw=dv.parentNode;bj(new bI(dx),function(dy){dw.insertBefore(dy,du.nextSibling);du=dy})},addClass:ci,removeClass:aC,toggleClass:function(dv,du,dw){if(bR(dw)){dw=!cG(dv,du)}(dw?ci:aC)(dv,du)},parent:function(du){var dv=du.parentNode;return dv&&dv.nodeType!==11?dv:null},next:function(du){if(du.nextElementSibling){return du.nextElementSibling}var dv=du.nextSibling;while(dv!=null&&dv.nodeType!==1){dv=dv.nextSibling}return dv},find:function(dv,du){return dv.getElementsByTagName(du)},clone:aL,triggerHandler:function(dw,du){var dv=(aU(dw,"events")||{})[du];bj(dv,function(dx){dx.call(dw,null)})}},function(dv,du){bI.prototype[du]=function(dx,dw){var dz;for(var dy=0;dy<this.length;dy++){if(dz==bE){dz=dv(this[dy],dx,dw);if(dz!==bE){dz=cB(dz)}}else{c4(dz,dv(this[dy],dx,dw))}}return dz==bE?this:dz}});function m(dv){var dw=typeof dv,du;if(dw=="object"&&dv!==null){if(typeof(du=dv.$$hashKey)=="function"){du=dv.$$hashKey()}else{if(du===bE){du=dv.$$hashKey=cP()}}}else{du=dv}return dw+":"+du}function w(du){bj(du,this.put,this)}w.prototype={put:function(du,dv){this[m(du)]=dv},get:function(du){return this[m(du)]},remove:function(du){var dv=this[du=m(du)];delete this[du];return dv}};function cb(){}cb.prototype={push:function(du,dv){var dw=this[du=m(du)];if(!dw){this[du]=[dv]}else{dw.push(dv)}},shift:function(du){var dv=this[du=m(du)];if(dv){if(dv.length==1){delete this[du];return dv[0]}else{return dv.shift()}}},peek:function(du){var dv=this[m(du)];if(dv){return dv[0]}}};var n=/^function\s*[^\(]*\(\s*([^\)]*)\)/m;var x=/,/;var cx=/^\s*(_?)(\S+?)\1\s*$/;var u=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg;function cX(dv){var dx,du,dy,dw;if(typeof dv=="function"){if(!(dx=dv.$inject)){dx=[];du=dv.toString().replace(u,"");dy=du.match(n);bj(dy[1].split(x),function(dz){dz.replace(cx,function(dC,dA,dB){dx.push(dB)})});dv.$inject=dx}}else{if(bl(dv)){dw=dv.length-1;i(dv[dw],"fn");dx=dv.slice(0,dw)}else{i(dv,"fn",true)}}return dx}function ce(dH){var dw={},dG="Provider",dC=[],dA=new w(),dy={$provide:{provider:dB(dJ),factory:dB(dz),service:dB(dK),value:dB(dE),constant:dB(dv),decorator:du}},dL=dF(dy,function(){throw Error("Unknown provider: "+dC.join(" <- "))}),dI={},dD=(dI.$injector=dF(dI,function(dM){var dN=dL.get(dM+dG);return dD.invoke(dN.$get,dN)}));bj(dx(dH),function(dM){dD.invoke(dM||k)});return dD;function dB(dM){return function(dN,dO){if(dt(dN)){bj(dN,cZ(dM))}else{return dM(dN,dO)}}}function dJ(dM,dN){if(G(dN)||bl(dN)){dN=dL.instantiate(dN)}if(!dN.$get){throw Error("Provider "+dM+" must define $get factory method.")}return dy[dM+dG]=dN}function dz(dM,dN){return dJ(dM,{$get:dN})}function dK(dM,dN){return dz(dM,["$injector",function(dO){return dO.instantiate(dN)}])}function dE(dM,dN){return dz(dM,cK(dN))}function dv(dM,dN){dy[dM]=dN;dI[dM]=dN}function du(dN,dO){var dM=dL.get(dN+dG),dP=dM.$get;dM.$get=function(){var dQ=dD.invoke(dP,dM);return dD.invoke(dO,null,{$delegate:dQ})}}function dx(dM){var dN=[];bj(dM,function(dQ){if(dA.get(dQ)){return}dA.put(dQ,true);if(cz(dQ)){var dO=X(dQ);dN=dN.concat(dx(dO.requires)).concat(dO._runBlocks);try{for(var dU=dO._invokeQueue,dP=0,dR=dU.length;dP<dR;dP++){var dV=dU[dP],dT=dV[0]=="$injector"?dL:dL.get(dV[0]);dT[dV[1]].apply(dT,dV[2])}}catch(dS){if(dS.message){dS.message+=" from "+dQ}throw dS}}else{if(G(dQ)){try{dN.push(dL.invoke(dQ))}catch(dS){if(dS.message){dS.message+=" from "+dQ}throw dS}}else{if(bl(dQ)){try{dN.push(dL.invoke(dQ))}catch(dS){if(dS.message){dS.message+=" from "+String(dQ[dQ.length-1])}throw dS}}else{i(dQ,"module")}}}});return dN}function dF(dO,dN){function dQ(dR){if(typeof dR!=="string"){throw Error("Service name expected")}if(dO.hasOwnProperty(dR)){if(dO[dR]===dw){throw Error("Circular dependency: "+dC.join(" <- "))}return dO[dR]}else{try{dC.unshift(dR);dO[dR]=dw;return dO[dR]=dN(dR)}finally{dC.shift()}}}function dP(dV,dR,dY){var dS=[],dX=cX(dV),dW,dU,dT;for(dU=0,dW=dX.length;dU<dW;dU++){dT=dX[dU];dS.push(dY&&dY.hasOwnProperty(dT)?dY[dT]:dQ(dT))}if(!dV.$inject){dV=dV[dW]}switch(dR?-1:dS.length){case 0:return dV();case 1:return dV(dS[0]);case 2:return dV(dS[0],dS[1]);case 3:return dV(dS[0],dS[1],dS[2]);case 4:return dV(dS[0],dS[1],dS[2],dS[3]);case 5:return dV(dS[0],dS[1],dS[2],dS[3],dS[4]);case 6:return dV(dS[0],dS[1],dS[2],dS[3],dS[4],dS[5]);case 7:return dV(dS[0],dS[1],dS[2],dS[3],dS[4],dS[5],dS[6]);case 8:return dV(dS[0],dS[1],dS[2],dS[3],dS[4],dS[5],dS[6],dS[7]);case 9:return dV(dS[0],dS[1],dS[2],dS[3],dS[4],dS[5],dS[6],dS[7],dS[8]);case 10:return dV(dS[0],dS[1],dS[2],dS[3],dS[4],dS[5],dS[6],dS[7],dS[8],dS[9]);default:return dV.apply(dR,dS)}}function dM(dS,dU){var dV=function(){},dR,dT;dV.prototype=(bl(dS)?dS[dS.length-1]:dS).prototype;dR=new dV();dT=dP(dS,dR,dU);return dt(dT)?dT:dR}return{invoke:dP,instantiate:dM,get:dQ,annotate:cX}}}function bF(){var du=true;this.disableAutoScrolling=function(){du=false};this.$get=["$window","$location","$rootScope",function(dB,dC,dx){var dw=dB.document;function dz(dE){var dD=null;bj(dE,function(dF){if(!dD&&ax(dF.nodeName)==="a"){dD=dF}});return dD}function dv(){var dD=dC.hash(),dE;if(!dD){dB.scrollTo(0,0)}else{if((dE=dw.getElementById(dD))){dE.scrollIntoView()}else{if((dE=dz(dw.getElementsByName(dD)))){dE.scrollIntoView()}else{if(dD==="top"){dB.scrollTo(0,0)}}}}}if(du){dx.$watch(function dA(){return dC.hash()},function dy(){dx.$evalAsync(dv)})}return dv}]}function a2(dG,dL,dM,dP){var dK=this,dQ=dL[0],dw=dG.location,dI=dG.history,dx=dG.setTimeout,dy=dG.clearTimeout,dF={};dK.isMock=false;var dS=0;var dR=[];dK.$$completeOutstandingRequest=dD;dK.$$incOutstandingRequestCount=function(){dS++};function dD(dT){try{dT.apply(null,h(arguments,1))}finally{dS--;if(dS===0){while(dR.length){try{dR.pop()()}catch(dU){dM.error(dU)}}}}}dK.notifyWhenNoOutstandingRequests=function(dT){bj(dN,function(dU){dU()});if(dS===0){dT()}else{dR.push(dT)}};var dN=[],dC;dK.addPollFn=function(dT){if(bR(dC)){dJ(100,dx)}dN.push(dT);return dT};function dJ(dU,dV){(function dT(){bj(dN,function(dW){dW()});dC=dV(dT,dU)})()}var dE=dw.href,du=dL.find("base");dK.url=function(dT,dU){if(dT){if(dE==dT){return}dE=dT;if(dP.history){if(dU){dI.replaceState(null,"",dT)}else{dI.pushState(null,"",dT);du.attr("href",du.attr("href"))}}else{if(dU){dw.replace(dT)}else{dw.href=dT}}return dK}else{return dw.href.replace(/%27/g,"'")}};var dz=[],dB=false;function dv(){if(dE==dK.url()){return}dE=dK.url();bj(dz,function(dT){dT(dK.url())})}dK.onUrlChange=function(dT){if(!dB){if(dP.history){cB(dG).bind("popstate",dv)}if(dP.hashchange){cB(dG).bind("hashchange",dv)}else{dK.addPollFn(dv)}dB=true}dz.push(dT);return dT};dK.baseHref=function(){var dT=du.attr("href");return dT?dT.replace(/^https?\:\/\/[^\/]*/,""):""};var dO={};var dA="";var dH=dK.baseHref();dK.cookies=function(dV,dY){var dZ,dT,dX,dW,dU;if(dV){if(dY===bE){dQ.cookie=escape(dV)+"=;path="+dH+";expires=Thu, 01 Jan 1970 00:00:00 GMT"}else{if(cz(dY)){dZ=(dQ.cookie=escape(dV)+"="+escape(dY)+";path="+dH).length+1;if(dZ>4096){dM.warn("Cookie '"+dV+"' possibly not set or overflowed because it was too large ("+dZ+" > 4096 bytes)!")}}}}else{if(dQ.cookie!==dA){dA=dQ.cookie;dT=dA.split("; ");dO={};for(dW=0;dW<dT.length;dW++){dX=dT[dW];dU=dX.indexOf("=");if(dU>0){dO[unescape(dX.substring(0,dU))]=unescape(dX.substring(dU+1))}}}return dO}};dK.defer=function(dU,dT){var dV;dS++;dV=dx(function(){delete dF[dV];dD(dU)},dT||0);dF[dV]=true;return dV};dK.defer.cancel=function(dT){if(dF[dT]){delete dF[dT];dy(dT);dD(k);return true}return false}}function cT(){this.$get=["$window","$log","$sniffer","$document",function(dx,du,dw,dv){return new a2(dx,dv,du,dw)}]}function dd(){this.$get=function(){var du={};function dv(dE,dG){if(dE in du){throw Error("cacheId "+dE+" taken")}var dF=0,dz=cm({},dG,{id:dE}),dy={},dw=(dG&&dG.capacity)||Number.MAX_VALUE,dx={},dD=null,dB=null;return du[dE]={put:function(dI,dJ){var dH=dx[dI]||(dx[dI]={key:dI});dA(dH);if(bR(dJ)){return}if(!(dI in dy)){dF++}dy[dI]=dJ;if(dF>dw){this.remove(dB.key)}},get:function(dI){var dH=dx[dI];if(!dH){return}dA(dH);return dy[dI]},remove:function(dI){var dH=dx[dI];if(!dH){return}if(dH==dD){dD=dH.p}if(dH==dB){dB=dH.n}dC(dH.n,dH.p);delete dx[dI];delete dy[dI];dF--},removeAll:function(){dy={};dF=0;dx={};dD=dB=null},destroy:function(){dy=null;dz=null;dx=null;delete du[dE]},info:function(){return cm({},dz,{size:dF})}};function dA(dH){if(dH!=dD){if(!dB){dB=dH}else{if(dB==dH){dB=dH.n}}dC(dH.n,dH.p);dC(dH,dD);dD=dH;dD.n=null}}function dC(dH,dI){if(dH!=dI){if(dH){dH.p=dI}if(dI){dI.n=dH}}}}dv.info=function(){var dw={};bj(du,function(dx,dy){dw[dy]=dx.info()});return dw};dv.get=function(dw){return du[dw]};return dv}}function g(){this.$get=["$cacheFactory",function(du){return du("templates")}]}var e="Non-assignable model expression: ";aa.$inject=["$provide"];function aa(dz){var du={},dA="Directive",dx=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,dv=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,dw="Template must have exactly one root element. was: ",dy=/^\s*(https?|ftp|mailto|file):/;this.directive=function dB(dD,dC){if(cz(dD)){j(dC,"directive");if(!du.hasOwnProperty(dD)){du[dD]=[];dz.factory(dD+dA,["$injector","$exceptionHandler",function(dF,dE){var dG=[];bj(du[dD],function(dH){try{var dJ=dF.invoke(dH);if(G(dJ)){dJ={compile:cK(dJ)}}else{if(!dJ.compile&&dJ.link){dJ.compile=cK(dJ.link)}}dJ.priority=dJ.priority||0;dJ.name=dJ.name||dD;dJ.require=dJ.require||(dJ.controller&&dJ.name);dJ.restrict=dJ.restrict||"A";dG.push(dJ)}catch(dI){dE(dI)}});return dG}])}du[dD].push(dC)}else{bj(dD,cZ(dB))}return this};this.urlSanitizationWhitelist=function(dC){if(cQ(dC)){dy=dC;return this}return dy};this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document",function(dX,dP,dO,d3,dM,dG,dD,dQ,d2){var dY=function(d5,d4){this.$$element=d5;this.$attr=d4||{}};dY.prototype={$normalize:cv,$set:function(d9,ea,d6,d8){var d5=aY(this.$$element[0],d9),d7=this.$$observers,d4;if(d5){this.$$element.prop(d9,ea);d8=d5}this[d9]=ea;if(d8){this.$attr[d9]=d8}else{d8=this.$attr[d9];if(!d8){this.$attr[d9]=d8=cl(d9,"-")}}if(q(this.$$element[0])==="A"&&d9==="href"){dV.setAttribute("href",ea);d4=dV.href;if(!d4.match(dy)){this[d9]=ea="unsafe:"+d4}}if(d6!==false){if(ea===null||ea===bE){this.$$element.removeAttr(d8)}else{this.$$element.attr(d8,ea)}}d7&&bj(d7[d9],function(eb){try{eb(ea)}catch(ec){dO(ec)}})},$observe:function(d6,d8){var d5=this,d4=(d5.$$observers||(d5.$$observers={})),d7=(d4[d6]||(d4[d6]=[]));d7.push(d8);dQ.$evalAsync(function(){if(!d7.$$inter){d8(d5[d6])}});return d8}};var dV=d2[0].createElement("a"),dF=dP.startSymbol(),dW=dP.endSymbol(),dT=(dF=="{{"||dW=="}}")?aT:function dT(d4){return d4.replace(/\{\{/g,dF).replace(/}}/g,dW)};return dN;function dN(d8,d7,d5){if(!(d8 instanceof cB)){d8=cB(d8)}bj(d8,function(ea,d9){if(ea.nodeType==3&&ea.nodeValue.match(/\S+/)){d8[d9]=cB(ea).wrap("<span></span>").parent()[0]}});var d6=dS(d8,d7,d8,d5);return function d4(ec,d9){j(ec,"scope");var ee=d9?M.clone.call(d8):d8;for(var ea=0,eb=ee.length;ea<eb;ea++){var ed=ee[ea];if(ed.nodeType==1||ed.nodeType==9){ee.eq(ea).data("$scope",ec)}}dJ(ee,"ng-scope");if(d9){d9(ee,ec)}if(d6){d6(ec,ee,ee)}return ee}}function dL(d4,d5){throw Error("Unsupported '"+d5+"' for '"+d4+"'.")}function dJ(d4,d5){try{d4.addClass(d5)}catch(d6){}}function dS(d4,ee,ed,eb){var d6=[],d8,ea,d5,ec,d9;for(var d7=0;d7<d4.length;d7++){ec=new dY();d5=d0(d4[d7],[],ec,eb);d8=(d5.length)?dK(d5,d4[d7],ec,ee,ed):null;ea=(d8&&d8.terminal||!d4[d7].childNodes||!d4[d7].childNodes.length)?null:dS(d4[d7].childNodes,d8?d8.transclude:ee);d6.push(d8);d6.push(ea);d9=(d9||d8||ea)}return d9?ef:null;function ef(es,ei,eq,ek){var en,eo,eh,ep,el,ej,er,eg;var em=[];for(ej=0,er=ei.length;ej<er;ej++){em.push(ei[ej])}for(ej=0,eg=0,er=d6.length;ej<er;eg++){eh=em[eg];en=d6[ej++];eo=d6[ej++];if(en){if(en.scope){ep=es.$new(dt(en.scope));cB(eh).data("$scope",ep)}else{ep=es}el=en.transclude;if(el||(!ek&&ee)){en(eo,ep,eh,eq,(function(et){return function(eu){var ev=es.$new();ev.$$transcluded=true;return et(ev,eu).bind("$destroy",bW(ev,ev.$destroy))}})(el||ee))}else{en(eo,ep,eh,bE,ek)}}else{if(eo){eo(es,eh.childNodes,bE,ek)}}}}}function d0(d5,d6,ej,eg){var ea=d5.nodeType,d9=ej.$attr,eb,ef;switch(ea){case 1:dR(d6,cv(q(d5).toLowerCase()),"E",eg);for(var ee,d4,ei,eh,d8=d5.attributes,d7=0,ec=d8&&d8.length;d7<ec;d7++){ee=d8[d7];if(ee.specified){d4=ee.name;ei=cv(d4.toLowerCase());d9[ei]=d4;ej[ei]=eh=aD((aA&&d4=="href")?decodeURIComponent(d5.getAttribute(d4,2)):ee.value);if(aY(d5,ei)){ej[ei]=true}dH(d5,d6,eh,ei);dR(d6,ei,"A",eg)}}ef=d5.className;if(cz(ef)&&ef!==""){while(eb=dv.exec(ef)){ei=cv(eb[2]);if(dR(d6,ei,"C",eg)){ej[ei]=aD(eb[3])}ef=ef.substr(eb.index+eb[0].length)}}break;case 3:dZ(d6,d5.nodeValue);break;case 8:try{eb=dx.exec(d5.nodeValue);if(eb){ei=cv(eb[1]);if(dR(d6,ei,"M",eg)){ej[ei]=aD(eb[2])}}}catch(ed){}break}d6.sort(dE);return d6}function dK(eb,eh,ee,d5,d8){var d7=-Number.MAX_VALUE,ek=[],el=[],ed=null,ea=null,ej=null,ei=ee.$$element=cB(eh),ef,er,d9,em,d4=d5,ec,d6,en;for(var eq=0,eg=eb.length;eq<eg;eq++){ef=eb[eq];d9=bE;if(d7>ef.priority){break}if(en=ef.scope){dI("isolated scope",ea,ef,ei);if(dt(en)){dJ(ei,"ng-isolate-scope");ea=ef}dJ(ei,"ng-scope");ed=ed||ef}er=ef.name;if(en=ef.controller){ec=ec||{};dI("'"+er+"' controller",ec[er],ef,ei);ec[er]=ef}if(en=ef.transclude){dI("transclusion",em,ef,ei);em=ef;d7=ef.priority;if(en=="element"){d9=cB(eh);ei=ee.$$element=cB(r.createComment(" "+er+": "+ee[er]+" "));eh=ei[0];d1(d8,cB(d9[0]),eh);d4=dN(d9,d5,d7)}else{d9=cB(aL(eh)).contents();ei.html("");d4=dN(d9,d5)}}if((en=ef.template)){dI("template",ej,ef,ei);ej=ef;en=dT(en);if(ef.replace){d9=cB("<div>"+aD(en)+"</div>").contents();eh=d9[0];if(d9.length!=1||eh.nodeType!==1){throw new Error(dw+en)}d1(d8,ei,eh);var eu={$attr:{}};eb=eb.concat(d0(eh,eb.splice(eq+1,eb.length-(eq+1)),eu));dU(ee,eu);eg=eb.length}else{ei.html(en)}}if(ef.templateUrl){dI("template",ej,ef,ei);ej=ef;es=dC(eb.splice(eq,eb.length-eq),es,ei,ee,d8,ef.replace,d4);eg=eb.length}else{if(ef.compile){try{d6=ef.compile(ei,ee,d4);if(G(d6)){ep(null,d6)}else{if(d6){ep(d6.pre,d6.post)}}}catch(et){dO(et,R(ei))}}}if(ef.terminal){es.terminal=true;d7=Math.max(d7,ef.priority)}}es.scope=ed&&ed.scope;es.transclude=em&&d4;return es;function ep(ew,ev){if(ew){ew.require=ef.require;ek.push(ew)}if(ev){ev.require=ef.require;el.push(ev)}}function eo(ey,ev){var ez,ew="data",ex=false;if(cz(ey)){while((ez=ey.charAt(0))=="^"||ez=="?"){ey=ey.substr(1);if(ez=="^"){ew="inheritedData"}ex=ex||ez=="?"}ez=ev[ew]("$"+ey+"Controller");if(!ez&&!ex){throw Error("No controller: "+ey)}return ez}else{if(bl(ey)){ez=[];bj(ey,function(eA){ez.push(eo(eA,ev))})}}return ez}function es(eD,eI,eB,eE,ew){var eF,eH,ex,eG,ev,ey;if(eh===eB){eF=ee}else{eF=bD(ee,new dY(cB(eB),ee.$attr))}eH=eF.$$element;if(ea){var eA=/^\s*([@=&])\s*(\w*)\s*$/;var eC=eI.$parent||eI;bj(ea.scope,function(eO,eK){var eM=eO.match(eA)||[],eP=eM[2]||eK,eN=eM[1],eR,eL,eQ;eI.$$isolateBindings[eK]=eN+eP;switch(eN){case"@":eF.$observe(eP,function(eS){eI[eK]=eS});eF.$$observers[eP].$$scope=eC;break;case"=":eL=dG(eF[eP]);eQ=eL.assign||function(){eR=eI[eK]=eL(eC);throw Error(e+eF[eP]+" (directive: "+ea.name+")")};eR=eI[eK]=eL(eC);eI.$watch(function eJ(){var eS=eL(eC);if(eS!==eI[eK]){if(eS!==eR){eR=eI[eK]=eS}else{eQ(eC,eS=eR=eI[eK])}}return eS});break;case"&":eL=dG(eF[eP]);eI[eK]=function(eS){return eL(eC,eS)};break;default:throw Error("Invalid isolate scope definition for directive "+ea.name+": "+eO)}})}if(ec){bj(ec,function(eK){var eJ={$scope:eI,$element:eH,$attrs:eF,$transclude:ew};ey=eK.controller;if(ey=="@"){ey=eF[eK.name]}eH.data("$"+eK.name+"Controller",dD(ey,eJ))})}for(ex=0,eG=ek.length;ex<eG;ex++){try{ev=ek[ex];ev(eI,eH,eF,ev.require&&eo(ev.require,eH))}catch(ez){dO(ez,R(eH))}}eD&&eD(eI,eB.childNodes,bE,ew);for(ex=0,eG=el.length;ex<eG;ex++){try{ev=el[ex];ev(eI,eH,eF,ev.require&&eo(ev.require,eH))}catch(ez){dO(ez,R(eH))}}}}function dR(d9,d4,ec,eb){var d7=false;if(du.hasOwnProperty(d4)){for(var ea,d5=dX.get(d4+dA),d6=0,ed=d5.length;d6<ed;d6++){try{ea=d5[d6];if((eb===bE||eb>ea.priority)&&ea.restrict.indexOf(ec)!=-1){d9.push(ea);d7=true}}catch(d8){dO(d8)}}}return d7}function dU(d8,d7){var d5=d7.$attr,d6=d8.$attr,d4=d8.$$element;bj(d8,function(ea,d9){if(d9.charAt(0)!="$"){if(d7[d9]){ea+=(d9==="style"?";":" ")+d7[d9]}d8.$set(d9,ea,true,d5[d9])}});bj(d7,function(ea,d9){if(d9=="class"){dJ(d4,ea);d8["class"]=(d8["class"]?d8["class"]+" ":"")+ea}else{if(d9=="style"){d4.attr("style",d4.attr("style")+";"+ea)}else{if(d9.charAt(0)!="$"&&!d8.hasOwnProperty(d9)){d8[d9]=ea;d6[d9]=d5[d9]}}}})}function dC(d8,d4,ec,d7,eg,d5,ea){var ed=[],eh,d6,d9=ec[0],eb=d8.shift(),ef=cm({},eb,{controller:null,templateUrl:null,transclude:null,scope:null});ec.html("");d3.get(eb.templateUrl,{cache:dM}).success(function(en){var eo,el,ek;en=dT(en);if(d5){ek=cB("<div>"+aD(en)+"</div>").contents();eo=ek[0];if(ek.length!=1||eo.nodeType!==1){throw new Error(dw+en)}el={$attr:{}};d1(eg,ec,eo);d0(eo,d8,el);dU(d7,el)}else{eo=d9;ec.html(en)}d8.unshift(ef);eh=dK(d8,eo,d7,ea);d6=dS(ec[0].childNodes,ea);while(ed.length){var ej=ed.pop(),ei=ed.pop(),ep=ed.pop(),eq=ed.pop(),em=eo;if(ep!==d9){em=aL(eo);d1(ei,cB(ep),em)}eh(function(){d4(d6,eq,em,eg,ej)},eq,em,eg,ej)}ed=null}).error(function(ei,ek,el,ej){throw Error("Failed to load template: "+ej.url)});return function ee(ek,el,em,ei,ej){if(ed){ed.push(el);ed.push(em);ed.push(ei);ed.push(ej)}else{eh(function(){d4(d6,el,em,ei,ej)},el,em,ei,ej)}}}function dE(d5,d4){return d4.priority-d5.priority}function dI(d6,d5,d7,d4){if(d5){throw Error("Multiple directives ["+d5.name+", "+d7.name+"] asking for "+d6+" on: "+R(d4))}}function dZ(d6,d7){var d5=dP(d7,true);if(d5){d6.push({priority:0,compile:cK(function d4(ea,eb){var d9=eb.parent(),ec=d9.data("$binding")||[];ec.push(d5);dJ(d9.data("$binding",ec),"ng-binding");ea.$watch(d5,function d8(ed){eb[0].nodeValue=ed})})})}}function dH(d7,d9,d8,d5){var d4=dP(d8,true);if(!d4){return}d9.push({priority:100,compile:cK(function d6(ee,ed,ea){var ec=(ea.$$observers||(ea.$$observers={}));if(d5==="class"){d4=dP(ea[d5],true)}ea[d5]=bE;(ec[d5]||(ec[d5]=[])).$$inter=true;(ea.$$observers&&ea.$$observers[d5].$$scope||ee).$watch(d4,function eb(ef){ea.$set(d5,ef)})})})}function d1(d9,d4,d6){var ea=d4[0],d8=ea.parentNode,d5,d7;if(d9){for(d5=0,d7=d9.length;d5<d7;d5++){if(d9[d5]==ea){d9[d5]=d6;break}}}if(d8){d8.replaceChild(d6,ea)}d6[cB.expando]=ea[cB.expando];d4[0]=d6}}]}var c0=/^(x[\:\-_]|data[\:\-_])/i;function cv(du){return L(du.replace(c0,""))}function a1(dx,dv,du,dw){}function ar(dy,dw,dx,du,dv){}function ah(){var du={};this.register=function(dv,dw){if(dt(dv)){cm(du,dv)}else{du[dv]=dw}};this.$get=["$injector","$window",function(dv,dw){return function(dy,dz){if(cz(dy)){var dx=dy;dy=du.hasOwnProperty(dx)?du[dx]:b6(dz.$scope,dx,true)||b6(dw,dx,true);i(dy,dx,true)}return dv.instantiate(dy,dz)}}]}function dn(){this.$get=["$window",function(du){return cB(du.document)}]}function ds(){this.$get=["$log",function(du){return function(dv,dw){du.error.apply(du,arguments)}}]}function dc(){var dv="{{";var du="}}";this.startSymbol=function(dw){if(dw){dv=dw;return this}else{return dv}};this.endSymbol=function(dw){if(dw){du=dw;return this}else{return du}};this.$get=["$parse",function(dx){var dy=dv.length,dw=du.length;function dz(dK,dB){var dJ,dE,dF=0,dD=[],dA=dK.length,dG=false,dH,dC,dI=[];while(dF<dA){if(((dJ=dK.indexOf(dv,dF))!=-1)&&((dE=dK.indexOf(du,dJ+dy))!=-1)){(dF!=dJ)&&dD.push(dK.substring(dF,dJ));dD.push(dH=dx(dC=dK.substring(dJ+dy,dE)));dH.exp=dC;dF=dE+dw;dG=true}else{(dF!=dA)&&dD.push(dK.substring(dF));dF=dA}}if(!(dA=dD.length)){dD.push("");dA=1}if(!dB||dG){dI.length=dA;dH=function(dN){for(var dM=0,dO=dA,dL;dM<dO;dM++){if(typeof(dL=dD[dM])=="function"){dL=dL(dN);if(dL==null||dL==bE){dL=""}else{if(typeof dL!="string"){dL=cD(dL)}}}dI[dM]=dL}return dI.join("")};dH.exp=dK;dH.parts=dD;return dH}}dz.startSymbol=function(){return dv};dz.endSymbol=function(){return du};return dz}]}var N=/^([^:]+):\/\/(\w+:{0,1}\w*@)?(\{?[\w\.-]*\}?)(:([0-9]+))?(\/[^\?#]*)?(\?([^#]*))?(#(.*))?$/,af=/^([^\?#]*)?(\?([^#]*))?(#(.*))?$/,B=af,c2={http:80,https:443,ftp:21};function cq(dw){var du=dw.split("/"),dv=du.length;while(dv--){du[dv]=aJ(du[dv])}return du.join("/")}function dj(du){return du.split("#")[0]}function ay(dv,dw){var du=N.exec(dv);du={protocol:du[1],host:du[3],port:df(du[5])||c2[du[1]]||null,path:du[6]||"/",search:du[8],hash:du[10]};if(dw){dw.$$protocol=du.protocol;dw.$$host=du.host;dw.$$port=du.port}return du}function aR(dw,dv,du){return dw+"://"+dv+(du==c2[dw]?"":":"+du)}function b9(du){return du.substr(0,du.lastIndexOf("/"))}function dl(dw,dx,du){var dv=ay(dw);if(decodeURIComponent(dv.path)!=dx||bR(dv.hash)||dv.hash.indexOf(du)!==0){return dw}else{return aR(dv.protocol,dv.host,dv.port)+b9(dx)+dv.hash.substr(du.length)}}function bt(dw,dB,du){var dv=ay(dw);if(decodeURIComponent(dv.path)==dB&&!bR(dv.hash)&&dv.hash.indexOf(du)===0){return dw}else{var dx=dv.search&&"?"+dv.search||"",dA=dv.hash&&"#"+dv.hash||"",dy=b9(dB),dz=dv.path.substr(dy.length);if(dv.path.indexOf(dy)!==0){throw Error('Invalid url "'+dw+'", missing path prefix "'+dy+'" !')}return aR(dv.protocol,dv.host,dv.port)+dB+"#"+du+dz+dx+dA}}function br(du,dv,dw){dv=dv||"";this.$$parse=function(dy){var dx=ay(dy,this);if(dx.path.indexOf(dv)!==0){throw Error('Invalid url "'+dy+'", missing path prefix "'+dv+'" !')}this.$$path=decodeURIComponent(dx.path.substr(dv.length));this.$$search=an(dx.search);this.$$hash=dx.hash&&decodeURIComponent(dx.hash)||"";this.$$compose()};this.$$compose=function(){var dx=T(this.$$search),dy=this.$$hash?"#"+aJ(this.$$hash):"";this.$$url=cq(this.$$path)+(dx?"?"+dx:"")+dy;this.$$absUrl=aR(this.$$protocol,this.$$host,this.$$port)+dv+this.$$url};this.$$rewriteAppUrl=function(dx){if(dx.indexOf(dw)==0){return dx}};this.$$parse(du)}function c1(dv,du,dw){var dx;this.$$parse=function(dz){var dy=ay(dz,this);if(dy.hash&&dy.hash.indexOf(du)!==0){throw Error('Invalid url "'+dz+'", missing hash prefix "'+du+'" !')}dx=dy.path+(dy.search?"?"+dy.search:"");dy=B.exec((dy.hash||"").substr(du.length));if(dy[1]){this.$$path=(dy[1].charAt(0)=="/"?"":"/")+decodeURIComponent(dy[1])}else{this.$$path=""}this.$$search=an(dy[3]);this.$$hash=dy[5]&&decodeURIComponent(dy[5])||"";this.$$compose()};this.$$compose=function(){var dy=T(this.$$search),dz=this.$$hash?"#"+aJ(this.$$hash):"";this.$$url=cq(this.$$path)+(dy?"?"+dy:"")+dz;this.$$absUrl=aR(this.$$protocol,this.$$host,this.$$port)+dx+(this.$$url?"#"+du+this.$$url:"")};this.$$rewriteAppUrl=function(dy){if(dy.indexOf(dw)==0){return dy}};this.$$parse(dv)}br.prototype={$$replace:false,absUrl:A("$$absUrl"),url:function(dv,dw){if(bR(dv)){return this.$$url}var du=af.exec(dv);if(du[1]){this.path(decodeURIComponent(du[1]))}if(du[2]||du[1]){this.search(du[3]||"")}this.hash(du[5]||"",dw);return this},protocol:A("$$protocol"),host:A("$$host"),port:A("$$port"),path:d("$$path",function(du){return du.charAt(0)=="/"?du:"/"+du}),search:function(du,dv){if(bR(du)){return this.$$search}if(cQ(dv)){if(dv===null){delete this.$$search[du]}else{this.$$search[du]=dv}}else{this.$$search=cz(du)?an(du):du}this.$$compose();return this},hash:d("$$hash",aT),replace:function(){this.$$replace=true;return this}};c1.prototype=ck(br.prototype);function b2(dv,du,dx,dw){c1.apply(this,arguments);this.$$rewriteAppUrl=function(dy){if(dy.indexOf(dx)==0){return dx+dw+"#"+du+dy.substr(dx.length)}}}b2.prototype=ck(c1.prototype);function A(du){return function(){return this[du]}}function d(dv,du){return function(dw){if(bR(dw)){return this[dv]}this[dv]=du(dw);this.$$compose();return this}}function bT(){var du="",dv=false;this.hashPrefix=function(dw){if(cQ(dw)){du=dw;return this}else{return du}};this.html5Mode=function(dw){if(cQ(dw)){dv=dw;return this}else{return dv}};this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(dF,dI,dw,dG){var dB,dH,dx,dA=dI.url(),dz=ay(dA),dC;if(dv){dH=dI.baseHref()||"/";dx=b9(dH);dC=aR(dz.protocol,dz.host,dz.port)+dx+"/";if(dw.history){dB=new br(dl(dA,dH,du),dx,dC)}else{dB=new b2(bt(dA,dH,du),du,dC,dH.substr(dx.length+1))}}else{dC=aR(dz.protocol,dz.host,dz.port)+(dz.path||"")+(dz.search?("?"+dz.search):"")+"#"+du+"/";dB=new c1(dA,du,dC)}dG.bind("click",function(dJ){if(dJ.ctrlKey||dJ.metaKey||dJ.which==2){return}var dM=cB(dJ.target);while(ax(dM[0].nodeName)!=="a"){if(dM[0]===dG[0]||!(dM=dM.parent())[0]){return}}var dK=dM.prop("href"),dL=dB.$$rewriteAppUrl(dK);if(dK&&!dM.attr("target")&&dL){dB.$$parse(dL);dF.$apply();dJ.preventDefault();cd.angular["ff-684208-preventDefault"]=true}});if(dB.absUrl()!=dA){dI.url(dB.absUrl(),true)}dI.onUrlChange(function(dJ){if(dB.absUrl()!=dJ){dF.$evalAsync(function(){var dK=dB.absUrl();dB.$$parse(dJ);dy(dK)});if(!dF.$$phase){dF.$digest()}}});var dE=0;dF.$watch(function dD(){var dK=dI.url();var dJ=dB.$$replace;if(!dE||dK!=dB.absUrl()){dE++;dF.$evalAsync(function(){if(dF.$broadcast("$locationChangeStart",dB.absUrl(),dK).defaultPrevented){dB.$$parse(dK)}else{dI.url(dB.absUrl(),dJ);dy(dK)}})}dB.$$replace=false;return dE});return dB;function dy(dJ){dF.$broadcast("$locationChangeSuccess",dB.absUrl(),dJ)}}]}function db(){this.$get=["$window",function(dw){return{log:dv("log"),warn:dv("warn"),info:dv("info"),error:dv("error")};function du(dx){if(dx instanceof Error){if(dx.stack){dx=(dx.message&&dx.stack.indexOf(dx.message)===-1)?"Error: "+dx.message+"\n"+dx.stack:dx.stack}else{if(dx.sourceURL){dx=dx.message+"\n"+dx.sourceURL+":"+dx.line}}}return dx}function dv(dy){var dx=dw.console||{},dz=dx[dy]||dx.log||k;if(dz.apply){return function(){var dA=[];bj(arguments,function(dB){dA.push(du(dB))});return dz.apply(dx,dA)}}return function(dB,dA){dz(dB,dA)}}}]}var P={"null":function(){return null},"true":function(){return true},"false":function(){return false},undefined:k,"+":function(dw,dx,dv,du){dv=dv(dw,dx);du=du(dw,dx);if(cQ(dv)){if(cQ(du)){return dv+du}return dv}return cQ(du)?du:bE},"-":function(dw,dx,dv,du){dv=dv(dw,dx);du=du(dw,dx);return(cQ(dv)?dv:0)-(cQ(du)?du:0)},"*":function(dw,dx,dv,du){return dv(dw,dx)*du(dw,dx)},"/":function(dw,dx,dv,du){return dv(dw,dx)/du(dw,dx)},"%":function(dw,dx,dv,du){return dv(dw,dx)%du(dw,dx)},"^":function(dw,dx,dv,du){return dv(dw,dx)^du(dw,dx)},"=":k,"==":function(dw,dx,dv,du){return dv(dw,dx)==du(dw,dx)},"!=":function(dw,dx,dv,du){return dv(dw,dx)!=du(dw,dx)},"<":function(dw,dx,dv,du){return dv(dw,dx)<du(dw,dx)},">":function(dw,dx,dv,du){return dv(dw,dx)>du(dw,dx)},"<=":function(dw,dx,dv,du){return dv(dw,dx)<=du(dw,dx)},">=":function(dw,dx,dv,du){return dv(dw,dx)>=du(dw,dx)},"&&":function(dw,dx,dv,du){return dv(dw,dx)&&du(dw,dx)},"||":function(dw,dx,dv,du){return dv(dw,dx)||du(dw,dx)},"&":function(dw,dx,dv,du){return dv(dw,dx)&du(dw,dx)},"|":function(dw,dx,dv,du){return du(dw,dx)(dw,dx,dv(dw,dx))},"!":function(dv,dw,du){return !du(dv,dw)}};var ad={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'};function bB(dG,dH){var dJ=[],dB,dA=0,dN=[],dE,dP=":";while(dA<dG.length){dE=dG.charAt(dA);if(dz("\"'")){dv(dE)}else{if(dI(dE)||dz(".")&&dI(dK())){dw()}else{if(dL(dE)){dF();if(dD("{,")&&dN[0]=="{"&&(dB=dJ[dJ.length-1])){dB.json=dB.text.indexOf(".")==-1}}else{if(dz("(){}[].,;:")){dJ.push({index:dA,text:dE,json:(dD(":[,")&&dz("{["))||dz("}]:,")});if(dz("{[")){dN.unshift(dE)}if(dz("}]")){dN.shift()}dA++}else{if(dy(dE)){dA++;continue}else{var du=dE+dK(),dC=P[dE],dM=P[du];if(dM){dJ.push({index:dA,text:du,fn:dM});dA+=2}else{if(dC){dJ.push({index:dA,text:dE,fn:dC,json:dD("[,:")&&dz("+-")});dA+=1}else{dO("Unexpected next character ",dA,dA+1)}}}}}}}dP=dE}return dJ;function dz(dQ){return dQ.indexOf(dE)!=-1}function dD(dQ){return dQ.indexOf(dP)!=-1}function dK(){return dA+1<dG.length?dG.charAt(dA+1):false}function dI(dQ){return"0"<=dQ&&dQ<="9"}function dy(dQ){return dQ==" "||dQ=="\r"||dQ=="\t"||dQ=="\n"||dQ=="\v"||dQ=="\u00A0"}function dL(dQ){return"a"<=dQ&&dQ<="z"||"A"<=dQ&&dQ<="Z"||"_"==dQ||dQ=="$"}function dx(dQ){return dQ=="-"||dQ=="+"||dI(dQ)}function dO(dR,dS,dQ){dQ=dQ||dA;throw Error("Lexer Error: "+dR+" at column"+(cQ(dS)?"s "+dS+"-"+dA+" ["+dG.substring(dS,dQ)+"]":" "+dQ)+" in expression ["+dG+"].")}function dw(){var dS="";var dT=dA;while(dA<dG.length){var dR=ax(dG.charAt(dA));if(dR=="."||dI(dR)){dS+=dR}else{var dQ=dK();if(dR=="e"&&dx(dQ)){dS+=dR}else{if(dx(dR)&&dQ&&dI(dQ)&&dS.charAt(dS.length-1)=="e"){dS+=dR}else{if(dx(dR)&&(!dQ||!dI(dQ))&&dS.charAt(dS.length-1)=="e"){dO("Invalid exponent")}else{break}}}}dA++}dS=1*dS;dJ.push({index:dT,text:dS,json:true,fn:function(){return dS}})}function dF(){var dU="",dX=dA,dW,dV,dR;while(dA<dG.length){var dT=dG.charAt(dA);if(dT=="."||dL(dT)||dI(dT)){if(dT=="."){dW=dA}dU+=dT}else{break}dA++}if(dW){dV=dA;while(dV<dG.length){var dT=dG.charAt(dV);if(dT=="("){dR=dU.substr(dW-dX+1);dU=dU.substr(0,dW-dX);dA=dV;break}if(dy(dT)){dV++}else{break}}}var dS={index:dX,text:dU};if(P.hasOwnProperty(dU)){dS.fn=dS.json=P[dU]}else{var dQ=cF(dU,dH);dS.fn=cm(function(dY,dZ){return(dQ(dY,dZ))},{assign:function(dY,dZ){return cu(dY,dU,dZ)}})}dJ.push(dS);if(dR){dJ.push({index:dW,text:".",json:false});dJ.push({index:dW+1,text:dR,json:false})}}function dv(dQ){var dX=dA;dA++;var dR="";var dS=dQ;var dV=false;while(dA<dG.length){var dT=dG.charAt(dA);dS+=dT;if(dV){if(dT=="u"){var dU=dG.substring(dA+1,dA+5);if(!dU.match(/[\da-f]{4}/i)){dO("Invalid unicode escape [\\u"+dU+"]")}dA+=4;dR+=String.fromCharCode(parseInt(dU,16))}else{var dW=ad[dT];if(dW){dR+=dW}else{dR+=dT}}dV=false}else{if(dT=="\\"){dV=true}else{if(dT==dQ){dA++;dJ.push({index:dX,text:dS,string:dR,json:true,fn:function(){return dR}});return}else{dR+=dT}}}dA++}dO("Unterminated quote",dX)}}function Y(dP,d0,dX,d1){var dG=cK(0),dZ,dT=bB(dP,d1),dH=d2,dN=dw,dV=d3,dI=dR,dC=dK;if(d0){dH=dW;dN=dV=dI=dC=function(){dE("is not valid json",{text:dP,index:0})};dZ=dJ()}else{dZ=dy()}if(dT.length!==0){dE("is an unexpected token",dT[0])}return dZ;function dE(d6,d5){throw Error("Syntax Error: Token '"+d5.text+"' "+d6+" at column "+(d5.index+1)+" of the expression ["+dP+"] starting at ["+dP.substring(d5.index)+"].")}function dz(){if(dT.length===0){throw Error("Unexpected end of expression: "+dP)}return dT[0]}function dB(ea,d9,d8,d7){if(dT.length>0){var d6=dT[0];var d5=d6.text;if(d5==ea||d5==d9||d5==d8||d5==d7||(!ea&&!d9&&!d8&&!d7)){return d6}}return false}function dv(d9,d8,d7,d6){var d5=dB(d9,d8,d7,d6);if(d5){if(d0&&!d5.json){dE("is not valid json",d5)}dT.shift();return d5}return false}function dM(d5){if(!dv(d5)){dE("is unexpected, expecting ["+d5+"]",dB())}}function dF(d6,d5){return function(d7,d8){return d6(d7,d8,d5)}}function d4(d7,d6,d5){return function(d8,d9){return d6(d8,d9,d7,d5)}}function dy(){var d5=[];while(true){if(dT.length>0&&!dB("}",")",";","]")){d5.push(dC())}if(!dv(";")){return d5.length==1?d5[0]:function(d6,ea){var d9;for(var d7=0;d7<d5.length;d7++){var d8=d5[d7];if(d8){d9=d8(d6,ea)}}return d9}}}}function dK(){var d6=dO();var d5;while(true){if((d5=dv("|"))){d6=d4(d6,d5.fn,dU())}else{return d6}}}function dU(){var d6=dv();var d7=dX(d6.text);var d5=[];while(true){if((d6=dv(":"))){d5.push(dO())}else{var d8=function(ea,ed,d9){var eb=[d9];for(var ec=0;ec<d5.length;ec++){eb.push(d5[ec](ea,ed))}return d7.apply(ea,eb)};return function(){return d8}}}}function dO(){return dH()}function d2(){var d7=dW();var d6;var d5;if((d5=dv("="))){if(!d7.assign){dE("implies assignment but ["+dP.substring(0,d5.index)+"] can not be assigned to",d5)}d6=dW();return function(d8,d9){return d7.assign(d8,d6(d8,d9),d9)}}else{return d7}}function dW(){var d6=dD();var d5;while(true){if((d5=dv("||"))){d6=d4(d6,d5.fn,dD())}else{return d6}}}function dD(){var d6=dx();var d5;if((d5=dv("&&"))){d6=d4(d6,d5.fn,dD())}return d6}function dx(){var d6=dQ();var d5;if((d5=dv("==","!="))){d6=d4(d6,d5.fn,dx())}return d6}function dQ(){var d6=dS();var d5;if((d5=dv("<",">","<=",">="))){d6=d4(d6,d5.fn,dQ())}return d6}function dS(){var d6=du();var d5;while((d5=dv("+","-"))){d6=d4(d6,d5.fn,du())}return d6}function du(){var d6=dL();var d5;while((d5=dv("*","/","%"))){d6=d4(d6,d5.fn,dL())}return d6}function dL(){var d5;if(dv("+")){return dJ()}else{if((d5=dv("-"))){return d4(dG,d5.fn,dL())}else{if((d5=dv("!"))){return dF(d5.fn,dL())}else{return dJ()}}}}function dJ(){var d8;if(dv("(")){d8=dC();dM(")")}else{if(dv("[")){d8=dA()}else{if(dv("{")){d8=dY()}else{var d6=dv();d8=d6.fn;if(!d8){dE("not a primary expression",d6)}}}}var d7,d5;while((d7=dv("(","[","."))){if(d7.text==="("){d8=dN(d8,d5);d5=null}else{if(d7.text==="["){d5=d8;d8=dI(d8)}else{if(d7.text==="."){d5=d8;d8=dV(d8)}else{dE("IMPOSSIBLE")}}}}return d8}function d3(d6){var d7=dv().text;var d5=cF(d7,d1);return cm(function(d8,d9){return d5(d6(d8,d9),d9)},{assign:function(d8,d9,ea){return cu(d6(d8,ea),d7,d9)}})}function dR(d6){var d5=dO();dM("]");return cm(function(d8,eb){var ec=d6(d8,eb),d9=d5(d8,eb),d7,ea;if(!ec){return bE}d7=ec[d9];if(d7&&d7.then){ea=d7;if(!("$$v" in d7)){ea.$$v=bE;ea.then(function(ed){ea.$$v=ed})}d7=d7.$$v}return d7},{assign:function(d7,d8,d9){return d6(d7,d9)[d5(d7,d9)]=d8}})}function dw(d7,d5){var d6=[];if(dz().text!=")"){do{d6.push(dO())}while(dv(","))}dM(")");return function(d9,ed){var ea=[],ec=d5?d5(d9,ed):d9;for(var eb=0;eb<d6.length;eb++){ea.push(d6[eb](d9,ed))}var d8=d7(d9,ed)||k;return d8.apply?d8.apply(ec,ea):d8(ea[0],ea[1],ea[2],ea[3],ea[4])}}function dA(){var d5=[];if(dz().text!="]"){do{d5.push(dO())}while(dv(","))}dM("]");return function(d6,d8){var d9=[];for(var d7=0;d7<d5.length;d7++){d9.push(d5[d7](d6,d8))}return d9}}function dY(){var d5=[];if(dz().text!="}"){do{var d7=dv(),d6=d7.string||d7.text;dM(":");var d8=dO();d5.push({key:d6,value:d8})}while(dv(","))}dM("}");return function(d9,ee){var ea={};for(var eb=0;eb<d5.length;eb++){var ed=d5[eb];var ec=ed.value(d9,ee);ea[ed.key]=ec}return ea}}}function cu(dz,dy,dA){var dx=dy.split(".");for(var dw=0;dx.length>1;dw++){var dv=dx.shift();var du=dz[dv];if(!du){du={};dz[dv]=du}dz=du}dz[dx.shift()]=dA;return dA}function b6(dB,dA,dz){if(!dA){return dB}var dy=dA.split(".");var dx;var dv=dB;var du=dy.length;for(var dw=0;dw<du;dw++){dx=dy[dw];if(dB){dB=(dv=dB)[dx]}}if(!dz&&G(dB)){return bW(dv,dB)}return dB}var c6={};function bn(dy,dx,dw,dv,du){return function(dA,dB){var dz=(dB&&dB.hasOwnProperty(dy))?dB:dA,dC;if(dz===null||dz===bE){return dz}dz=dz[dy];if(dz&&dz.then){if(!("$$v" in dz)){dC=dz;dC.$$v=bE;dC.then(function(dD){dC.$$v=dD})}dz=dz.$$v}if(!dx||dz===null||dz===bE){return dz}dz=dz[dx];if(dz&&dz.then){if(!("$$v" in dz)){dC=dz;dC.$$v=bE;dC.then(function(dD){dC.$$v=dD})}dz=dz.$$v}if(!dw||dz===null||dz===bE){return dz}dz=dz[dw];if(dz&&dz.then){if(!("$$v" in dz)){dC=dz;dC.$$v=bE;dC.then(function(dD){dC.$$v=dD})}dz=dz.$$v}if(!dv||dz===null||dz===bE){return dz}dz=dz[dv];if(dz&&dz.then){if(!("$$v" in dz)){dC=dz;dC.$$v=bE;dC.then(function(dD){dC.$$v=dD})}dz=dz.$$v}if(!du||dz===null||dz===bE){return dz}dz=dz[du];if(dz&&dz.then){if(!("$$v" in dz)){dC=dz;dC.$$v=bE;dC.then(function(dD){dC.$$v=dD})}dz=dz.$$v}return dz}}function cF(dz,dx){if(c6.hasOwnProperty(dz)){return c6[dz]}var dy=dz.split("."),dw=dy.length,du;if(dx){du=(dw<6)?bn(dy[0],dy[1],dy[2],dy[3],dy[4]):function(dB,dC){var dA=0,dD;do{dD=bn(dy[dA++],dy[dA++],dy[dA++],dy[dA++],dy[dA++])(dB,dC);dC=bE;dB=dD}while(dA<dw);return dD}}else{var dv="var l, fn, p;\n";bj(dy,function(dB,dA){dv+="if(s === null || s === undefined) return s;\nl=s;\ns="+(dA?"s":'((k&&k.hasOwnProperty("'+dB+'"))?k:s)')+'["'+dB+'"];\nif (s && s.then) {\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n'});dv+="return s;";du=Function("s","k",dv);du.toString=function(){return dv}}return c6[dz]=du}function bV(){var du={};this.$get=["$filter","$sniffer",function(dv,dw){return function(dx){switch(typeof dx){case"string":return du.hasOwnProperty(dx)?du[dx]:du[dx]=Y(dx,false,dv,dw.csp);case"function":return dx;default:return k}}}]}function D(){this.$get=["$rootScope","$exceptionHandler",function(du,dv){return bZ(function(dw){du.$evalAsync(dw)},dv)}]}function bZ(dx,dz){var du=function(){var dF=[],dE,dD;dD={resolve:function(dH){if(dF){var dG=dF;dF=bE;dE=dw(dH);if(dG.length){dx(function(){var dK;for(var dI=0,dJ=dG.length;dI<dJ;dI++){dK=dG[dI];dE.then(dK[0],dK[1])}})}}},reject:function(dG){dD.resolve(dC(dG))},promise:{then:function(dK,dH){var dG=du();var dJ=function(dL){try{dG.resolve((dK||dv)(dL))}catch(dM){dz(dM);dG.reject(dM)}};var dI=function(dM){try{dG.resolve((dH||dA)(dM))}catch(dL){dz(dL);dG.reject(dL)}};if(dF){dF.push([dJ,dI])}else{dE.then(dJ,dI)}return dG.promise}}};return dD};var dw=function(dD){if(dD&&dD.then){return dD}return{then:function(dF){var dE=du();dx(function(){dE.resolve(dF(dD))});return dE.promise}}};var dC=function(dD){return{then:function(dG,dF){var dE=du();dx(function(){dE.resolve((dF||dA)(dD))});return dE.promise}}};var dy=function(dH,dJ,dF){var dD=du(),dE;var dI=function(dK){try{return(dJ||dv)(dK)}catch(dL){dz(dL);return dC(dL)}};var dG=function(dL){try{return(dF||dA)(dL)}catch(dK){dz(dK);return dC(dK)}};dx(function(){dw(dH).then(function(dK){if(dE){return}dE=true;dD.resolve(dw(dK).then(dI,dG))},function(dK){if(dE){return}dE=true;dD.resolve(dG(dK))})});return dD.promise};function dv(dD){return dD}function dA(dD){return dC(dD)}function dB(dG){var dE=du(),dD=dG.length,dF=[];if(dD){bj(dG,function(dI,dH){dw(dI).then(function(dJ){if(dH in dF){return}dF[dH]=dJ;if(!(--dD)){dE.resolve(dF)}},function(dJ){if(dH in dF){return}dE.reject(dJ)})})}else{dE.resolve(dF)}return dE.promise}return{defer:du,reject:dC,when:dy,all:dB}}function y(){var du={};this.when=function(dx,dw){du[dx]=cm({reloadOnSearch:true},dw);if(dx){var dv=(dx[dx.length-1]=="/")?dx.substr(0,dx.length-1):dx+"/";du[dv]={redirectTo:dx}}return this};this.otherwise=function(dv){this.when(null,dv);return this};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache",function(dF,dz,dG,dA,dH,dD,dv){var dx=false,dE={routes:du,reload:function(){dx=true;dF.$evalAsync(dC)}};dF.$on("$locationChangeSuccess",dC);return dE;function dw(dK,dL){dL="^"+dL.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"$";var dO="",dI=[],dM={};var dQ=/:(\w+)/g,dP,dN=0;while((dP=dQ.exec(dL))!==null){dO+=dL.slice(dN,dP.index);dO+="([^\\/]*)";dI.push(dP[1]);dN=dQ.lastIndex}dO+=dL.substr(dN);var dJ=dK.match(new RegExp(dO));if(dJ){bj(dI,function(dS,dR){dM[dS]=dJ[dR+1]})}return dJ?dM:null}function dC(){var dI=dy(),dJ=dE.current;if(dI&&dJ&&dI.$$route===dJ.$$route&&o(dI.pathParams,dJ.pathParams)&&!dI.reloadOnSearch&&!dx){dJ.params=dI.params;bJ(dJ.params,dG);dF.$broadcast("$routeUpdate",dJ)}else{if(dI||dJ){dx=false;dF.$broadcast("$routeChangeStart",dI,dJ);dE.current=dI;if(dI){if(dI.redirectTo){if(cz(dI.redirectTo)){dz.path(dB(dI.redirectTo,dI.params)).search(dI.params).replace()}else{dz.url(dI.redirectTo(dI.pathParams,dz.path(),dz.search())).replace()}}}dA.when(dI).then(function(){if(dI){var dM=[],dK=[],dL;bj(dI.resolve||{},function(dO,dN){dM.push(dN);dK.push(cz(dO)?dH.get(dO):dH.invoke(dO))});if(cQ(dL=dI.template)){}else{if(cQ(dL=dI.templateUrl)){dL=dD.get(dL,{cache:dv}).then(function(dN){return dN.data})}}if(cQ(dL)){dM.push("$template");dK.push(dL)}return dA.all(dK).then(function(dN){var dO={};bj(dN,function(dQ,dP){dO[dM[dP]]=dQ});return dO})}}).then(function(dK){if(dI==dE.current){if(dI){dI.locals=dK;bJ(dI.params,dG)}dF.$broadcast("$routeChangeSuccess",dI,dJ)}},function(dK){if(dI==dE.current){dF.$broadcast("$routeChangeError",dI,dJ,dK)}})}}}function dy(){var dJ,dI;bj(du,function(dK,dL){if(!dI&&(dJ=dw(dz.path(),dL))){dI=ck(dK,{params:cm({},dz.search(),dJ),pathParams:dJ});dI.$$route=dK}});return dI||du[null]&&ck(du[null],{params:{},pathParams:{}})}function dB(dJ,dK){var dI=[];bj((dJ||"").split(":"),function(dN,dM){if(dM==0){dI.push(dN)}else{var dO=dN.match(/(\w+)(.*)/);var dL=dO[1];dI.push(dK[dL]);dI.push(dO[2]||"");delete dK[dL]}});return dI.join("")}}]}function be(){this.$get=cK({})}function bm(){var du=10;this.digestTtl=function(dv){if(arguments.length){du=dv}return du};this.$get=["$injector","$exceptionHandler","$parse",function(dC,dD,dw){function dz(){this.$id=cP();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this["this"]=this.$root=this;this.$$destroyed=false;this.$$asyncQueue=[];this.$$listeners={};this.$$isolateBindings={}}dz.prototype={$new:function(dE){var dF,dG;if(G(dE)){throw Error("API-CHANGE: Use $controller to instantiate controllers.")}if(dE){dG=new dz();dG.$root=this.$root}else{dF=function(){};dF.prototype=this;dG=new dF();dG.$id=cP()}dG["this"]=dG;dG.$$listeners={};dG.$parent=this;dG.$$asyncQueue=[];dG.$$watchers=dG.$$nextSibling=dG.$$childHead=dG.$$childTail=null;dG.$$prevSibling=this.$$childTail;if(this.$$childHead){this.$$childTail.$$nextSibling=dG;this.$$childTail=dG}else{this.$$childHead=this.$$childTail=dG}return dG},$watch:function(dK,dJ,dE){var dI=this,dG=dv(dK,"watch"),dL=dI.$$watchers,dF={fn:dJ,last:dy,get:dG,exp:dK,eq:!!dE};if(!G(dJ)){var dH=dv(dJ||k,"listener");dF.fn=function(dN,dM,dO){dH(dO)}}if(!dL){dL=dI.$$watchers=[]}dL.unshift(dF);return function(){aP(dL,dF)}},$digest:function(){var dP,dQ,dS,dK,dH,dF,dE,dG=du,dJ,dO,dN=this,dM=[],dI,dR;dA("$digest");do{dE=false;dO=dN;do{dH=dO.$$asyncQueue;while(dH.length){try{dO.$eval(dH.shift())}catch(dL){dD(dL)}}if((dK=dO.$$watchers)){dF=dK.length;while(dF--){try{dP=dK[dF];if((dQ=dP.get(dO))!==(dS=dP.last)&&!(dP.eq?o(dQ,dS):(typeof dQ=="number"&&typeof dS=="number"&&isNaN(dQ)&&isNaN(dS)))){dE=true;dP.last=dP.eq?bJ(dQ):dQ;dP.fn(dQ,((dS===dy)?dQ:dS),dO);if(dG<5){dI=4-dG;if(!dM[dI]){dM[dI]=[]}dR=(G(dP.exp))?"fn: "+(dP.exp.name||dP.exp.toString()):dP.exp;dR+="; newVal: "+cD(dQ)+"; oldVal: "+cD(dS);dM[dI].push(dR)}}}catch(dL){dD(dL)}}}if(!(dJ=(dO.$$childHead||(dO!==dN&&dO.$$nextSibling)))){while(dO!==dN&&!(dJ=dO.$$nextSibling)){dO=dO.$parent}}}while((dO=dJ));if(dE&&!(dG--)){dx();throw Error(du+" $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: "+cD(dM))}}while(dE||dH.length);dx()},$destroy:function(){if(dB==this||this.$$destroyed){return}var dE=this.$parent;this.$broadcast("$destroy");this.$$destroyed=true;if(dE.$$childHead==this){dE.$$childHead=this.$$nextSibling}if(dE.$$childTail==this){dE.$$childTail=this.$$prevSibling}if(this.$$prevSibling){this.$$prevSibling.$$nextSibling=this.$$nextSibling}if(this.$$nextSibling){this.$$nextSibling.$$prevSibling=this.$$prevSibling}this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null},$eval:function(dF,dE){return dw(dF)(this,dE)},$evalAsync:function(dE){this.$$asyncQueue.push(dE)},$apply:function(dF){try{dA("$apply");return this.$eval(dF)}catch(dE){dD(dE)}finally{dx();try{dB.$digest()}catch(dE){dD(dE);throw dE}}},$on:function(dE,dF){var dG=this.$$listeners[dE];if(!dG){this.$$listeners[dE]=dG=[]}dG.push(dF);return function(){dG[dm(dG,dF)]=null}},$emit:function(dF,dM){var dK=[],dI,dO=this,dN=false,dE={name:dF,targetScope:dO,stopPropagation:function(){dN=true},preventDefault:function(){dE.defaultPrevented=true},defaultPrevented:false},dH=bp([dE],arguments,1),dJ,dG;do{dI=dO.$$listeners[dF]||dK;dE.currentScope=dO;for(dJ=0,dG=dI.length;dJ<dG;dJ++){if(!dI[dJ]){dI.splice(dJ,1);dJ--;dG--;continue}try{dI[dJ].apply(null,dH);if(dN){return dE}}catch(dL){dD(dL)}}dO=dO.$parent}while(dO);return dE},$broadcast:function(dF,dN){var dL=this,dM=dL,dJ=dL,dE={name:dF,targetScope:dL,preventDefault:function(){dE.defaultPrevented=true},defaultPrevented:false},dH=bp([dE],arguments,1),dO,dI,dG;do{dM=dJ;dE.currentScope=dM;dO=dM.$$listeners[dF]||[];for(dI=0,dG=dO.length;dI<dG;dI++){if(!dO[dI]){dO.splice(dI,1);dI--;dG--;continue}try{dO[dI].apply(null,dH)}catch(dK){dD(dK)}}if(!(dJ=(dM.$$childHead||(dM!==dL&&dM.$$nextSibling)))){while(dM!==dL&&!(dJ=dM.$$nextSibling)){dM=dM.$parent}}}while((dM=dJ));return dE}};var dB=new dz();return dB;function dA(dE){if(dB.$$phase){throw Error(dB.$$phase+" already in progress")}dB.$$phase=dE}function dx(){dB.$$phase=null}function dv(dG,dE){var dF=dw(dG);i(dF,dE);return dF}function dy(){}}]}function aF(){this.$get=["$window",function(dw){var dv={},du=df((/android (\d+)/.exec(ax(dw.navigator.userAgent))||[])[1]);return{history:!!(dw.history&&dw.history.pushState&&!(du<4)),hashchange:"onhashchange" in dw&&(!dw.document.documentMode||dw.document.documentMode>7),hasEvent:function(dx){if(dx=="input"&&aA==9){return false}if(bR(dv[dx])){var dy=dw.document.createElement("div");dv[dx]="on"+dx in dy}return dv[dx]},csp:false}}]}function cW(){this.$get=cK(cd)}function c5(dy){var du={},dw,dx,dv;if(!dy){return du}bj(dy.split("\n"),function(dz){dv=dz.indexOf(":");dw=ax(aD(dz.substr(0,dv)));dx=aD(dz.substr(dv+1));if(dw){if(du[dw]){du[dw]+=", "+dx}else{du[dw]=dx}}});return du}function ac(du){var dv=dt(du)?du:bE;return function(dw){if(!dv){dv=c5(du)}if(dw){return dv[ax(dw)]||null}return dv}}function de(dv,dw,du){if(G(du)){return du(dv,dw)}bj(du,function(dx){dv=dx(dv,dw)});return dv}function bX(du){return 200<=du&&du<300}function b5(){var dw=/^\s*(\[|\{[^\{])/,dv=/[\}\]]\s*$/,dx=/^\)\]\}',?\n/;var dy=this.defaults={transformResponse:[function(dz){if(cz(dz)){dz=dz.replace(dx,"");if(dw.test(dz)&&dv.test(dz)){dz=W(dz,true)}}return dz}],transformRequest:[function(dz){return dt(dz)&&!aK(dz)?cD(dz):dz}],headers:{common:{Accept:"application/json, text/plain, */*","X-Requested-With":"XMLHttpRequest"},post:{"Content-Type":"application/json;charset=utf-8"},put:{"Content-Type":"application/json;charset=utf-8"}}};var du=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(dH,dL,dG,dI,dD,dJ){var dK=dG("$http"),dC=[];bj(du,function(dM){dC.push(cz(dM)?dJ.get(dM):dJ.invoke(dM))});function dE(dQ){dQ.method=b0(dQ.method);var dP=dQ.transformRequest||dy.transformRequest,dR=dQ.transformResponse||dy.transformResponse,dN=dy.headers,dT=cm({"X-XSRF-TOKEN":dL.cookies()["XSRF-TOKEN"]},dN.common,dN[ax(dQ.method)],dQ.headers),dO=de(dQ.data,ac(dT),dP),dS;if(bR(dQ.data)){delete dT["Content-Type"]}dS=dA(dQ,dO,dT);dS=dS.then(dM,dM);bj(dC,function(dU){dS=dU(dS)});dS.success=function(dU){dS.then(function(dV){dU(dV.data,dV.status,dV.headers,dQ)});return dS};dS.error=function(dU){dS.then(null,function(dV){dU(dV.data,dV.status,dV.headers,dQ)});return dS};return dS;function dM(dU){var dV=cm({},dU,{data:de(dU.data,dU.headers,dR)});return(bX(dU.status))?dV:dD.reject(dV)}}dE.pendingRequests=[];dz("get","delete","head","jsonp");dB("post","put");dE.defaults=dy;return dE;function dz(dM){bj(arguments,function(dN){dE[dN]=function(dP,dO){return dE(cm(dO||{},{method:dN,url:dP}))}})}function dB(dM){bj(arguments,function(dN){dE[dN]=function(dP,dQ,dO){return dE(cm(dO||{},{method:dN,url:dP,data:dQ}))}})}function dA(dP,dU,dN){var dV=dD.defer(),dW=dV.promise,dM,dS,dO=dF(dP.url,dP.params);dE.pendingRequests.push(dP);dW.then(dQ,dQ);if(dP.cache&&dP.method=="GET"){dM=dt(dP.cache)?dP.cache:dK}if(dM){dS=dM.get(dO);if(dS){if(dS.then){dS.then(dQ,dQ);return dS}else{if(bl(dS)){dT(dS[1],dS[0],bJ(dS[2]))}else{dT(dS,200,{})}}}else{dM.put(dO,dW)}}if(!dS){dH(dP.method,dO,dU,dR,dN,dP.timeout,dP.withCredentials)}return dW;function dR(dX,dY,dZ){if(dM){if(bX(dX)){dM.put(dO,[dX,dY,c5(dZ)])}else{dM.remove(dO)}}dT(dY,dX,dZ);dI.$apply()}function dT(dY,dX,dZ){dX=Math.max(dX,0);(bX(dX)?dV.resolve:dV.reject)({data:dY,status:dX,headers:ac(dZ),config:dP})}function dQ(){var dX=dm(dE.pendingRequests,dP);if(dX!==-1){dE.pendingRequests.splice(dX,1)}}}function dF(dM,dO){if(!dO){return dM}var dN=[];F(dO,function(dQ,dP){if(dQ==null||dQ==bE){return}if(dt(dQ)){dQ=cD(dQ)}dN.push(encodeURIComponent(dP)+"="+encodeURIComponent(dQ))});return dM+((dM.indexOf("?")==-1)?"?":"&")+dN.join("&")}}]}var Q=cd.XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(dw){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(dv){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(du){}throw new Error("This browser does not support XMLHttpRequest.")};function b3(){this.$get=["$browser","$window","$document",function(du,dw,dv){return bA(du,Q,du.defer,dw.angular.callbacks,dv[0],dw.location.protocol.replace(":",""))}]}function bA(du,dy,dv,dx,dw,dA){return function(dB,dD,dJ,dK,dF,dI,dG){du.$$incOutstandingRequestCount();dD=dD||du.url();if(ax(dB)=="jsonp"){var dC="_"+(dx.counter++).toString(36);dx[dC]=function(dM){dx[dC].data=dM};dz(dD.replace("JSON_CALLBACK","angular.callbacks."+dC),function(){if(dx[dC].data){dE(dK,200,dx[dC].data)}else{dE(dK,-2)}delete dx[dC]})}else{var dL=new dy();dL.open(dB,dD,true);bj(dF,function(dN,dM){if(dN){dL.setRequestHeader(dM,dN)}});var dH;dL.onreadystatechange=function(){if(dL.readyState==4){var dN=dL.getAllResponseHeaders();var dO,dM=["Cache-Control","Content-Language","Content-Type","Expires","Last-Modified","Pragma"];if(!dN){dN="";bj(dM,function(dQ){var dP=dL.getResponseHeader(dQ);if(dP){dN+=dQ+": "+dP+"\n"}})}dE(dK,dH||dL.status,dL.responseText,dN)}};if(dG){dL.withCredentials=true}dL.send(dJ||"");if(dI>0){dv(function(){dH=-1;dL.abort()},dI)}}function dE(dQ,dM,dN,dO){var dP=(dD.match(N)||["",dA])[1];dM=(dP=="file")?(dN?200:404):dM;dM=dM==1223?204:dM;dQ(dM,dN,dO);du.$$completeOutstandingRequest(k)}};function dz(dE,dC){var dD=dw.createElement("script"),dB=function(){dw.body.removeChild(dD);if(dC){dC()}};dD.type="text/javascript";dD.src=dE;if(aA){dD.onreadystatechange=function(){if(/loaded|complete/.test(dD.readyState)){dB()}}}else{dD.onload=dD.onerror=dB}dw.body.appendChild(dD)}}function ab(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"\u00A4",posSuf:"",negPre:"(\u00A4",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(du){if(du===1){return"one"}return"other"}}}}function ai(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(dv,du,dw,dx){var dy={};function dz(dE,dC,dA){var dB=dw.defer(),dH=dB.promise,dG=(cQ(dA)&&!dA),dF,dD;dF=du.defer(function(){try{dB.resolve(dE())}catch(dI){dB.reject(dI);dx(dI)}if(!dG){dv.$apply()}},dC);dD=function(){delete dy[dH.$$timeoutId]};dH.$$timeoutId=dF;dy[dF]=dB;dH.then(dD,dD);return dH}dz.cancel=function(dA){if(dA&&dA.$$timeoutId in dy){dy[dA.$$timeoutId].reject("canceled");return du.defer.cancel(dA.$$timeoutId)}return false};return dz}]}aM.$inject=["$provide"];function aM(dv){var dw="Filter";function du(dy,dx){return dv.factory(dy+dw,dx)}this.register=du;this.$get=["$injector",function(dx){return function(dy){return dx.get(dy+dw)}}];du("currency",bw);du("date",bd);du("filter",aq);du("json",V);du("limitTo",ag);du("lowercase",am);du("number",bO);du("orderBy",aN);du("uppercase",bQ)}function aq(){return function(dB,dA){if(!bl(dB)){return dB}var dw=[];dw.check=function(dD){for(var dC=0;dC<dw.length;dC++){if(!dw[dC](dD)){return false}}return true};var dy=function(dE,dF){if(dF.charAt(0)==="!"){return !dy(dE,dF.substr(1))}switch(typeof dE){case"boolean":case"number":case"string":return(""+dE).toLowerCase().indexOf(dF)>-1;case"object":for(var dD in dE){if(dD.charAt(0)!=="$"&&dy(dE[dD],dF)){return true}}return false;case"array":for(var dC=0;dC<dE.length;dC++){if(dy(dE[dC],dF)){return true}}return false;default:return false}};switch(typeof dA){case"boolean":case"number":case"string":dA={$:dA};case"object":for(var dx in dA){if(dx=="$"){(function(){var dC=(""+dA[dx]).toLowerCase();if(!dC){return}dw.push(function(dD){return dy(dD,dC)})})()}else{(function(){var dC=dx;var dD=(""+dA[dx]).toLowerCase();if(!dD){return}dw.push(function(dE){return dy(b6(dE,dC),dD)})})()}}break;case"function":dw.push(dA);break;default:return dB}var dv=[];for(var du=0;du<dB.length;du++){var dz=dB[du];if(dw.check(dz)){dv.push(dz)}}return dv}}bw.$inject=["$locale"];function bw(dv){var du=dv.NUMBER_FORMATS;return function(dx,dw){if(bR(dw)){dw=du.CURRENCY_SYM}return cU(dx,du.PATTERNS[1],du.GROUP_SEP,du.DECIMAL_SEP,2).replace(/\u00A4/g,dw)}}bO.$inject=["$locale"];function bO(dv){var du=dv.NUMBER_FORMATS;return function(dw,dx){return cU(dw,du.PATTERNS[0],du.GROUP_SEP,du.DECIMAL_SEP,dx)}}var c=".";function cU(du,dK,dD,dA,dv){if(isNaN(du)||!isFinite(du)){return""}var dE=du<0;du=Math.abs(du);var dL=du+"",dG="",dH=[];var dI=false;if(dL.indexOf("e")!==-1){var dB=dL.match(/([\d\.]+)e(-?)(\d+)/);if(dB&&dB[2]=="-"&&dB[3]>dv+1){dL="0"}else{dG=dL;dI=true}}if(!dI){var dw=(dL.split(c)[1]||"").length;if(bR(dv)){dv=Math.min(Math.max(dK.minFrac,dw),dK.maxFrac)}var dx=Math.pow(10,dv);du=Math.round(du*dx)/dx;var dy=(""+du).split(c);var dM=dy[0];dy=dy[1]||"";var dz=0,dF=dK.lgSize,dC=dK.gSize;if(dM.length>=(dF+dC)){dz=dM.length-dF;for(var dJ=0;dJ<dz;dJ++){if((dz-dJ)%dC===0&&dJ!==0){dG+=dD}dG+=dM.charAt(dJ)}}for(dJ=dz;dJ<dM.length;dJ++){if((dM.length-dJ)%dF===0&&dJ!==0){dG+=dD}dG+=dM.charAt(dJ)}while(dy.length<dv){dy+="0"}if(dv&&dv!=="0"){dG+=dA+dy.substr(0,dv)}}dH.push(dE?dK.negPre:dK.posPre);dH.push(dG);dH.push(dE?dK.negSuf:dK.posSuf);return dH.join("")}function cE(dv,dw,du){var dx="";if(dv<0){dx="-";dv=-dv}dv=""+dv;while(dv.length<dw){dv="0"+dv}if(du){dv=dv.substr(dv.length-dw)}return dx+dv}function bG(dv,dw,dx,du){return function(dy){var dz=dy["get"+dv]();if(dx>0||dz>-dx){dz+=dx}if(dz===0&&dx==-12){dz=12}return cE(dz,dw,du)}}function cc(dv,du){return function(dy,dw){var dz=dy["get"+dv]();var dx=b0(du?("SHORT"+dv):dv);return dw[dx][dz]}}function at(dv){var du=-1*dv.getTimezoneOffset();var dw=(du>=0)?"+":"";dw+=cE(Math[du>0?"floor":"ceil"](du/60),2)+cE(Math.abs(du%60),2);return dw}function cA(dv,du){return dv.getHours()<12?du.AMPMS[0]:du.AMPMS[1]}var bY={yyyy:bG("FullYear",4),yy:bG("FullYear",2,0,true),y:bG("FullYear",1),MMMM:cc("Month"),MMM:cc("Month",true),MM:bG("Month",2,1),M:bG("Month",1,1),dd:bG("Date",2),d:bG("Date",1),HH:bG("Hours",2),H:bG("Hours",1),hh:bG("Hours",2,-12),h:bG("Hours",1,-12),mm:bG("Minutes",2),m:bG("Minutes",1),ss:bG("Seconds",2),s:bG("Seconds",1),EEEE:cc("Day"),EEE:cc("Day",true),a:cA,Z:at};var az=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,cI=/^\d+$/;bd.$inject=["$locale"];function bd(dv){var du=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;function dw(dB){var dA;if(dA=dB.match(du)){var dz=new Date(0),dy=0,dx=0;if(dA[9]){dy=df(dA[9]+dA[10]);dx=df(dA[9]+dA[11])}dz.setUTCFullYear(df(dA[1]),df(dA[2])-1,df(dA[3]));dz.setUTCHours(df(dA[4]||0)-dy,df(dA[5]||0)-dx,df(dA[6]||0),df(dA[7]||0));return dz}return dB}return function(dy,dB){var dC="",dA=[],dz,dx;dB=dB||"mediumDate";dB=dv.DATETIME_FORMATS[dB]||dB;if(cz(dy)){if(cI.test(dy)){dy=df(dy)}else{dy=dw(dy)}}if(a7(dy)){dy=new Date(dy)}if(!aH(dy)){return dy}while(dB){dx=az.exec(dB);if(dx){dA=bp(dA,dx,1);dB=dA.pop()}else{dA.push(dB);dB=null}}bj(dA,function(dD){dz=bY[dD];dC+=dz?dz(dy,dv.DATETIME_FORMATS):dD.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return dC}}function V(){return function(du){return cD(du,true)}}var am=cK(ax);var bQ=cK(b0);function ag(){return function(dy,du){if(!(dy instanceof Array)){return dy}du=df(du);var dv=[],dw,dx;if(!dy||!(dy instanceof Array)){return dv}if(du>dy.length){du=dy.length}else{if(du<-dy.length){du=-dy.length}}if(du>0){dw=0;dx=du}else{dw=dy.length+du;dx=dy.length}for(;dw<dx;dw++){dv.push(dy[dw])}return dv}}aN.$inject=["$parse"];function aN(du){return function(dC,dv,dB){if(!bl(dC)){return dC}if(!dv){return dC}dv=bl(dv)?dv:[dv];dv=aV(dv,function(dD){var dF=false,dE=dD||aT;if(cz(dD)){if((dD.charAt(0)=="+"||dD.charAt(0)=="-")){dF=dD.charAt(0)=="-";dD=dD.substring(1)}dE=du(dD)}return dA(function(dH,dG){return dz(dE(dH),dE(dG))},dF)});var dy=[];for(var dx=0;dx<dC.length;dx++){dy.push(dC[dx])}return dy.sort(dA(dw,dB));function dw(dG,dF){for(var dE=0;dE<dv.length;dE++){var dD=dv[dE](dG,dF);if(dD!==0){return dD}}return 0}function dA(dD,dE){return cH(dE)?function(dG,dF){return dD(dF,dG)}:dD}function dz(dG,dF){var dE=typeof dG;var dD=typeof dF;if(dE==dD){if(dE=="string"){dG=dG.toLowerCase()}if(dE=="string"){dF=dF.toLowerCase()}if(dG===dF){return 0}return dG<dF?-1:1}else{return dE<dD?-1:1}}}}function cM(du){if(G(du)){du={link:du}}du.restrict=du.restrict||"AC";return cK(du)}var bi=cK({restrict:"E",compile:function(dv,du){if(aA<=8){if(!du.href&&!du.name){du.$set("href","")}dv.append(r.createComment("IE fix"))}return function(dx,dw){dw.bind("click",function(dy){if(!dw.attr("href")){dy.preventDefault()}})}}});var b={};bj(cN,function(dv,du){var dw=cv("ng-"+du);b[dw]=function(){return{priority:100,compile:function(){return function(dA,dz,dx){dA.$watch(dx[dw],function dy(dB){dx.$set(du,!!dB)})}}}}});bj(["src","href"],function(du){var dv=cv("ng-"+du);b[dv]=function(){return{priority:99,link:function(dy,dx,dw){dw.$observe(dv,function(dz){if(!dz){return}dw.$set(du,dz);if(aA){dx.prop(du,dw[du])}})}}}});var ch={$addControl:k,$removeControl:k,$setValidity:k,$setDirty:k};cO.$inject=["$element","$attrs","$scope"];function cO(dw,dv){var dx=this,du=dw.parent().controller("form")||ch,dz=0,dA=dx.$error={};dx.$name=dv.name;dx.$dirty=false;dx.$pristine=true;dx.$valid=true;dx.$invalid=false;du.$addControl(dx);dw.addClass(cR);dy(true);function dy(dC,dB){dB=dB?"-"+cl(dB,"-"):"";dw.removeClass((dC?bv:aQ)+dB).addClass((dC?aQ:bv)+dB)}dx.$addControl=function(dB){if(dB.$name&&!dx.hasOwnProperty(dB.$name)){dx[dB.$name]=dB}};dx.$removeControl=function(dB){if(dB.$name&&dx[dB.$name]===dB){delete dx[dB.$name]}bj(dA,function(dC,dD){dx.$setValidity(dD,true,dB)})};dx.$setValidity=function(dE,dD,dC){var dB=dA[dE];if(dD){if(dB){aP(dB,dC);if(!dB.length){dz--;if(!dz){dy(dD);dx.$valid=true;dx.$invalid=false}dA[dE]=false;dy(true,dE);du.$setValidity(dE,true,dx)}}}else{if(!dz){dy(dD)}if(dB){if(t(dB,dC)){return}}else{dA[dE]=dB=[];dz++;dy(false,dE);du.$setValidity(dE,false,dx)}dB.push(dC);dx.$valid=false;dx.$invalid=true}};dx.$setDirty=function(){dw.removeClass(cR).addClass(bC);dx.$dirty=true;dx.$pristine=false;du.$setDirty()}}var U=function(du){return["$timeout",function(dw){var dv={name:"form",restrict:"E",controller:cO,compile:function(){return{pre:function(dC,dB,dx,dy){if(!dx.action){var dz=function(dE){dE.preventDefault?dE.preventDefault():dE.returnValue=false};b7(dB[0],"submit",dz);dB.bind("$destroy",function(){dw(function(){ae(dB[0],"submit",dz)},0,false)})}var dD=dB.parent().controller("form"),dA=dx.name||dx.ngForm;if(dA){dC[dA]=dy}if(dD){dB.bind("$destroy",function(){dD.$removeControl(dy);if(dA){dC[dA]=bE}cm(dy,ch)})}}}}};return du?cm(bJ(dv),{restrict:"EAC"}):dv}]};var c8=U();var bc=U(true);var bk=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/;var c7=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/;var bU=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/;var bx={text:ao,number:bN,url:f,email:dr,radio:bg,checkbox:dk,hidden:k,button:k,submit:k,reset:k};function cp(du){return bR(du)||du===""||du===null||du!==du}function ao(dH,dB,dC,du,dv,dI){var dz=function(){var dJ=aD(dB.val());if(du.$viewValue!==dJ){dH.$apply(function(){du.$setViewValue(dJ)})}};if(dv.hasEvent("input")){dB.bind("input",dz)}else{var dF;dB.bind("keydown",function(dK){var dJ=dK.keyCode;if(dJ===91||(15<dJ&&dJ<19)||(37<=dJ&&dJ<=40)){return}if(!dF){dF=dI.defer(function(){dz();dF=null})}});dB.bind("change",dz)}du.$render=function(){dB.val(cp(du.$viewValue)?"":du.$viewValue)};var dD=dC.ngPattern,dA;var dE=function(dK,dJ){if(cp(dJ)||dK.test(dJ)){du.$setValidity("pattern",true);return dJ}else{du.$setValidity("pattern",false);return bE}};if(dD){if(dD.match(/^\/(.*)\/$/)){dD=new RegExp(dD.substr(1,dD.length-2));dA=function(dJ){return dE(dD,dJ)}}else{dA=function(dK){var dJ=dH.$eval(dD);if(!dJ||!dJ.test){throw new Error("Expected "+dD+" to be a RegExp but was "+dJ)}return dE(dJ,dK)}}du.$formatters.push(dA);du.$parsers.push(dA)}if(dC.ngMinlength){var dy=df(dC.ngMinlength);var dx=function(dJ){if(!cp(dJ)&&dJ.length<dy){du.$setValidity("minlength",false);return bE}else{du.$setValidity("minlength",true);return dJ}};du.$parsers.push(dx);du.$formatters.push(dx)}if(dC.ngMaxlength){var dw=df(dC.ngMaxlength);var dG=function(dJ){if(!cp(dJ)&&dJ.length>dw){du.$setValidity("maxlength",false);return bE}else{du.$setValidity("maxlength",true);return dJ}};du.$parsers.push(dG);du.$formatters.push(dG)}}function bN(dC,dx,dA,du,dv,dD){ao(dC,dx,dA,du,dv,dD);du.$parsers.push(function(dF){var dE=cp(dF);if(dE||bU.test(dF)){du.$setValidity("number",true);return dF===""?null:(dE?dF:parseFloat(dF))}else{du.$setValidity("number",false);return bE}});du.$formatters.push(function(dE){return cp(dE)?"":""+dE});if(dA.min){var dw=parseFloat(dA.min);var dz=function(dE){if(!cp(dE)&&dE<dw){du.$setValidity("min",false);return bE}else{du.$setValidity("min",true);return dE}};du.$parsers.push(dz);du.$formatters.push(dz)}if(dA.max){var dB=parseFloat(dA.max);var dy=function(dE){if(!cp(dE)&&dE>dB){du.$setValidity("max",false);return bE}else{du.$setValidity("max",true);return dE}};du.$parsers.push(dy);du.$formatters.push(dy)}du.$formatters.push(function(dE){if(cp(dE)||a7(dE)){du.$setValidity("number",true);return dE}else{du.$setValidity("number",false);return bE}})}function f(dx,dw,dv,dy,dA,du){ao(dx,dw,dv,dy,dA,du);var dz=function(dB){if(cp(dB)||bk.test(dB)){dy.$setValidity("url",true);return dB}else{dy.$setValidity("url",false);return bE}};dy.$formatters.push(dz);dy.$parsers.push(dz)}function dr(dx,dw,dv,dy,dA,du){ao(dx,dw,dv,dy,dA,du);var dz=function(dB){if(cp(dB)||c7.test(dB)){dy.$setValidity("email",true);return dB}else{dy.$setValidity("email",false);return bE}};dy.$formatters.push(dz);dy.$parsers.push(dz)}function bg(dw,dv,du,dx){if(bR(du.name)){dv.attr("name",cP())}dv.bind("click",function(){if(dv[0].checked){dw.$apply(function(){dx.$setViewValue(du.value)})}});dx.$render=function(){var dy=du.value;dv[0].checked=(dy==dx.$viewValue)};du.$observe("value",dx.$render)}function dk(dx,dw,du,dz){var dv=du.ngTrueValue,dy=du.ngFalseValue;if(!cz(dv)){dv=true}if(!cz(dy)){dy=false}dw.bind("click",function(){dx.$apply(function(){dz.$setViewValue(dw[0].checked)})});dz.$render=function(){dw[0].checked=dz.$viewValue};dz.$formatters.push(function(dA){return dA===dv});dz.$parsers.push(function(dA){return dA?dv:dy})}var cL=["$browser","$sniffer",function(du,dv){return{restrict:"E",require:"?ngModel",link:function(dy,dx,dw,dz){if(dz){(bx[ax(dw.type)]||bx.text)(dy,dx,dw,dz,dv,du)}}}}];var aQ="ng-valid",bv="ng-invalid",cR="ng-pristine",bC="ng-dirty";var aE=["$scope","$exceptionHandler","$attrs","$element","$parse",function(dE,dD,dz,dF,dw){this.$viewValue=Number.NaN;this.$modelValue=Number.NaN;this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$pristine=true;this.$dirty=false;this.$valid=true;this.$invalid=false;this.$name=dz.name;var dG=dw(dz.ngModel),dA=dG.assign;if(!dA){throw Error(e+dz.ngModel+" ("+R(dF)+")")}this.$render=k;var dx=dF.inheritedData("$formController")||ch,dv=0,dB=this.$error={};dF.addClass(cR);dC(true);function dC(dI,dH){dH=dH?"-"+cl(dH,"-"):"";dF.removeClass((dI?bv:aQ)+dH).addClass((dI?aQ:bv)+dH)}this.$setValidity=function(dH,dI){if(dB[dH]===!dI){return}if(dI){if(dB[dH]){dv--}if(!dv){dC(true);this.$valid=true;this.$invalid=false}}else{dC(false);this.$invalid=true;this.$valid=false;dv++}dB[dH]=!dI;dC(dI,dH);dx.$setValidity(dH,dI,this)};this.$setViewValue=function(dH){this.$viewValue=dH;if(this.$pristine){this.$dirty=true;this.$pristine=false;dF.removeClass(cR).addClass(bC);dx.$setDirty()}bj(this.$parsers,function(dI){dH=dI(dH)});if(this.$modelValue!==dH){this.$modelValue=dH;dA(dE,dH);bj(this.$viewChangeListeners,function(dI){try{dI()}catch(dJ){dD(dJ)}})}};var du=this;dE.$watch(function dy(){var dJ=dG(dE);if(du.$modelValue!==dJ){var dI=du.$formatters,dH=dI.length;du.$modelValue=dJ;while(dH--){dJ=dI[dH](dJ)}if(du.$viewValue!==dJ){du.$viewValue=dJ;du.$render()}}})}];var a=function(){return{require:["ngModel","^?form"],controller:aE,link:function(dy,dw,dv,du){var dx=du[0],dz=du[1]||ch;dz.$addControl(dx);dw.bind("$destroy",function(){dz.$removeControl(dx)})}}};var bh=cK({require:"ngModel",link:function(dw,dv,du,dx){dx.$viewChangeListeners.push(function(){dw.$eval(du.ngChange)})}});var bu=function(){return{require:"?ngModel",link:function(dw,dy,du,dx){if(!dx){return}du.required=true;var dv=function(dz){if(du.required&&(cp(dz)||dz===false)){dx.$setValidity("required",false);return}else{dx.$setValidity("required",true);return dz}};dx.$formatters.push(dv);dx.$parsers.unshift(dv);du.$observe("required",function(){dv(dx.$viewValue)})}}};var b8=function(){return{require:"ngModel",link:function(dx,dw,du,dy){var dv=/\/(.*)\//.exec(du.ngList),dz=dv&&new RegExp(dv[1])||du.ngList||",";var dA=function(dC){var dB=[];if(dC){bj(dC.split(dz),function(dD){if(dD){dB.push(aD(dD))}})}return dB};dy.$parsers.push(dA);dy.$formatters.push(function(dB){if(bl(dB)){return dB.join(", ")}return bE})}}};var bM=/^(true|false|\d+)$/;var aw=function(){return{priority:100,compile:function(du,dv){if(bM.test(dv.ngValue)){return function(dx,dy,dw){dw.$set("value",dx.$eval(dw.ngValue))}}else{return function(dy,dz,dw){dy.$watch(dw.ngValue,function dx(dA){dw.$set("value",dA,false)})}}}}};var b4=cM(function(dw,dv,du){dv.addClass("ng-binding").data("$binding",du.ngBind);dw.$watch(du.ngBind,function dx(dy){dv.text(dy==bE?"":dy)})});var bP=["$interpolate",function(du){return function(dy,dx,dv){var dw=du(dx.attr(dv.$attr.ngBindTemplate));dx.addClass("ng-binding").data("$binding",dw);dv.$observe("ngBindTemplate",function(dz){dx.text(dz)})}}];var bs=[function(){return function(dw,dv,du){dv.addClass("ng-binding").data("$binding",du.ngBindHtmlUnsafe);dw.$watch(du.ngBindHtmlUnsafe,function dx(dy){dv.html(dy||"")})}}];function a9(dv,du){dv="ngClass"+dv;return cM(function(dz,dy,dw){var dx=bE;dz.$watch(dw[dv],dA,true);dw.$observe("class",function(dE){var dD=dz.$eval(dw[dv]);dA(dD,dD)});if(dv!=="ngClass"){dz.$watch("$index",function(dD,dE){var dF=dD%2;if(dF!==dE%2){if(dF==du){dB(dz.$eval(dw[dv]))}else{dC(dz.$eval(dw[dv]))}}})}function dA(dD){if(du===true||dz.$index%2===du){if(dx&&(dD!==dx)){dC(dx)}dB(dD)}dx=dD}function dC(dD){if(dt(dD)&&!bl(dD)){dD=aV(dD,function(dF,dE){if(dF){return dE}})}dy.removeClass(bl(dD)?dD.join(" "):dD)}function dB(dD){if(dt(dD)&&!bl(dD)){dD=aV(dD,function(dF,dE){if(dF){return dE}})}if(dD){dy.addClass(bl(dD)?dD.join(" "):dD)}}})}var aB=a9("",true);var K=a9("Odd",0);var da=a9("Even",1);var cn=cM({compile:function(dv,du){du.$set("ngCloak",bE);dv.removeClass("ng-cloak")}});var bb=[function(){return{scope:true,controller:"@"}}];var aX=["$sniffer",function(du){return{priority:1000,compile:function(){du.csp=true}}}];var I={};bj("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave".split(" "),function(du){var dv=cv("ng-"+du);I[dv]=["$parse",function(dw){return function(dA,dy,dx){var dz=dw(dx[dv]);dy.bind(ax(du),function(dB){dA.$apply(function(){dz(dA,{$event:dB})})})}}]});var dq=cM(function(dw,dv,du){dv.bind("submit",function(){dw.$apply(du.ngSubmit)})});var v=["$http","$templateCache","$anchorScroll","$compile",function(dx,du,dw,dv){return{restrict:"ECA",terminal:true,compile:function(dC,dy){var dB=dy.ngInclude||dy.src,dA=dy.onload||"",dz=dy.autoscroll;return function(dG,dE){var dI=0,dD;var dH=function(){if(dD){dD.$destroy();dD=null}dE.html("")};dG.$watch(dB,function dF(dK){var dJ=++dI;if(dK){dx.get(dK,{cache:du}).success(function(dL){if(dJ!==dI){return}if(dD){dD.$destroy()}dD=dG.$new();dE.html(dL);dv(dE.contents())(dD);if(cQ(dz)&&(!dz||dG.$eval(dz))){dw()}dD.$emit("$includeContentLoaded");dG.$eval(dA)}).error(function(){if(dJ===dI){dH()}})}else{dH()}})}}}}];var dp=cM({compile:function(){return{pre:function(dw,dv,du){dw.$eval(du.ngInit)}}}});var co=cM({terminal:true,priority:1000});var al=["$locale","$interpolate",function(du,dv){var dw=/{}/g;return{restrict:"EA",link:function(dI,dC,dG){var dE=dG.count,dA=dC.attr(dG.$attr.when),dB=dG.offset||0,dy=dI.$eval(dA),dz={},dD=dv.startSymbol(),dF=dv.endSymbol();bj(dy,function(dK,dJ){dz[dJ]=dv(dK.replace(dw,dD+dE+"-"+dB+dF))});dI.$watch(function dH(){var dJ=parseFloat(dI.$eval(dE));if(!isNaN(dJ)){if(!dy[dJ]){dJ=du.pluralCat(dJ-dB)}return dz[dJ](dI,dC,true)}else{return""}},function dx(dJ){dC.text(dJ)})}}}];var S=cM({transclude:"element",priority:1000,terminal:true,compile:function(dv,du,dw){return function(dG,dz,dD){var dE=dD.ngRepeat;var dA=dE.match(/^\s*(.+)\s+in\s+(.*)\s*$/),dy,dB,dC,dH;if(!dA){throw Error("Expected ngRepeat in form of '_item_ in _collection_' but got '"+dE+"'.")}dy=dA[1];dB=dA[2];dA=dy.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/);if(!dA){throw Error("'item' in 'item in collection' should be identifier or (key, value) but got '"+dy+"'.")}dC=dA[3]||dA[1];dH=dA[2];var dx=new cb();dG.$watch(function dF(dT){var dL,dJ,dK=dT.$eval(dB),dS=dz,dI=new cb(),dN,dO,dR,dP,dM,dQ;if(!bl(dK)){dM=[];for(dR in dK){if(dK.hasOwnProperty(dR)&&dR.charAt(0)!="$"){dM.push(dR)}}dM.sort()}else{dM=dK||[]}dN=dM.length-1;for(dL=0,dJ=dM.length;dL<dJ;dL++){dR=(dK===dM)?dL:dM[dL];dP=dK[dR];dQ=dx.shift(dP);if(dQ){dO=dQ.scope;dI.push(dP,dQ);if(dL===dQ.index){dS=dQ.element}else{dQ.index=dL;dS.after(dQ.element);dS=dQ.element}}else{dO=dT.$new()}dO[dC]=dP;if(dH){dO[dH]=dR}dO.$index=dL;dO.$first=(dL===0);dO.$last=(dL===dN);dO.$middle=!(dO.$first||dO.$last);if(!dQ){dw(dO,function(dU){dS.after(dU);dQ={scope:dO,element:(dS=dU),index:dL};dI.push(dP,dQ)})}}for(dR in dx){if(dx.hasOwnProperty(dR)){dM=dx[dR];while(dM.length){dP=dM.pop();dP.element.remove();dP.scope.$destroy()}}}dx=dI})}}});var a5=cM(function(dw,dv,du){dw.$watch(du.ngShow,function dx(dy){dv.css("display",cH(dy)?"":"none")})});var cr=cM(function(dw,dv,du){dw.$watch(du.ngHide,function dx(dy){dv.css("display",cH(dy)?"none":"")})});var au=cM(function(dx,dw,du){dx.$watch(du.ngStyle,function dv(dz,dy){if(dy&&(dz!==dy)){bj(dy,function(dB,dA){dw.css(dA,"")})}if(dz){dw.css(dz)}},true)});var dg="ng-switch";var s=cK({restrict:"EA",require:"ngSwitch",controller:["$scope",function cf(){this.cases={}}],link:function(dC,dw,dz,du){var dv=dz.ngSwitch||dz.on,dy,dx,dA;dC.$watch(dv,function dB(dD){if(dx){dA.$destroy();dx.remove();dx=dA=null}if((dy=du.cases["!"+dD]||du.cases["?"])){dC.$eval(dz.change);dA=dC.$new();dy(dA,function(dE){dx=dE;dw.append(dE)})}})}});var aZ=cM({transclude:"element",priority:500,require:"^ngSwitch",compile:function(dw,dv,du){return function(dz,dy,dx,dA){dA.cases["!"+dv.ngSwitchWhen]=du}}});var C=cM({transclude:"element",priority:500,require:"^ngSwitch",compile:function(dw,dv,du){return function(dz,dy,dx,dA){dA.cases["?"]=du}}});var ba=cM({controller:["$transclude","$element",function(dv,du){dv(function(dw){du.append(dw)})}]});var dh=["$http","$templateCache","$route","$anchorScroll","$compile","$controller",function(dz,dv,dy,dx,dw,du){return{restrict:"ECA",terminal:true,link:function(dE,dD,dA){var dB,dC=dA.onload||"";dE.$on("$routeChangeSuccess",dG);dG();function dH(){if(dB){dB.$destroy();dB=null}}function dF(){dD.html("");dH()}function dG(){var dM=dy.current&&dy.current.locals,dJ=dM&&dM.$template;if(dJ){dD.html(dJ);dH();var dK=dw(dD.contents()),dL=dy.current,dI;dB=dL.scope=dE.$new();if(dL.controller){dM.$scope=dB;dI=du(dL.controller,dM);dD.children().data("$ngControllerController",dI)}dK(dB);dB.$emit("$viewContentLoaded");dB.$eval(dC);dx()}else{dF()}}}}}];var di=["$templateCache",function(du){return{restrict:"E",terminal:true,compile:function(dw,dv){if(dv.type=="text/ng-template"){var dx=dv.id,dy=dw[0].text;du.put(dx,dy)}}}}];var bH=cK({terminal:true});var a0=["$compile","$parse",function(dw,dx){var dv=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*)|(?:\(\s*([\$\w][\$\w\d]*)\s*,\s*([\$\w][\$\w\d]*)\s*\)))\s+in\s+(.*)$/,du={$setViewValue:k};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(dz,dC,dy){var dB=this,dE={},dD=du,dA,dF;dB.databound=dy.ngModel;dB.init=function(dI,dH,dG){dD=dI;dA=dH;dF=dG};dB.addOption=function(dG){dE[dG]=true;if(dD.$viewValue==dG){dz.val(dG);if(dF.parent()){dF.remove()}}};dB.removeOption=function(dG){if(this.hasOption(dG)){delete dE[dG];if(dD.$viewValue==dG){this.renderUnknownOption(dG)}}};dB.renderUnknownOption=function(dG){var dH="? "+m(dG)+" ?";dF.val(dH);dz.prepend(dF);dz.val(dH);dF.prop("selected",true)};dB.hasOption=function(dG){return dE.hasOwnProperty(dG)};dC.$on("$destroy",function(){dB.renderUnknownOption=k})}],link:function(dy,dz,dI,dL){if(!dL[1]){return}var dO=dL[0],dD=dL[1],dP=dI.multiple,dA=dI.ngOptions,dJ=false,dH,dE=cB(r.createElement("option")),dC=cB(r.createElement("optgroup")),dQ=dE.clone();for(var dM=0,dB=dz.children(),dG=dB.length;dM<dG;dM++){if(dB[dM].value==""){dH=dJ=dB.eq(dM);break}}dO.init(dD,dJ,dQ);if(dP&&(dI.required||dI.ngRequired)){var dF=function(dS){dD.$setValidity("required",!dI.required||(dS&&dS.length));return dS};dD.$parsers.push(dF);dD.$formatters.unshift(dF);dI.$observe("required",function(){dF(dD.$viewValue)})}if(dA){dK(dy,dz,dD)}else{if(dP){dR(dy,dz,dD)}else{dN(dy,dz,dD,dO)}}function dN(dV,dT,dS,dU){dS.$render=function(){var dW=dS.$viewValue;if(dU.hasOption(dW)){if(dQ.parent()){dQ.remove()}dT.val(dW);if(dW===""){dH.prop("selected",true)}}else{if(bR(dW)&&dH){dT.val("")}else{dU.renderUnknownOption(dW)}}};dT.bind("change",function(){dV.$apply(function(){if(dQ.parent()){dQ.remove()}dS.$setViewValue(dT.val())})})}function dR(dV,dU,dW){var dT;dW.$render=function(){var dX=new w(dW.$viewValue);bj(dU.find("option"),function(dY){dY.selected=cQ(dX.get(dY.value))})};dV.$watch(function dS(){if(!o(dT,dW.$viewValue)){dT=bJ(dW.$viewValue);dW.$render()}});dU.bind("change",function(){dV.$apply(function(){var dX=[];bj(dU.find("option"),function(dY){if(dY.selected){dX.push(dY.value)}});dW.$setViewValue(dX)})})}function dK(d2,dW,dS){var dV;if(!(dV=dA.match(dv))){throw Error("Expected ngOptions in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '"+dA+"'.")}var dX=dx(dV[2]||dV[1]),dY=dV[4]||dV[6],d0=dV[5],dU=dx(dV[3]||""),dZ=dx(dV[2]?dV[1]:dY),d1=dx(dV[7]),d3=[[{element:dW,label:""}]];if(dJ){dw(dJ)(d2);dJ.removeClass("ng-scope");dJ.remove()}dW.html("");dW.bind("change",function(){d2.$apply(function(){var eb,d8=d1(d2)||[],d6={},ed,ea,d7,d9,ec,d5,d4;if(dP){ea=[];for(ec=0,d4=d3.length;ec<d4;ec++){eb=d3[ec];for(d9=1,d5=eb.length;d9<d5;d9++){if((d7=eb[d9].element)[0].selected){ed=d7.val();if(d0){d6[d0]=ed}d6[dY]=d8[ed];ea.push(dZ(d2,d6))}}}}else{ed=dW.val();if(ed=="?"){ea=bE}else{if(ed==""){ea=null}else{d6[dY]=d8[ed];if(d0){d6[d0]=ed}ea=dZ(d2,d6)}}}dS.$setViewValue(ea)})});dS.$render=dT;d2.$watch(dT);function dT(){var ek={"":[]},eo=[""],eb,ed,eh,d7,em,ec,ej=dS.$modelValue,d6=d1(d2)||[],ei=d0?cV(d6):d6,d9,ea,d8,ee,eg={},el,d5=false,en,d4,ef;if(dP){d5=new w(ej)}else{if(ej===null||dJ){ek[""].push({selected:ej===null,id:"",label:""});d5=true}}for(ee=0;ea=ei.length,ee<ea;ee++){eg[dY]=d6[d0?eg[d0]=ei[ee]:ee];eb=dU(d2,eg)||"";if(!(ed=ek[eb])){ed=ek[eb]=[];eo.push(eb)}if(dP){el=d5.remove(dZ(d2,eg))!=bE}else{el=ej===dZ(d2,eg);d5=d5||el}ef=dX(d2,eg);ef=ef===bE?"":ef;ed.push({id:d0?ei[ee]:ee,label:ef,selected:el})}if(!dP&&!d5){ek[""].unshift({id:"?",label:"",selected:true})}for(d8=0,d9=eo.length;d8<d9;d8++){eb=eo[d8];ed=ek[eb];if(d3.length<=d8){d7={element:dC.clone().attr("label",eb),label:ed.label};em=[d7];d3.push(em);dW.append(d7.element)}else{em=d3[d8];d7=em[0];if(d7.label!=eb){d7.element.attr("label",d7.label=eb)}}en=null;for(ee=0,ea=ed.length;ee<ea;ee++){eh=ed[ee];if((ec=em[ee+1])){en=ec.element;if(ec.label!==eh.label){en.text(ec.label=eh.label)}if(ec.id!==eh.id){en.val(ec.id=eh.id)}if(ec.element.selected!==eh.selected){en.prop("selected",(ec.selected=eh.selected))}}else{if(eh.id===""&&dJ){d4=dJ}else{(d4=dE.clone()).val(eh.id).attr("selected",eh.selected).text(eh.label)}em.push(ec={element:d4,label:eh.label,id:eh.id,selected:eh.selected});if(en){en.after(d4)}else{d7.element.append(d4)}en=d4}}ee++;while(em.length>ee){em.pop().element.remove()}}while(d3.length>d8){d3.pop()[0].element.remove()}}}}}}];var J=["$interpolate",function(du){var dv={addOption:k,removeOption:k};return{restrict:"E",priority:100,compile:function(dy,dw){if(bR(dw.value)){var dx=du(dy.text(),true);if(!dx){dw.$set("value",dy.text())}}return function(dF,dD,dz){var dB="$selectController",dE=dD.parent(),dC=dE.data(dB)||dE.parent().data(dB);if(dC&&dC.databound){dD.prop("selected",false)}else{dC=dv}if(dx){dF.$watch(dx,function dA(dH,dG){dz.$set("value",dH);if(dH!==dG){dC.removeOption(dG)}dC.addOption(dH)})}else{dC.addOption(dz.value)}dD.bind("$destroy",function(){dC.removeOption(dz.value)})}}}}];var av=cK({restrict:"E",terminal:true});a3();O(aO);cB(r).ready(function(){bK(r,Z)})})(window,document);angular.element(document).find("head").append('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak{display:none;}ng\\:form{display:block;}</style>');
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.js.aui-ng:angular10', location = '/com/k15t/js/angular/1.0/angular-resource.js' */
(function(b,a,d){try{a.module("ngResource");console.log("AUI-NG: Found existing angular module 'ngResource', skipping ...");return}catch(c){console.log("AUI-NG: Setting up angular module 'ngResource' ...")}a.module("ngResource",["ng"]).factory("$resource",["$http","$parse",function(p,i){var l={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:true},remove:{method:"DELETE"},"delete":{method:"DELETE"}};var q=a.noop,k=a.forEach,n=a.extend,e=a.copy,g=a.isFunction,o=function(s,r){return i(r)(s)};function j(r){return f(r,true).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function f(s,r){return encodeURIComponent(s).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,(r?"%20":"+"))}function m(s,t){this.template=s=s+"#";this.defaults=t||{};var r=this.urlParams={};k(s.split(/\W/),function(u){if(u&&(new RegExp("(^|[^\\\\]):"+u+"\\W").test(s))){r[u]=true}});this.template=s.replace(/\\:/g,":")}m.prototype={url:function(w){var s=this,t=this.template,v,r;w=w||{};k(this.urlParams,function(y,x){v=w.hasOwnProperty(x)?w[x]:s.defaults[x];if(a.isDefined(v)&&v!==null){r=j(v);t=t.replace(new RegExp(":"+x+"(\\W)","g"),r+"$1")}else{t=t.replace(new RegExp("(/?):"+x+"(\\W)","g"),function(A,B,z){if(z.charAt(0)=="/"){return z}else{return B+z}})}});t=t.replace(/\/?#$/,"");var u=[];k(w,function(y,x){if(!s.urlParams[x]){u.push(f(x)+"="+f(y))}});u.sort();t=t.replace(/\/*$/,"");return t+(u.length?"?"+u.join("&"):"")}};function h(t,u,w){var r=new m(t);w=n({},l,w);function s(z,y){var x={};y=n({},u,y);k(y,function(B,A){x[A]=B.charAt&&B.charAt(0)=="@"?o(z,B.substr(1)):B});return x}function v(x){e(x||{},this)}k(w,function(z,x){z.method=a.uppercase(z.method);var y=z.method=="POST"||z.method=="PUT"||z.method=="PATCH";v[x]=function(C,B,A,I){var D={};var E;var H=q;var F=null;switch(arguments.length){case 4:F=I;H=A;case 3:case 2:if(g(B)){if(g(C)){H=C;F=B;break}H=B;F=A}else{D=C;E=B;H=A;break}case 1:if(g(C)){H=C}else{if(y){E=C}else{D=C}}break;case 0:break;default:throw"Expected between 0-4 arguments [params, data, success, error], got "+arguments.length+" arguments."}var G=this instanceof v?this:(z.isArray?[]:new v(E));p({method:z.method,url:r.url(n({},s(E,z.params||{}),D)),data:E}).then(function(J){var K=J.data;if(K){if(z.isArray){G.length=0;k(K,function(L){G.push(new v(L))})}else{e(K,G)}}(H||q)(G,J.headers)},F);return G};v.prototype["$"+x]=function(B,A,G){var F=s(this),E=q,C;switch(arguments.length){case 3:F=B;E=A;C=G;break;case 2:case 1:if(g(B)){E=B;C=A}else{F=B;E=A||q}case 0:break;default:throw"Expected between 1-3 arguments [params, success, error], got "+arguments.length+" arguments."}var D=y?this:d;v[x].call(this,F,D,E,C)}});v.bind=function(x){return h(t,n({},u,x),w)};return v}return h}])})(window,window.angular);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.js.aui-ng:angular10', location = '/com/k15t/js/angular/1.0/angular-sanitize.js' */
(function(o,t,j){try{t.module("ngSanitize");console.log("AUI-NG: Found existing angular module 'ngSanitize', skipping ...");return}catch(C){console.log("AUI-NG: Setting up angular module 'ngSanitize' ...")}var s=function(F){var e=[];m(F,y(e));return e.join("")};var h=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,d=/^<\s*\/\s*([\w:-]+)[^>]*>/,E=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,r=/^</,p=/^<\s*\//,x=/<!--(.*?)-->/g,D=/<!\[CDATA\[(.*?)]]>/g,a=/^((ftp|https?):\/\/|mailto:|#)/,l=/([^\#-~| |!])/g;var v=w("area,br,col,hr,img,wbr");var n=w("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),c=w("rp,rt"),g=t.extend({},c,n);var f=t.extend({},n,w("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul"));var u=t.extend({},c,w("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));var i=w("script,style");var q=t.extend({},v,f,u,g);var k=w("background,cite,href,longdesc,src,usemap");var A=t.extend({},k,w("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,span,start,summary,target,title,type,valign,value,vspace,width"));function w(H){var G={},e=H.split(","),F;for(F=0;F<e.length;F++){G[e[F]]=true}return G}function m(F,N){var I,J,G,K=[],L=F;K.last=function(){return K[K.length-1]};while(F){J=true;if(!K.last()||!i[K.last()]){if(F.indexOf("<!--")===0){I=F.indexOf("-->");if(I>=0){if(N.comment){N.comment(F.substring(4,I))}F=F.substring(I+3);J=false}}else{if(p.test(F)){G=F.match(d);if(G){F=F.substring(G[0].length);G[0].replace(d,H);J=false}}else{if(r.test(F)){G=F.match(h);if(G){F=F.substring(G[0].length);G[0].replace(h,e);J=false}}}}if(J){I=F.indexOf("<");var M=I<0?F:F.substring(0,I);F=I<0?"":F.substring(I);if(N.chars){N.chars(b(M))}}}else{F=F.replace(new RegExp("(.*)<\\s*\\/\\s*"+K.last()+"[^>]*>","i"),function(O,P){P=P.replace(x,"$1").replace(D,"$1");if(N.chars){N.chars(b(P))}return""});H("",K.last())}if(F==L){throw"Parse Error: "+F}L=F}H();function e(O,R,S,P){R=t.lowercase(R);if(f[R]){while(K.last()&&u[K.last()]){H("",K.last())}}if(g[R]&&K.last()==R){H("",R)}P=v[R]||!!P;if(!P){K.push(R)}var Q={};S.replace(E,function(W,V,U,Y,T){var X=U||Y||T||"";Q[V]=b(X)});if(N.start){N.start(R,Q,P)}}function H(O,Q){var R=0,P;Q=t.lowercase(Q);if(Q){for(R=K.length-1;R>=0;R--){if(K[R]==Q){break}}}if(R>=0){for(P=K.length-1;P>=R;P--){if(N.end){N.end(K[P])}}K.length=R}}}var B=document.createElement("pre");function b(e){B.innerHTML=e.replace(/</g,"&lt;");return B.innerText||B.textContent||""}function z(e){return e.replace(/&/g,"&amp;").replace(l,function(F){return"&#"+F.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function y(F){var G=false;var e=t.bind(F,F.push);return{start:function(H,J,I){H=t.lowercase(H);if(!G&&i[H]){G=H}if(!G&&q[H]==true){e("<");e(H);t.forEach(J,function(L,K){var M=t.lowercase(K);if(A[M]==true&&(k[M]!==true||L.match(a))){e(" ");e(K);e('="');e(z(L));e('"')}});e(I?"/>":">")}},end:function(H){H=t.lowercase(H);if(!G&&q[H]==true){e("</");e(H);e(">")}if(H==G){G=false}},chars:function(H){if(!G){e(z(H))}}}}t.module("ngSanitize",[]).value("$sanitize",s);t.module("ngSanitize").directive("ngBindHtml",["$sanitize",function(e){return function(I,H,F){H.addClass("ng-binding").data("$binding",F.ngBindHtml);I.$watch(F.ngBindHtml,function G(J){J=e(J);H.html(J||"")})}}]);t.module("ngSanitize").filter("linky",function(){var e=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s\.\;\,\(\)\{\}\<\>]/,F=/^mailto:/;return function(M){if(!M){return M}var I;var H=M;var K=[];var L=y(K);var G;var J;while((I=H.match(e))){G=I[0];if(I[2]==I[3]){G="mailto:"+G}J=I.index;L.chars(H.substr(0,J));L.start("a",{href:G});L.chars(I[0].replace(F,""));L.end("a");H=H.substring(J+I[0].length)}L.chars(H);return K.join("")}})})(window,window.angular);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.js.aui-ng:angular10', location = '/com/k15t/js/angular-version-post.js' */
(function(a,b){a.auiNg=a.auiNg||{};if(a.angular){a.auiNg["angular"+a.angular.version.major+a.angular.version.minor]=a.angular}if(a.auiNg.jQuery){a.$.noConflict(true)}})(window);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.js.aui-ng:aui-ng', location = '/com/k15t/js/underscore-1.4.4.js' */
(function(){var w=this;var k=w._;var D={};var C=Array.prototype,f=Object.prototype,r=Function.prototype;var G=C.push,o=C.slice,y=C.concat,d=f.toString,j=f.hasOwnProperty;var K=C.forEach,q=C.map,E=C.reduce,c=C.reduceRight,b=C.filter,B=C.every,p=C.some,n=C.indexOf,l=C.lastIndexOf,u=Array.isArray,e=Object.keys,F=r.bind;var L=function(M){if(M instanceof L){return M}if(!(this instanceof L)){return new L(M)}this._wrapped=M};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=L}exports._=L}else{w._=L}L.VERSION="1.4.4";var H=L.each=L.forEach=function(R,Q,P){if(R==null){return}if(K&&R.forEach===K){R.forEach(Q,P)}else{if(R.length===+R.length){for(var O=0,M=R.length;O<M;O++){if(Q.call(P,R[O],O,R)===D){return}}}else{for(var N in R){if(L.has(R,N)){if(Q.call(P,R[N],N,R)===D){return}}}}}};L.map=L.collect=function(P,O,N){var M=[];if(P==null){return M}if(q&&P.map===q){return P.map(O,N)}H(P,function(S,Q,R){M[M.length]=O.call(N,S,Q,R)});return M};var g="Reduce of empty array with no initial value";L.reduce=L.foldl=L.inject=function(Q,P,M,O){var N=arguments.length>2;if(Q==null){Q=[]}if(E&&Q.reduce===E){if(O){P=L.bind(P,O)}return N?Q.reduce(P,M):Q.reduce(P)}H(Q,function(T,R,S){if(!N){M=T;N=true}else{M=P.call(O,M,T,R,S)}});if(!N){throw new TypeError(g)}return M};L.reduceRight=L.foldr=function(S,P,M,O){var N=arguments.length>2;if(S==null){S=[]}if(c&&S.reduceRight===c){if(O){P=L.bind(P,O)}return N?S.reduceRight(P,M):S.reduceRight(P)}var R=S.length;if(R!==+R){var Q=L.keys(S);R=Q.length}H(S,function(V,T,U){T=Q?Q[--R]:--R;if(!N){M=S[T];N=true}else{M=P.call(O,M,S[T],T,U)}});if(!N){throw new TypeError(g)}return M};L.find=L.detect=function(P,O,N){var M;A(P,function(S,Q,R){if(O.call(N,S,Q,R)){M=S;return true}});return M};L.filter=L.select=function(P,O,N){var M=[];if(P==null){return M}if(b&&P.filter===b){return P.filter(O,N)}H(P,function(S,Q,R){if(O.call(N,S,Q,R)){M[M.length]=S}});return M};L.reject=function(O,N,M){return L.filter(O,function(R,P,Q){return !N.call(M,R,P,Q)},M)};L.every=L.all=function(P,O,N){O||(O=L.identity);var M=true;if(P==null){return M}if(B&&P.every===B){return P.every(O,N)}H(P,function(S,Q,R){if(!(M=M&&O.call(N,S,Q,R))){return D}});return !!M};var A=L.some=L.any=function(P,O,N){O||(O=L.identity);var M=false;if(P==null){return M}if(p&&P.some===p){return P.some(O,N)}H(P,function(S,Q,R){if(M||(M=O.call(N,S,Q,R))){return D}});return !!M};L.contains=L.include=function(N,M){if(N==null){return false}if(n&&N.indexOf===n){return N.indexOf(M)!=-1}return A(N,function(O){return O===M})};L.invoke=function(O,P){var M=o.call(arguments,2);var N=L.isFunction(P);return L.map(O,function(Q){return(N?P:Q[P]).apply(Q,M)})};L.pluck=function(N,M){return L.map(N,function(O){return O[M]})};L.where=function(N,M,O){if(L.isEmpty(M)){return O?null:[]}return L[O?"find":"filter"](N,function(Q){for(var P in M){if(M[P]!==Q[P]){return false}}return true})};L.findWhere=function(N,M){return L.where(N,M,true)};L.max=function(P,O,N){if(!O&&L.isArray(P)&&P[0]===+P[0]&&P.length<65535){return Math.max.apply(Math,P)}if(!O&&L.isEmpty(P)){return -Infinity}var M={computed:-Infinity,value:-Infinity};H(P,function(T,Q,S){var R=O?O.call(N,T,Q,S):T;R>=M.computed&&(M={value:T,computed:R})});return M.value};L.min=function(P,O,N){if(!O&&L.isArray(P)&&P[0]===+P[0]&&P.length<65535){return Math.min.apply(Math,P)}if(!O&&L.isEmpty(P)){return Infinity}var M={computed:Infinity,value:Infinity};H(P,function(T,Q,S){var R=O?O.call(N,T,Q,S):T;R<M.computed&&(M={value:T,computed:R})});return M.value};L.shuffle=function(P){var O;var N=0;var M=[];H(P,function(Q){O=L.random(N++);M[N-1]=M[O];M[O]=Q});return M};var a=function(M){return L.isFunction(M)?M:function(N){return N[M]}};L.sortBy=function(P,O,M){var N=a(O);return L.pluck(L.map(P,function(S,Q,R){return{value:S,index:Q,criteria:N.call(M,S,Q,R)}}).sort(function(T,S){var R=T.criteria;var Q=S.criteria;if(R!==Q){if(R>Q||R===void 0){return 1}if(R<Q||Q===void 0){return -1}}return T.index<S.index?-1:1}),"value")};var t=function(R,Q,N,P){var M={};var O=a(Q||L.identity);H(R,function(U,S){var T=O.call(N,U,S,R);P(M,T,U)});return M};L.groupBy=function(O,N,M){return t(O,N,M,function(P,Q,R){(L.has(P,Q)?P[Q]:(P[Q]=[])).push(R)})};L.countBy=function(O,N,M){return t(O,N,M,function(P,Q){if(!L.has(P,Q)){P[Q]=0}P[Q]++})};L.sortedIndex=function(T,S,P,O){P=P==null?L.identity:a(P);var R=P.call(O,S);var M=0,Q=T.length;while(M<Q){var N=(M+Q)>>>1;P.call(O,T[N])<R?M=N+1:Q=N}return M};L.toArray=function(M){if(!M){return[]}if(L.isArray(M)){return o.call(M)}if(M.length===+M.length){return L.map(M,L.identity)}return L.values(M)};L.size=function(M){if(M==null){return 0}return(M.length===+M.length)?M.length:L.keys(M).length};L.first=L.head=L.take=function(O,N,M){if(O==null){return void 0}return(N!=null)&&!M?o.call(O,0,N):O[0]};L.initial=function(O,N,M){return o.call(O,0,O.length-((N==null)||M?1:N))};L.last=function(O,N,M){if(O==null){return void 0}if((N!=null)&&!M){return o.call(O,Math.max(O.length-N,0))}else{return O[O.length-1]}};L.rest=L.tail=L.drop=function(O,N,M){return o.call(O,(N==null)||M?1:N)};L.compact=function(M){return L.filter(M,L.identity)};var x=function(N,O,M){H(N,function(P){if(L.isArray(P)){O?G.apply(M,P):x(P,O,M)}else{M.push(P)}});return M};L.flatten=function(N,M){return x(N,M,[])};L.without=function(M){return L.difference(M,o.call(arguments,1))};L.uniq=L.unique=function(S,R,Q,P){if(L.isFunction(R)){P=Q;Q=R;R=false}var N=Q?L.map(S,Q,P):S;var O=[];var M=[];H(N,function(U,T){if(R?(!T||M[M.length-1]!==U):!L.contains(M,U)){M.push(U);O.push(S[T])}});return O};L.union=function(){return L.uniq(y.apply(C,arguments))};L.intersection=function(N){var M=o.call(arguments,1);return L.filter(L.uniq(N),function(O){return L.every(M,function(P){return L.indexOf(P,O)>=0})})};L.difference=function(N){var M=y.apply(C,o.call(arguments,1));return L.filter(N,function(O){return !L.contains(M,O)})};L.zip=function(){var M=o.call(arguments);var P=L.max(L.pluck(M,"length"));var O=new Array(P);for(var N=0;N<P;N++){O[N]=L.pluck(M,""+N)}return O};L.object=function(Q,O){if(Q==null){return{}}var M={};for(var P=0,N=Q.length;P<N;P++){if(O){M[Q[P]]=O[P]}else{M[Q[P][0]]=Q[P][1]}}return M};L.indexOf=function(Q,O,P){if(Q==null){return -1}var N=0,M=Q.length;if(P){if(typeof P=="number"){N=(P<0?Math.max(0,M+P):P)}else{N=L.sortedIndex(Q,O);return Q[N]===O?N:-1}}if(n&&Q.indexOf===n){return Q.indexOf(O,P)}for(;N<M;N++){if(Q[N]===O){return N}}return -1};L.lastIndexOf=function(Q,O,P){if(Q==null){return -1}var M=P!=null;if(l&&Q.lastIndexOf===l){return M?Q.lastIndexOf(O,P):Q.lastIndexOf(O)}var N=(M?P:Q.length);while(N--){if(Q[N]===O){return N}}return -1};L.range=function(R,P,Q){if(arguments.length<=1){P=R||0;R=0}Q=arguments[2]||1;var N=Math.max(Math.ceil((P-R)/Q),0);var M=0;var O=new Array(N);while(M<N){O[M++]=R;R+=Q}return O};L.bind=function(O,N){if(O.bind===F&&F){return F.apply(O,o.call(arguments,1))}var M=o.call(arguments,2);return function(){return O.apply(N,M.concat(o.call(arguments)))}};L.partial=function(N){var M=o.call(arguments,1);return function(){return N.apply(this,M.concat(o.call(arguments)))}};L.bindAll=function(N){var M=o.call(arguments,1);if(M.length===0){M=L.functions(N)}H(M,function(O){N[O]=L.bind(N[O],N)});return N};L.memoize=function(O,N){var M={};N||(N=L.identity);return function(){var P=N.apply(this,arguments);return L.has(M,P)?M[P]:(M[P]=O.apply(this,arguments))}};L.delay=function(N,O){var M=o.call(arguments,2);return setTimeout(function(){return N.apply(null,M)},O)};L.defer=function(M){return L.delay.apply(L,[M,1].concat(o.call(arguments,1)))};L.throttle=function(R,T){var P,O,S,M;var Q=0;var N=function(){Q=new Date;S=null;M=R.apply(P,O)};return function(){var U=new Date;var V=T-(U-Q);P=this;O=arguments;if(V<=0){clearTimeout(S);S=null;Q=U;M=R.apply(P,O)}else{if(!S){S=setTimeout(N,V)}}return M}};L.debounce=function(O,Q,N){var P,M;return function(){var U=this,T=arguments;var S=function(){P=null;if(!N){M=O.apply(U,T)}};var R=N&&!P;clearTimeout(P);P=setTimeout(S,Q);if(R){M=O.apply(U,T)}return M}};L.once=function(O){var M=false,N;return function(){if(M){return N}M=true;N=O.apply(this,arguments);O=null;return N}};L.wrap=function(M,N){return function(){var O=[M];G.apply(O,arguments);return N.apply(this,O)}};L.compose=function(){var M=arguments;return function(){var N=arguments;for(var O=M.length-1;O>=0;O--){N=[M[O].apply(this,N)]}return N[0]}};L.after=function(N,M){if(N<=0){return M()}return function(){if(--N<1){return M.apply(this,arguments)}}};L.keys=e||function(O){if(O!==Object(O)){throw new TypeError("Invalid object")}var N=[];for(var M in O){if(L.has(O,M)){N[N.length]=M}}return N};L.values=function(O){var M=[];for(var N in O){if(L.has(O,N)){M.push(O[N])}}return M};L.pairs=function(O){var N=[];for(var M in O){if(L.has(O,M)){N.push([M,O[M]])}}return N};L.invert=function(O){var M={};for(var N in O){if(L.has(O,N)){M[O[N]]=N}}return M};L.functions=L.methods=function(O){var N=[];for(var M in O){if(L.isFunction(O[M])){N.push(M)}}return N.sort()};L.extend=function(M){H(o.call(arguments,1),function(N){if(N){for(var O in N){M[O]=N[O]}}});return M};L.pick=function(N){var O={};var M=y.apply(C,o.call(arguments,1));H(M,function(P){if(P in N){O[P]=N[P]}});return O};L.omit=function(O){var P={};var N=y.apply(C,o.call(arguments,1));for(var M in O){if(!L.contains(N,M)){P[M]=O[M]}}return P};L.defaults=function(M){H(o.call(arguments,1),function(N){if(N){for(var O in N){if(M[O]==null){M[O]=N[O]}}}});return M};L.clone=function(M){if(!L.isObject(M)){return M}return L.isArray(M)?M.slice():L.extend({},M)};L.tap=function(N,M){M(N);return N};var I=function(T,S,N,O){if(T===S){return T!==0||1/T==1/S}if(T==null||S==null){return T===S}if(T instanceof L){T=T._wrapped}if(S instanceof L){S=S._wrapped}var Q=d.call(T);if(Q!=d.call(S)){return false}switch(Q){case"[object String]":return T==String(S);case"[object Number]":return T!=+T?S!=+S:(T==0?1/T==1/S:T==+S);case"[object Date]":case"[object Boolean]":return +T==+S;case"[object RegExp]":return T.source==S.source&&T.global==S.global&&T.multiline==S.multiline&&T.ignoreCase==S.ignoreCase}if(typeof T!="object"||typeof S!="object"){return false}var M=N.length;while(M--){if(N[M]==T){return O[M]==S}}N.push(T);O.push(S);var V=0,W=true;if(Q=="[object Array]"){V=T.length;W=V==S.length;if(W){while(V--){if(!(W=I(T[V],S[V],N,O))){break}}}}else{var R=T.constructor,P=S.constructor;if(R!==P&&!(L.isFunction(R)&&(R instanceof R)&&L.isFunction(P)&&(P instanceof P))){return false}for(var U in T){if(L.has(T,U)){V++;if(!(W=L.has(S,U)&&I(T[U],S[U],N,O))){break}}}if(W){for(U in S){if(L.has(S,U)&&!(V--)){break}}W=!V}}N.pop();O.pop();return W};L.isEqual=function(N,M){return I(N,M,[],[])};L.isEmpty=function(N){if(N==null){return true}if(L.isArray(N)||L.isString(N)){return N.length===0}for(var M in N){if(L.has(N,M)){return false}}return true};L.isElement=function(M){return !!(M&&M.nodeType===1)};L.isArray=u||function(M){return d.call(M)=="[object Array]"};L.isObject=function(M){return M===Object(M)};H(["Arguments","Function","String","Number","Date","RegExp"],function(M){L["is"+M]=function(N){return d.call(N)=="[object "+M+"]"}});if(!L.isArguments(arguments)){L.isArguments=function(M){return !!(M&&L.has(M,"callee"))}}if(typeof(/./)!=="function"){L.isFunction=function(M){return typeof M==="function"}}L.isFinite=function(M){return isFinite(M)&&!isNaN(parseFloat(M))};L.isNaN=function(M){return L.isNumber(M)&&M!=+M};L.isBoolean=function(M){return M===true||M===false||d.call(M)=="[object Boolean]"};L.isNull=function(M){return M===null};L.isUndefined=function(M){return M===void 0};L.has=function(N,M){return j.call(N,M)};L.noConflict=function(){w._=k;return this};L.identity=function(M){return M};L.times=function(Q,P,O){var M=Array(Q);for(var N=0;N<Q;N++){M[N]=P.call(O,N)}return M};L.random=function(N,M){if(M==null){M=N;N=0}return N+Math.floor(Math.random()*(M-N+1))};var m={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};m.unescape=L.invert(m.escape);var J={escape:new RegExp("["+L.keys(m.escape).join("")+"]","g"),unescape:new RegExp("("+L.keys(m.unescape).join("|")+")","g")};L.each(["escape","unescape"],function(M){L[M]=function(N){if(N==null){return""}return(""+N).replace(J[M],function(O){return m[M][O]})}});L.result=function(M,O){if(M==null){return null}var N=M[O];return L.isFunction(N)?N.call(M):N};L.mixin=function(M){H(L.functions(M),function(N){var O=L[N]=M[N];L.prototype[N]=function(){var P=[this._wrapped];G.apply(P,arguments);return s.call(this,O.apply(L,P))}})};var z=0;L.uniqueId=function(M){var N=++z+"";return M?M+N:N};L.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var v=/(.)^/;var h={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"};var i=/\\|'|\r|\n|\t|\u2028|\u2029/g;L.template=function(U,P,O){var N;O=L.defaults({},O,L.templateSettings);var Q=new RegExp([(O.escape||v).source,(O.interpolate||v).source,(O.evaluate||v).source].join("|")+"|$","g");var R=0;var M="__p+='";U.replace(Q,function(W,X,V,Z,Y){M+=U.slice(R,Y).replace(i,function(aa){return"\\"+h[aa]});if(X){M+="'+\n((__t=("+X+"))==null?'':_.escape(__t))+\n'"}if(V){M+="'+\n((__t=("+V+"))==null?'':__t)+\n'"}if(Z){M+="';\n"+Z+"\n__p+='"}R=Y+W.length;return W});M+="';\n";if(!O.variable){M="with(obj||{}){\n"+M+"}\n"}M="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+M+"return __p;\n";try{N=new Function(O.variable||"obj","_",M)}catch(S){S.source=M;throw S}if(P){return N(P,L)}var T=function(V){return N.call(this,V,L)};T.source="function("+(O.variable||"obj")+"){\n"+M+"}";return T};L.chain=function(M){return L(M).chain()};var s=function(M){return this._chain?L(M).chain():M};L.mixin(L);H(["pop","push","reverse","shift","sort","splice","unshift"],function(M){var N=C[M];L.prototype[M]=function(){var O=this._wrapped;N.apply(O,arguments);if((M=="shift"||M=="splice")&&O.length===0){delete O[0]}return s.call(this,O)}});H(["concat","join","slice"],function(M){var N=C[M];L.prototype[M]=function(){return s.call(this,N.apply(this._wrapped,arguments))}});L.extend(L.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}})}).call(this);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.js.aui-ng:aui-ng', location = '/com/k15t/js/underscore-post.js' */
window.auiNg=window.auiNg||{};window.auiNg._=_.noConflict();
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.js.aui-ng:aui-ng', location = '/com/k15t/js/aui-ng-apps.js' */
(function(c,b){window.auiNg=window.auiNg||{};window.auiNg.getPartial=function(g,e,h){if(h.indexOf(".js")!==h.length-3){h=h+".js"}var f=auiNg._templates[g];if(f){var d=f[e];if(d){return d[h]}}throw new Error('Partial "'+g+":"+e+">"+h+'" is not defined.')};var a=function(g,d,e){if(d&&d["ng"+e]&&g[e]){var f=d["ng"+e];for(var h in f){if(f.hasOwnProperty(h)){g[e](h,f[h])}}}};window.auiNg.createDialogApp=function(f,e,g,d){var h=b.module(f);a(h,g,"constant");a(h,g,"value");var i=b.bootstrap(undefined,[f]);i.invoke(["AuiDialog",function(j){var k=function(){var m=j.create(e,g);m.open(g).then(d||b.noop,b.noop)};var l=i.get("$rootScope");if(!l.$$phase){l.$apply(k)}else{k()}}]);return h};window.auiNg.apply=function(d,e){if(d.$$phase){if(typeof e==="string"){e=new Function(e)}if(typeof e==="function"){e()}}else{d.$apply(expr)}}})(AJS.$,angular);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.js.aui-ng:aui-ng', location = '/com/k15t/js/aui-ng-dialog.js' */
(function(b,a){a.module("auiNg",[]).provider("AuiDialog",function(){this.$get=["$compile","$controller","$http","$log","$q","$rootScope","$templateCache",function(h,e,j,i,g,d,c){var f=function(m,n){var l=this;var k={width:n.width||860,height:n.height||530,closeOnEsc:true,closeOnOutsideClick:true,pageIndex:0,panelIndex:0,keypressListener:function(p){var o=f.dialogStack;if(l.options.closeOnEsc&&p.keyCode===27&&l===o[o.length-1]){p.stopImmediatePropagation();l.close()}}};this.template=m;this.options=a.extend(k,n);this.dialog=new AJS.Dialog(this.options)};f.dialogStack=[];f.prototype.gotoPage=function(k){this.dialog.gotoPage(k)};f.prototype.gotoPanel=function(k){this.dialog.gotoPanel(k)};f.prototype.addPage=function(){this.dialog.addPage.apply(this.dialog,arguments)};f.prototype.addHeader=function(k){this.dialog.addHeader(k||"Dialog","sv-dialog-heading")};f.prototype.addPanel=function(m,l,k){this.dialog.addPanel.apply(this.dialog,arguments)};f.prototype.addButton=function(k,m,l){this.dialog.addButton.apply(this.dialog,arguments)};f.prototype.addLink=function(k,l){this.dialog.addLink.apply(this.dialog,arguments)};f.prototype.element=function(){return this.dialog.popup.element};f.prototype.open=function(n){var l=this;this.dialog.show();var m=this.dialog.popup.element;var k=window.auiNg.Util.LoadingBlanket.show(m);l.$scope=d.$new(true);a.extend(l.$scope,n,{auiDialog:l});l.$scope.dialog=l.dialog;if(typeof this.template==="function"){this.template(l.$scope)}else{if(typeof this.template==="string"){h(this.template)(l.$scope)}}f.dialogStack.push(l);l.dialog.gotoPage(this.options.pageIndex);l.dialog.gotoPanel(this.options.panelIndex);k.hide();if(this.options.className){b(m).addClass(this.options.className)}this._fixBlankets();this.deferred=g.defer();return this.deferred.promise};f.prototype._fixBlankets=function(){var k=this;this.$blanket=AJS("div").addClass("k15t-blanket");this.$blanket.css("z-index",this.dialog.popup.element.css("z-index")-1).appendTo("body").show().click(function(){if(k.options.closeOnOutsideClick){k.close()}});if(AJS.dim.$dim){AJS.dim.$dim.hide()}};f.prototype.close=function(l,k){f.dialogStack.pop();this.$blanket.remove();this.$blanket=null;if(l){this.deferred.resolve(k)}else{this.deferred.reject(k)}this.dialog.remove()};return{create:function(k,l){return new f(k,l||{})}}}]})})(AJS.$,angular);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.js.aui-ng:aui-ng', location = '/com/k15t/js/aui-ng-directives.js' */
(function(d,c,b){var a=function(){return(parseInt(AJS.version.charAt(0))>=5)};c.module("auiNg").directive("auiDialogPage",[function(){return{controller:function(){this.components=[]},link:function(n,e,m,g){var j=n.auiDialog;var k=j.dialog;if(!k.page.length||k.page.length>1||k.page[0].panel.length){n.auiDialog.addPage(m["class"])}else{if(m["class"]){d(k.page[0].element).find(".dialog-page-body").addClass(m["class"])}}var h=k.page[k.page.length-1];m.$observe("header",function(i){h.addHeader(i)});if(typeof n.header==="string"){m.$set("header",n.header)}for(var f=0;f<g.components.length;++f){var l=g.components[f];l(j)}g.components.length=0;if(!n.$root.$$phase){n.$apply()}}}}]).directive("auiDialogPanel",[function(){return{require:"^auiDialogPage",link:function(h,g,e,f){f.components.push(function(i){var j=e["button-id"]||(e["class"]||(~~(Math.random()*100000)))+"-button";i.addPanel(e.header||"//TODO: set title attribute",g.contents(),e["class"],j);if(e.auiValidate){var k=jQuery("#"+j);h.$watch(e.auiValidate,function(m,l){if(!!m){k.removeClass("aui-validation-error");k.addClass("aui-validation-success")}else{k.removeClass("aui-validation-success");k.addClass("aui-validation-error")}})}})}}}]).directive("auiDialogButton",[function(){return{scope:{onClick:"&ngClick",isDisabled:"=auiDisabled",label:"=auiLabel"},require:"^auiDialogPage",link:function(h,g,e,f){f.components.push(function(l){var j="button-"+(~~(Math.random()*100000));var i="";if(e["class"]){i=e["class"]}i=j+" "+j;l.addButton(g.text(),function(){if(!h.$$phase){h.$apply(h.onClick)}else{h.onClick()}},i);var k=jQuery("."+j);if(k.length){h.$watch("isDisabled",function(o,n){var m=!!o;k[0].disabled=m});h.$watch("label",function(m){k.html(m)})}})}}}]).directive("auiDialogLink",[function(){return{scope:{onClick:"&ngClick"},require:"^auiDialogPage",link:function(h,g,e,f){f.components.push(function(i){i.addLink(g.text(),function(){if(!h.$$phase){h.$apply(h.onClick)}else{h.onClick()}},e["class"])})}}}]).directive(b.reduce(["focus","blur","keyup","keydown","keypress"],function(e,f){var g="aui"+f[0].toUpperCase()+f.substr(1);e[g]=["$rootScope","$parse",function(h,i){return function(m,k,j){var l=i(j[g]);k.bind(f,function(n){var o=function(){l(m,{$event:n})};if(m.$$phase||h.$$phase){o()}else{m.$apply(o)}})}}];return e},{})).directive("auiInput",[function(){var e=0;return{replace:true,scope:{auiErrors:"=",auiName:"@",auiLabel:"@",auiRequired:"=",auiDescription:"@",auiClass:"@",ngModel:"="},template:'<div class="field-group"><label for="{{auiName}}-{{instanceId}}">{{auiLabel}} <span style="color: red; font-weight: bold;" ng-show="auiRequired">*</span></label><input class="text {{auiClass}}" type="text" id="{{auiName}}-{{instanceId}}" ng-model="ngModel"><div  class="error">{{auiErrors[auiName]}}</div><div class="description" ng-show="!!auiDescription">{{auiDescription}}</div>{{fieldErrors[auiName]}}</div>',link:function(h,g,f){h.instanceId=e++;g.find(".text")[0].required=!!h.auiRequired}}}]).directive("auiToolbar",function(){var e="";if(a()){e='<div class="aui-toolbar2" role="toolbar">    <div class="aui-toolbar2-inner">        <div class="aui-toolbar2-primary" ng-transclude>        </div>    </div></div>'}else{e='<div class="aui-toolbar" ng-transclude />'}return{replace:true,transclude:true,template:e,link:c.noop}}).directive("auiToolbarButton",function(){var e="";if(a()){e='<button class="aui-button">{{title}}</button>'}else{e='<ul class="toolbar-group">    <li class="toolbar-item">        <button class="toolbar-trigger" ng-click="showRestUrlDialog()" title="{{title}}">            <span class="trigger-text">{{title}}</span>        </button>    </li></ul>'}return{replace:true,transclude:true,scope:{title:"@title",onClick:"&ngClick"},template:e,link:function(h,g,f){d(g).click(h.onClick)}}}).directive("auiToolbarDropdown",function(){var e="";var f=c.noop;if(a()){e='<button aria-owns="123" aria-haspopup="true" class="aui-button aui-dropdown2-trigger aui-style-default">    {{title}}    <div id="123" style="z-index: 3500" class="aui-dropdown2 aui-style-default" aria-hidden="true">        <ul class="aui-list-truncate" ng-transclude>        </ul>    </div></button>';f=function(i,h,g){var j="dropdown-id-"+new Date().getTime()+"-"+(~~(Math.random()*100000));d(h).attr("aria-owns",j);d(h).find("div.aui-dropdown2").attr("id",j)}}else{e='<ul class="toolbar-group">    <li class="toolbar-item toolbar-dropdown">        <div class="aui-dd-parent">            <a href="javascript:" class="toolbar-trigger aui-dd-trigger" id="format-dropdown-display">                <span class="dropdown-text">{{title}}</span>                <span class="icon icon-dropdown"></span>            </a>            <ul class="aui-dropdown" ng-transclude>            </ul>        </div>    </li></ul>';f=function(i,h,g){d(h).dropDown("Standard",{alignment:"left"})}}return{replace:true,transclude:true,scope:{title:"@title"},template:e,link:f}}).directive("auiToolbarDropdownItem",function(){var e="";if(a()){e='<li><a href="javascript:">{{title}}</a></li>'}else{e='<li class="dropdown-item">    <span style="width: 100%; display: inline-block;">        <a style="width: 100%; padding-top: 0; padding-bottom: 0;" href="javascript:" class="item-link">{{title}}</a>    </span></li>'}var f=function(i,h,g){d(h).click(i.onClick)};return{replace:true,transclude:true,scope:{title:"@title",onClick:"&ngClick"},template:e,link:f}}).directive("auiFadeOut",function(){return{restrict:"A",link:function(f,e,g){f.$watch(g.auiFadeOut,function(h){if(h){e.show().delay(2000).fadeOut()}else{e.hide()}})}}}).directive("auiDropdown",function(){return function(g,f,e){jQuery(f[0]).dropDown("Standard",{alignment:(e.toolbarDropdown||"left")})}}).directive("auiAutoFocus",function(){return function(g,f,e){g.$watch(e.ngShow,function(h){if(h){f.focus()}})}})})(AJS.$,angular,auiNg._);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.js.aui-ng:aui-ng', location = '/com/k15t/js/aui-ng-loadingblanket.js' */
(function(a){window.auiNg.Util=window.auiNg.Util||{};window.auiNg.Util.LoadingBlanket={show:function(f){var b=a(f);var d=b.next(".loading-overlay");if(!d.length||d.is(":visible")){d=a('<div class="loading-overlay"/>');d.insertAfter(b)}var c={position:"absolute"};var e={};var g=function(j){e=jQuery.extend(e,c);var h=b.position();var m=b.css(["margin-top","margin-left","border-top-width","border-left-width","z-index"]);e.top=h.top+parseInt(b.css("margin-top"),10)+parseInt(b.css("border-top-width"),10);e.left=h.left+parseInt(b.css("margin-left"),10)+parseInt(b.css("border-left-width"),10);e.width=b.innerWidth();e.height=b.innerHeight();e["z-index"]=b.css("z-index")+1;for(var l in e){if(e.hasOwnProperty(l)&&c.hasOwnProperty(l)){if(e[l]!==c[l]){j=true;break}}}if(j){d.css(e);var k=c;c=e;e=k}if(f.is(":visible")){setTimeout(g,100)}else{d.hide()}};g(true);d.show();return{element:f,blanket:d,hide:function(){d.hide();return this},show:function(){g(true);d.show();return this},dispose:function(){d.remove();return this},update:g}}}})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:angular-resources', location = '/com/k15t/scroll/platform/ui/angular/scroll-platform-module.js' */
(function(b,a){a.module("scrollPlatform",["ngSanitize","auiNg"]).provider("AsyncTask",function(){this.$get=["$compile","$controller","$http","$log","$q","$rootScope","$templateCache",function(e,c,h,k,g,i,d){var f=contextPath+"\/rest\/scroll-versions\/1.0"+"/async-tasks/";var j=function(v,q,s){var A=this;var w=s||"Please wait...";var m=v;var o=q;var u=500;var y=b.noop;var z=b.noop;var n=b.noop;var x=null;var l=null;var t=function(){l=new Scroll.Versions.Dialog({height:240,width:480,omitK15tFooter:true});l.addHeader(w);l.addPanel("progress","","sv-progress");o&&l.addCancel(r);var B=l.hide;l.hide=function(){o&&r()}};var r=function(){x&&clearTimeout(x);var B=b.ajax({type:"DELETE",url:f+v});B.success(function(){var C={};C.progress=0;C.message="Cancelled";b(l.getCurrentPanel().body).html(Scroll.Versions.Templates.AsyncTask.taskStatus(C));setTimeout(function(){l.remove();i.$apply(function(){z("User cancelled task.")})},500)});B.error(function(C){i.$apply(function(){n("Error cancelling task.",C.responseText)})})};var p=function(){var B=b.getJSON(f+m);B.success(function(D,E,C){if(C.status==202){b(l.getCurrentPanel().body).html(Scroll.Versions.Templates.AsyncTask.taskStatus(D));x=setTimeout(p,u)}else{if(C.status==201){D.progress=100;D.message=D.hasFailed?"Failed":"Complete";b(l.getCurrentPanel().body).html(Scroll.Versions.Templates.AsyncTask.taskStatus(D));setTimeout(function(){l.remove();if(D.hasFailed){i.$apply(function(){n(D)})}else{i.$apply(function(){y(D)})}},500)}}});B.error(function(D){var E={};E.progress=100;E.message="Failed";b(l.getCurrentPanel().body).html(Scroll.Versions.Templates.AsyncTask.taskStatus(E));var C;try{C=JSON.parse(D.responseText).failureMessage}catch(F){C={severity:"Error",message:D.responseText}}setTimeout(function(){l.remove();i.$apply(function(){n(C,D)})},500)})};A.start=function(){!l&&t();l.show();p()};A.success=function(B){y=B;return A};A.cancel=function(B){z=B;return A};A.fail=function(B){n=B;return A};return A};return{create:function(l,n,m){return new j(l,n,m)}}}]}).controller("MessageDialogController",["$scope","$http","$q",function(d,e,c){d.getTitle=function(){if(d.message&&d.message.severity){if(d.message.severity=="Info"){return "Info"}else{if(d.message.severity=="Warning"){return "Warning"}else{if(d.message.severity=="Error"){return "Error"}}}}else{if(d.message.title){return d.message.title}}return"Error"};d.getMessage=function(){if(d.message&&d.message.message){return d.message.message}return"Error"};d.isShowSupportInformation=function(){return(d.message&&d.message.stackTrace)};d.close=function(){d.auiDialog.close(true)}}]).provider("MessageDialog",function(){this.$get=[function(){return{openMessageDialog:function(e){var c=auiNg.getPartial("com.k15t.scroll.scroll-platform","angular-resources","message-dialog");var d={message:e,className:"sv-dialog scroll-platform-common-message-dialog",closeOnOutsideClick:false,closeOnEsc:true,height:(!e.stackTrace)?200:400,width:760};auiNg.createDialogApp("scrollPlatform",c,d)}}}]})})(AJS.$,angular);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:angular-resources', location = '/com/k15t/scroll/platform/ui/angular/message-dialog.html.vm' */
(function(window, undefined){ 
window.auiNg = window.auiNg || {};
auiNg._templates = auiNg._templates || {};
 var pluginTemplates = auiNg._templates['com.k15t.scroll.scroll-platform'] =  auiNg._templates['com.k15t.scroll.scroll-platform'] || {};
var moduleTemplates = pluginTemplates['angular-resources'] = pluginTemplates['angular-resources'] || {};
moduleTemplates['message-dialog.js'] = '<div aui-dialog-page class="message-page" header="{{getTitle()}}" ng-controller="MessageDialogController">    <div aui-dialog-panel class="message-panel">        <p ng-bind-html="getMessage()"></p>        <p>If you need help please contact our <a href="http://support.k15t.com/" target="_new">support</a> team.</p>        <div class="support-info-box" ng-show="isShowSupportInformation()">            <strong>Support information:</strong>            <pre class="stacktrace-container">{{message.stackTrace}}</pre>        </div>    </div>    <div aui-dialog-link ng-click="close()">Close</div></div>';
})(window);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:angular-resources', location = '/com/k15t/scroll/platform/ui/angular/taskStatus.soy' */
// This file was automatically generated from taskStatus.soy.
// Please don't edit this file by hand.

if (typeof Scroll == 'undefined') { var Scroll = {}; }
if (typeof Scroll.Versions == 'undefined') { Scroll.Versions = {}; }
if (typeof Scroll.Versions.Templates == 'undefined') { Scroll.Versions.Templates = {}; }
if (typeof Scroll.Versions.Templates.AsyncTask == 'undefined') { Scroll.Versions.Templates.AsyncTask = {}; }


Scroll.Versions.Templates.AsyncTask.taskStatus = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class="user-feedback"></div><p>', (opt_data.message) ? soy.$$escapeHtml(opt_data.message) : '&nbsp;', '</p><p style="text-align: right; margin-bottom: 0;">', soy.$$escapeHtml(opt_data.progress), ' %</p><div class="sv-progressbar" style="width: 100%; background-color: silver;"><div class="sv-progressbar-progress" style="height: 12px; width: ', soy.$$escapeHtml(opt_data.progress), '%; background-color: #0e90d2;"></div></div>');
  return opt_sb ? '' : output.toString();
};

} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:conditional-conditionchooser-webresources', location = '/com/k15t/scroll/platform/ui/conditional/conditionchooser/conditionchooser.js' */
(function(f,e,d,b){function g(i,m,l){var h=[];if(i&&m&&l){var j=b.findWhere(i,{id:l});var n=m[l];for(key in j.values){var k=j.values[key];if(n&&n[k.id]){h.push(k)}}}return h}var a="conditionalcontent";var c=null;AJS.bind("init.rte",function(){AJS.MacroBrowser.setMacroJsOverride(a,{opener:function(i){c=i;var h=d.getPartial(Scroll.Versions.Context.product.pluginKey,"conditional-conditionchooser-webresources","conditional-dialog");d.createDialogApp("sv-conditional",h,{height:440,width:720,className:"sv-dialog"})}})});e.module("sv-conditional",["auiNg","ngResource"]).service("pageAttributeProvider",["$http",function(h){this.getContentAttributes=function(){var i={};h.get(contextPath+"\/rest\/scroll-versions\/1.0"+"/metadata/page/"+AJS.params.pageId).success(function(l,j,m,k){e.copy(l.attributeValues,i)});return i};this.storeContentAttributes=function(i){h.post(contextPath+"\/rest\/scroll-versions\/1.0"+"/metadata/page/"+AJS.params.pageId,i).success(e.noop)}}]).service("macroAttributeProvider",["$http",function(i){this.getContentAttributes=function(){var j={};i.post(contextPath+"\/rest\/scroll-versions\/1.0"+"/metadata/macro-by-params/"+AJS.params.spaceKey,c.params||{},{"Content-Type":"application/json"}).success(function(m,k,n,l){e.copy(m.attributeValues,j)});return j};this.storeContentAttributes=function(l,j){var k=function(p,n,r,o){c.body=c.body||Confluence.Editor.Adapter.getSelectedText();c.params=p;c.defaultParameterValue=m(l,j);var q={contentId:Confluence.Editor.getContentId(),macro:c};tinymce.confluence.MacroUtils.insertMacro(q)};var m=function(p,o){var q="";var n=true;e.forEach(o,function(u,s){var r=g(o,p,u.id);if(r.length){if(n){n=false}else{q+=", "}q+=u.name;q+=": (";var t=true;e.forEach(r,function(w,v){if(t){t=false}else{q+=", "}q+=w.name});q+=")"}});return q+h(100)};i.post(contextPath+"\/rest\/scroll-versions\/1.0"+"/metadata/macro/"+AJS.params.spaceKey,l).success(k)};var h=function(j){var l="";for(var k=0;k<j;k++){l+=" "}return l}}]).controller("ConditionalContentController",["$scope","$http","Attribute","macroAttributeProvider","pageAttributeProvider",function(h,m,j,k,i){var l=(c)?k:i;h.attributes=j.query();h.contentAttributes=l.getContentAttributes();h.saveConditions=function(){l.storeContentAttributes(h.contentAttributes,h.attributes);h.auiDialog.close(true)};h.getSelectedValues=function(n){return g(h.attributes,h.contentAttributes,n)};h.cancelConditions=function(){h.auiDialog.close(false)}}]).controller("ConditionsController",["$scope",function(h){h.expandAttribute=function(i){i.expanded=!i.expanded}}]).factory("Variant",["$resource",function(h){return h(contextPath+"\/rest\/scroll-versions\/1.0"+"/variant/"+AJS.params.spaceKey+"/:id/",{id:"@id"},{create:{method:"POST"},save:{method:"PUT"}})}]).factory("Attribute",["$resource",function(h){return h(contextPath+"\/rest\/scroll-versions\/1.0"+"/attribute/"+AJS.params.spaceKey+"/:id/",{id:"@id"},{create:{method:"POST"},save:{method:"PUT"}})}])})(AJS.$,angular,auiNg,Scroll.Versions._);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:conditional-conditionchooser-webresources', location = '/com/k15t/scroll/platform/ui/conditional/conditionchooser/conditional-dialog.html' */
(function(window, undefined){ 
window.auiNg = window.auiNg || {};
auiNg._templates = auiNg._templates || {};
 var pluginTemplates = auiNg._templates['com.k15t.scroll.scroll-platform'] =  auiNg._templates['com.k15t.scroll.scroll-platform'] || {};
var moduleTemplates = pluginTemplates['conditional-conditionchooser-webresources'] = pluginTemplates['conditional-conditionchooser-webresources'] || {};
moduleTemplates['conditional-dialog.js'] = '<div ng-controller="ConditionalContentController">    <div aui-dialog-page header="Apply Attribute">        <div aui-dialog-panel>            <p class="first-para">                Apply attribute values, to define in which variant the content is applicable.            </p>            <form id="sv-variant-form" class="aui">                <fieldset class="last-child first-child">                    <div class="field-group">                        <label>Attributes:</label>                        <div class="sv-listedit" ng-controller="ConditionsController">                            <div class="sv-listedit-list sv-attrs checkbox">                                <ul>                                    <li class="sv-attr"                                        ng-init="attribute.expanded = attribute.expanded || (attributes.length == 1)"                                        ng-class="{expanded: (attribute.expanded)}"                                        ng-repeat="attribute in attributes| orderBy:\'name\':false"                                        data-sv-attr-name="{{attribute.name}}">                                        <div ng-click="expandAttribute(attribute)">                                            <span class="sv-attr-name">{{attribute.name}}</span>                                            <span ng-hide="attribute.expanded" class="sv-attr-values">                                                <span ng-show="getSelectedValues(attribute.id).length">                                                    (<span ng-repeat="value in getSelectedValues(attribute.id) | orderBy:name">{{value.name}}{{($last && \'&zwnj;\') || \', \'}}</span>)                                                </span>                                                <span ng-hide="getSelectedValues(attribute.id).length">                                                    (&ndash;)                                                </span>                                            </span>                                        </div>                                        <ul ng-show="attribute.expanded">                                            <li class="sv-condition sv-operation" ng-repeat="value in attribute.values| orderBy:name">                                                <span>                                                    <input type="checkbox" id="id_{{attribute.id}}-{{value.id}}"                                                           data-sv-value-name="{{value.name}}"                                                           ng-model="contentAttributes[attribute.id][value.id]">                                                    <label for="id_{{attribute.id}}-{{value.id}}">{{value.name}}</label>                                                </span>                                            </li>                                        </ul>                                    </li>                                </ul>                            </div>                        </div>                        <div class="description">Apply no, one or multiple values for each attribute.</div>                    </div>                </fieldset>            </form>        </div>        <a aui-dialog-button ng-click="saveConditions()">Save</a>        <a aui-dialog-link ng-click="cancelConditions()">Cancel</a>    </div></div>';
})(window);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:includeplus-includeinfo-webresources', location = '/com/k15t/scroll/platform/ui/includeplus/includeinfo/includeinfo.soy' */
// This file was automatically generated from includeinfo.soy.
// Please don't edit this file by hand.

if (typeof Scroll == 'undefined') { var Scroll = {}; }
if (typeof Scroll.Versions == 'undefined') { Scroll.Versions = {}; }
if (typeof Scroll.Versions.IncludePlus == 'undefined') { Scroll.Versions.IncludePlus = {}; }
if (typeof Scroll.Versions.IncludePlus.Templates == 'undefined') { Scroll.Versions.IncludePlus.Templates = {}; }


Scroll.Versions.IncludePlus.Templates.popupContent = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class="sv-infopopup sv-includeinfo"><h3>', soy.$$escapeHtml("Included Content"), '</h3><h5>', soy.$$escapeHtml("Included Page:"), '</h5><p><a href="', soy.$$escapeHtml(contextPath), soy.$$escapeHtml(opt_data.includedScrollPage.confluencePage.urlPath), '" target="_blank">', soy.$$escapeHtml(opt_data.includedScrollPage.scrollPageTitle), ' <span class="icon icon-newwindow" title="', soy.$$escapeHtml("Open in new Window"), '"></span></a> (<nobr>', soy.$$escapeHtml(opt_data.includedScrollPage.targetVersion.name), '</nobr>)</p></div>');
  return opt_sb ? '' : output.toString();
};

} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:pagetree-resources', location = '/com/k15t/scroll/platform/ui/pagetree/pagetree.soy' */
// This file was automatically generated from pagetree.soy.
// Please don't edit this file by hand.

if (typeof Scroll == 'undefined') { var Scroll = {}; }
if (typeof Scroll.Versions == 'undefined') { Scroll.Versions = {}; }
if (typeof Scroll.Versions.Templates == 'undefined') { Scroll.Versions.Templates = {}; }
if (typeof Scroll.Versions.Templates.Pagetree == 'undefined') { Scroll.Versions.Templates.Pagetree = {}; }


Scroll.Versions.Templates.Pagetree.children = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  var childList3 = opt_data.children;
  var childListLen3 = childList3.length;
  for (var childIndex3 = 0; childIndex3 < childListLen3; childIndex3++) {
    var childData3 = childList3[childIndex3];
    output.append('<li class="node type_', soy.$$escapeHtml(childData3.type), ' ', (childData3.children.length > 0) ? 'open' : '', ' ', (childData3.id == opt_data.expandedId || childData3.scrollPageId == opt_data.expandedId) ? 'highlight' : '', ' ', (childData3.isDeleted == true) ? 'deleted' : '', ' ', (childData3.isEnabled == false) ? 'excluded' : '', ' " data-page-id="', soy.$$escapeHtml(childData3.id), '" data-master-page-id="', soy.$$escapeHtml(childData3.masterPageId), '" data-scroll-page-id="', soy.$$escapeHtml(childData3.scrollPageId), '" data-scroll-page-title="', soy.$$escapeHtml(childData3.scrollPageTitle), '" data-is-managed="', soy.$$escapeHtml(childData3.isManaged), '"><div class="openclose ', (childData3.hasChildren == true) ? 'openclose-hasChildren' : '', '" data-scroll-page-id="', soy.$$escapeHtml(childData3.scrollPageId), '"></div>', (childData3.type == 'change' || childData3.type == 'masterpage') ? '<a href="' + soy.$$escapeHtml(contextPath) + soy.$$escapeHtml(childData3.urlPath) + '" title="' + soy.$$escapeHtml(childData3.scrollPageTitle) + '">' + soy.$$escapeHtml(childData3.scrollPageTitle) + '</a>' : soy.$$escapeHtml(childData3.scrollPageTitle));
    if (childData3.children.length > 0) {
      output.append('<ul class="children">');
      Scroll.Versions.Templates.Pagetree.children({expandedId: opt_data.expandedId, children: childData3.children}, output);
      output.append('</ul>');
    } else {
      output.append('<div class="loading">', soy.$$escapeHtml("Loading.."), '</div><div class="error"></div><ul class="children"></ul>');
    }
    output.append('</li>');
  }
  return opt_sb ? '' : output.toString();
};

} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:pagetree-resources', location = '/com/k15t/scroll/platform/ui/pagetree/pagetree.js' */
(function(d,b){var a="sv-pagetree";AJS.toInit(function(){d(".sv-pagetree").each(function(){new Scroll.Versions.Pagetree(this,{})})});window.Scroll=window.Scroll||{};window.Scroll=AJS.$.extend(true,window.Scroll,{Versions:{}});Scroll.Versions.Pagetree=function(g,o){var h={};var m=d(g);var e={};var f=new c();h.opts=d.extend(o,{spaceKey:o.spaceKey||m.attr("data-space-key")||"",rootScrollPageId:o.rootScrollPageId||m.attr("data-root-scroll-page-id")||"",rootPageId:o.rootPageId||m.attr("data-root-page-id")||"",expandedScrollPageId:o.expandedScrollPageId||m.attr("data-expanded-scroll-page-id")||"",expandedPageId:o.expandedPageId||m.attr("data-expanded-page-id")||"",versionId:o.versionId||m.attr("data-version-id")||"",variantId:o.variantId||m.attr("data-variant-id")||"all",languageKey:o.languageKey||m.attr("data-language-key")||"",isShowUnavailablePages:m.data("isShowUnavailablePages")||"false",isRememberTreeState:m.data("isRememberTreeState")||"false",sortBy:o.sortBy||m.attr("data-sort-by"),reverseOrder:o.reverseOrder||m.attr("data-reverse-order"),startDepth:o.startDepth||m.attr("data-start-depth"),isShowToplevelPages:o.isShowToplevelPages||m.attr("data-is-show-toplevel")||"false"});var i=function(){m.undelegate("click").delegate(".openclose-hasChildren","click",function(){n(d(this).attr("data-scroll-page-id"),d(this).parent("li").attr("data-page-id"))});f.init(h.opts.isRememberTreeState);f.add(h.opts.expandedScrollPageId);k(h.opts.rootScrollPageId,h.opts.rootPageId,true)};var n=function(r,p){var q=h.findNode(r);if(q.hasClass("locknode")){return}if(!q.hasClass("open")){q.addClass("locknode");k(r,p||r)}else{q.addClass("locknode").removeClass("open").find("> ul.children").slideUp(150,function(){d(this).parent().removeClass("locknode");f.remove(r)})}};var l=function(r,p){var q=Scroll.Versions.Templates.Pagetree.children({children:p.children,expandedId:h.opts.expandedScrollPageId||h.opts.expandedPageId});h.findNode(r).addClass("open").find("> ul.children").html(q).slideDown(150,function(){d(this).parent().removeClass("locknode");f.add(r)})};var k=function(s,q,t){var p=contextPath+"\/rest\/scroll-versions\/1.0"+"/pagetree/{0}?parentScrollPageId={1}&parentPageId={2}&expandedScrollPageId={3}&expandedPageId={4}&versionId={5}&variantId={6}&isShowUnavailablePages={7}&sortBy={8}&reverseOrder={9}&startDepth={10}&isShowToplevelPages={11}&languageKey={12}";var r=AJS.format(p,h.opts.spaceKey,encodeURIComponent(s||""),q||"",j(t),h.opts.expandedPageId||"",h.opts.versionId,h.opts.variantId,h.opts.isShowUnavailablePages,h.opts.sortBy,h.opts.reverseOrder,h.opts.startDepth,h.opts.isShowToplevelPages,h.opts.languageKey);h.opts.startDepth=1;if(e[r]){l(s,e[r]);return}d.ajax({type:"GET",url:r,contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:{openedPageIds:t?f.get():[]},beforeSend:function(v,u){h.findNode(s).addClass("loading")},success:function(v,w,u){e[r]=v;h.findNode(s).removeClass("loading");l(s,v);AJS.$(".sv-pagetree-loader").hide()},error:function(u,w,v){if(u.readyState>=2){h.findNode(s).removeClass("loading");h.findNode(s).find(".error").text("Error loading children.");AJS.log("Failed to load children:"+u.responseText);AJS.log(u)}}})};var j=function(p){if(!p){return""}return encodeURIComponent(h.opts.expandedScrollPageId||"")};h.findNode=function(q){if(m.attr("data-root-scroll-page-id")===q||(q==="")){return m}else{var p=Scroll.Versions.Utils.escapeCssSelector(q);return d(m.find("li.node[data-scroll-page-id='"+p+"']"))}};h.setExpandedScrollPageId=function(p){h.opts.expandedScrollPageId=p};i();return h};var c=function(){var f=this;f.init=function(h){if(!h){e([])}};f.get=function(){return g()};f.add=function(h){var i=g();(Scroll.Versions._.indexOf(i,h)==-1)&&i.push(h);e(i)};f.remove=function(h){var i=g();i=Scroll.Versions._.without(i,h);e(i)};var g=function(){return JSON.parse(d.cookie(a+"-"+AJS.params.spaceKey)||"[]")};var e=function(h){d.cookie(a+"-"+AJS.params.spaceKey,JSON.stringify(h||[]))};return f}})(AJS.$,Scroll.Versions._);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:includeplus-includepicker-webresources', location = '/com/k15t/scroll/platform/ui/includeplus/includepicker/includepicker.soy' */
// This file was automatically generated from includepicker.soy.
// Please don't edit this file by hand.

if (typeof Scroll == 'undefined') { var Scroll = {}; }
if (typeof Scroll.Versions == 'undefined') { Scroll.Versions = {}; }
if (typeof Scroll.Versions.Templates == 'undefined') { Scroll.Versions.Templates = {}; }
if (typeof Scroll.Versions.Templates.IncludePlus == 'undefined') { Scroll.Versions.Templates.IncludePlus = {}; }
if (typeof Scroll.Versions.Templates.IncludePlus.Edit == 'undefined') { Scroll.Versions.Templates.IncludePlus.Edit = {}; }


Scroll.Versions.Templates.IncludePlus.Edit.pageTree = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class="sv-pagetree" data-root-scroll-page-id="" data-space-key="', soy.$$escapeHtml(opt_data.spaceKey), '" data-version-id="', soy.$$escapeHtml(opt_data.versionId), '" data-variant-id="', soy.$$escapeHtml(opt_data.variantId), '" data-language-key="', soy.$$escapeHtml(opt_data.languageKey), '" data-expanded-scroll-page-id="', soy.$$escapeHtml(opt_data.expandedScrollPageId), '", data-is-show-toplevel="', soy.$$escapeHtml(opt_data.isShowToplevelPages), '"><div class="error"></div><ul class="children" style="margin-top: 0;"></ul></div>');
  return opt_sb ? '' : output.toString();
};

} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:includeplus-includepicker-webresources', location = '/com/k15t/scroll/platform/ui/includeplus/includepicker/includepicker.js' */
(function(a){var b=function(d){var l;var m;var i;var k=function(n){h(n);f();j();m.show()};var h=function(n){l=(n.params&&n.params.scrollPageId)?n.params.scrollPageId:""};var f=function(){if(m){m.remove();m=null}m=new AJS.Dialog({height:480,width:640,closeOnOutsideClick:true,id:"includeplus-dialog"}).addHeader("Include+","sv-dialog-heading").addPanel("Browse",Scroll.Versions.Templates.IncludePlus.Edit.pageTree({rootPageId:"-1",spaceKey:AJS.params.spaceKey,versionId:Scroll.Versions.Context.workingVersion.versionId,variantId:Scroll.Versions.Context.user.currentVariant&&Scroll.Versions.Context.user.currentVariant.id,languageKey:Scroll.Versions.Context.user.currentLanguage.key,expandedScrollPageId:l,isShowToplevelPages:true}),"sv-browse-pagetree").addPanel("","","sv-dummy-panel").addButton("Insert",function(n,o){c();n.remove();m=null},"insert-button").addLink("Cancel",function(n,o){n.remove();m=null});if(!l){a(".insert-button").attr("disabled","disabled")}a("#includeplus-dialog li.page-menu-item:last-child").hide()};var j=function(){i=new Scroll.Versions.Pagetree(".sv-pagetree",{});a("#includeplus-dialog .sv-pagetree a").die("click.includeplus").live("click.includeplus",function(){g(a(this).parent());return false}).die("dblclick.includeplus").live("dblclick.includeplus",function(){g(a(this).parent());c();m.remove();m=null;return false})};var g=function(n){l=n.data().scrollPageId;i.setExpandedScrollPageId(l);a(".sv-pagetree li.node").removeClass("highlight");n.addClass("highlight");a(".insert-button").removeAttr("disabled")};var c=function(){var n={contentId:Confluence.Editor.getContentId(),macro:e()};tinymce.confluence.MacroUtils.insertMacro(n)};var e=function(){var n=i.findNode(l);return{name:"includeplus",defaultParameterValue:n.data().scrollPageTitle,params:{scrollPageId:n.data().scrollPageId}}};k(d)};AJS.bind("init.rte",function(){AJS.MacroBrowser.setMacroJsOverride("includeplus",{opener:function(c){b(c)}})})})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:metadata-resources', location = '/com/k15t/scroll/platform/ui/metadata/metadata-template.soy' */
// This file was automatically generated from metadata-template.soy.
// Please don't edit this file by hand.

if (typeof Scroll == 'undefined') { var Scroll = {}; }
if (typeof Scroll.Versions == 'undefined') { Scroll.Versions = {}; }
if (typeof Scroll.Versions.Templates == 'undefined') { Scroll.Versions.Templates = {}; }
if (typeof Scroll.Versions.Templates.EditorExt == 'undefined') { Scroll.Versions.Templates.EditorExt = {}; }


Scroll.Versions.Templates.EditorExt.editMetadataPanel = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<p class="first-para">', soy.$$escapeHtml("Here you can edit the page key that can be used for context-sensitive help."), '</p><div class="user-feedback"></div><form action="', soy.$$escapeHtml(opt_data.restBaseUrl), '/metadata/scroll-page-key/', soy.$$escapeHtml(AJS.params.pageId), '/" method="PUT" class="aui k15t-com-form" id="k15t-com-editchange-form"><fieldset class="change-details last-child"><div class="field-group"><label for="k15t-com-editchange-field-scrollPageKey">', soy.$$escapeHtml("Page Key"), '</label><input class="text" type="text" id="k15t-com-editchange-field-scrollPageKey" name="scrollPageKey" value="', soy.$$escapeHtml(opt_data.scrollPageKey), '"><div class="error"></div><div class="description">', soy.$$escapeHtml("The new key for the page. This key can be used for context sensitive help."), '<br/></div></div></fieldset></form>');
  return opt_sb ? '' : output.toString();
};

} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:metadata-resources', location = '/com/k15t/scroll/platform/ui/metadata/metadata.js' */
(function(c){AJS.toInit(function(){c("#k15t-com-metadata-navlink").die("click.metadata").live("click.metadata",a);AJS.log("[Scroll Versions] Metadata Dialog initialized.")});var b;var a=function(d){d.preventDefault();if(!b){b=new Scroll.Versions.Dialog({idPrefix:"sv-metadata",height:380,width:640,beforeRedirectCallback:function(e){return true}});b.addHeader("Edit Page Key");b.addPanel("",Scroll.Versions.Templates.EditorExt.editMetadataPanel({scrollPageKey:Scroll.Versions.Context.scrollPageKey||"",restBaseUrl:contextPath+"\/rest\/scroll-versions\/1.0"}));b.addSubmit("Save",b.submit);b.addLink("Cancel",b.cancel)}b.show();return false}})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:pagediff-webresources', location = '/com/k15t/scroll/platform/ui/pagediff/pagediff.soy' */
// This file was automatically generated from pagediff.soy.
// Please don't edit this file by hand.

if (typeof Scroll == 'undefined') { var Scroll = {}; }
if (typeof Scroll.Versions == 'undefined') { Scroll.Versions = {}; }
if (typeof Scroll.Versions.Templates == 'undefined') { Scroll.Versions.Templates = {}; }
if (typeof Scroll.Versions.Templates.PageDiff == 'undefined') { Scroll.Versions.Templates.PageDiff = {}; }


Scroll.Versions.Templates.PageDiff.summary = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class="sv-pagediff-summary text">', (opt_data.pageDiff.type == 'modify') ? ((opt_data.pageDiff.newVersionName) ? soy.$$escapeHtml(AJS.format("Page modified in {0}.",opt_data.pageDiff.newVersionName)) : soy.$$escapeHtml("Page modified.")) + ' <span class="sv-pagediff-opener-wrap">(<a href="#" class="sv-pagediff-opener" data-original-page-id="' + soy.$$escapeHtml(opt_data.pageDiff.originalPageId) + '" data-new-page-id="' + soy.$$escapeHtml(opt_data.pageDiff.newPageId) + '" data-original-version-name="' + soy.$$escapeHtml(opt_data.pageDiff.originalVersionName) + '" data-new-version-name="' + soy.$$escapeHtml(opt_data.pageDiff.newVersionName) + '">' + soy.$$escapeHtml("show differences") + '</a>)</span>' : (opt_data.pageDiff.type == 'add') ? (opt_data.pageDiff.newVersionName) ? soy.$$escapeHtml(AJS.format("Page added in {0}.",opt_data.pageDiff.newVersionName)) : soy.$$escapeHtml("Page added.") : (opt_data.pageDiff.type == 'remove') ? (opt_data.pageDiff.newVersionName) ? soy.$$escapeHtml(AJS.format("Page removed in {0}.",opt_data.pageDiff.newVersionName)) : soy.$$escapeHtml("Page removed.") : (opt_data.pageDiff.type == 'nochange') ? (opt_data.pageDiff.newVersionName) ? soy.$$escapeHtml(AJS.format("No change in {0}.",opt_data.pageDiff.newVersionName)) : soy.$$escapeHtml("No change.") : (opt_data.pageDiff.type == 'notexist') ? soy.$$escapeHtml("Page does not exist in both versions.") : 'Oops: Unknown diff type.', '</div>');
  return opt_sb ? '' : output.toString();
};


Scroll.Versions.Templates.PageDiff.versionChooser = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<li class="toolbar-item toolbar-dropdown sv-versionpicker ', (opt_data.enabled != true) ? 'disabled' : '', '"><div class="aui-dd-parent dd-allocated"><a href="#" class="toolbar-trigger aui-dd-trigger" title="', (opt_data.selectedVersion && opt_data.selectedVersion.name) ? soy.$$escapeHtml(opt_data.selectedVersion.name) : '', '"><span class="icon icon-loading hidden"></span><span class="dropdown-text ellipsis">', (opt_data.enabled != true) ? soy.$$escapeHtml("Initializing..") : (opt_data.selectedVersion && opt_data.selectedVersion.name) ? soy.$$escapeHtml(opt_data.selectedVersion.name) : soy.$$escapeHtml("Please select.."), '</span><span class="icon-dropdown"></span></a>');
  if (opt_data.enabled) {
    output.append('<div class="aui-dropdown grouped aui-dropdown-right aui-box-shadow hidden" style="top: 48px; "><ul class="dropdown-list"><li class="dropdown-item ', (opt_data.selectedVersion && opt_data.selectedVersion.versionId == 'current') ? 'selected' : '', '"><a href="#" class="item-link ', soy.$$escapeHtml(opt_data.className), ' ellipsis" data-version-id="current" title="', soy.$$escapeHtml("Currently Published"), '">', soy.$$escapeHtml("Currently Published"), '</a></li>');
    var versionList78 = opt_data.versions;
    var versionListLen78 = versionList78.length;
    for (var versionIndex78 = 0; versionIndex78 < versionListLen78; versionIndex78++) {
      var versionData78 = versionList78[versionIndex78];
      output.append((! opt_data.selectedVersion || opt_data.selectedVersion.versionId != versionData78.versionId) ? '<li class="dropdown-item ' + ((opt_data.selectedVersion && opt_data.selectedVersion.key == versionData78.versionId) ? 'selected' : '') + '"><a href="#" class="item-link ' + soy.$$escapeHtml(opt_data.className) + ' ellipsis" data-version-id="' + soy.$$escapeHtml(versionData78.versionId) + '" title="' + soy.$$escapeHtml(versionData78.name) + '">' + soy.$$escapeHtml(versionData78.name) + '</a></li>' : '');
    }
    output.append('</ul></div>');
  }
  output.append('</div></li>');
  return opt_sb ? '' : output.toString();
};


Scroll.Versions.Templates.PageDiff.versionDiffParams = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<ul class="toolbar-group">');
  Scroll.Versions.Templates.PageDiff.versionChooser({versions: opt_data.versions, selectedVersion: opt_data.originalVersion, enabled: true, className: 'original-version'}, output);
  output.append('</ul>', (opt_data.versionSwitchButton) ? '<span class="sv-versionpicker-switch-container"><a href="#" class="sv-versionpicker-switch"></a></span>' : '', '<ul class="toolbar-group">');
  Scroll.Versions.Templates.PageDiff.versionChooser({versions: opt_data.versions, selectedVersion: opt_data.newVersion, enabled: true, className: 'new-version'}, output);
  output.append('</ul>');
  return opt_sb ? '' : output.toString();
};


Scroll.Versions.Templates.PageDiff.pageDiff = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class="user-feedback"></div><div class="aui-message"><span class="aui-icon icon-info"></span> ', soy.$$escapeHtml(AJS.format("Comparing Page Version {0} with {1}",opt_data.originalVersion.name,opt_data.newVersion.name)), '</div><div class="aui-toolbar sv-difftable-toolbar-container sv-pagediff-controls">');
  if (opt_data.showVersionChooser) {
    Scroll.Versions.Templates.PageDiff.versionDiffParams(opt_data, output);
  }
  output.append('</div><div class="sv-pagediff-container">', (opt_data.pageDiff.isContentChanged || opt_data.pageDiff.isScrollPageKeyChanged || opt_data.pageDiff.isScrollPageTitleChanged) ? '<p class="diffpara"><strong>' + soy.$$escapeHtml("Page Title:") + '</strong>' + ((opt_data.pageDiff.originalScrollPageTitle != opt_data.pageDiff.newScrollPageTitle) ? '<span class="diff-html-removed">' + soy.$$escapeHtml(opt_data.pageDiff.originalScrollPageTitle) + '</span><span class="diff-html-added">' + soy.$$escapeHtml(opt_data.pageDiff.newScrollPageTitle) + '</span>' : soy.$$escapeHtml(opt_data.pageDiff.originalScrollPageTitle)) + '</p><p class="diffpara"><strong>' + soy.$$escapeHtml("Page Key:") + '</strong>' + ((opt_data.pageDiff.originalScrollPageKey != opt_data.pageDiff.newScrollPageKey) ? '<span class="diff-html-removed">' + opt_data.pageDiff.originalScrollPageKey + '</span><span class="diff-html-added">' + opt_data.pageDiff.newScrollPageKey + '</span>' : opt_data.pageDiff.originalScrollPageKey) + '</p>' + ((opt_data.pageDiff.isContentChanged && opt_data.contentDiff) ? opt_data.contentDiff : '<div class="no-change">' + ((opt_data.originalVersion.versionId == opt_data.newVersion.versionId) ? soy.$$escapeHtml("You have selected the same page versions.") : soy.$$escapeHtml("Page content has not changed.")) + '</div>') + '<div class="diff-legend"><h2 class="legend-title">' + soy.$$escapeHtml("Legend") + ':</h2><span class="diff-html-added">' + soy.$$escapeHtml(AJS.format("Text was added in {0}.",opt_data.newVersion.name)) + '</span><span class="diff-html-removed">' + soy.$$escapeHtml(AJS.format("Text was removed in {0}.",opt_data.newVersion.name)) + '</span><span class="diff-html-changed">' + soy.$$escapeHtml("Formatting was changed.") + '</span></div>' : '<div class="no-change">' + ((opt_data.originalVersion.versionId == opt_data.newVersion.versionId) ? soy.$$escapeHtml("You have selected the same page versions.") : soy.$$escapeHtml("Page content has not changed.")) + '</div>', '</div>');
  return opt_sb ? '' : output.toString();
};

} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:pagediff-webresources', location = '/com/k15t/scroll/platform/ui/pagediff/pagediff.js' */
(function(c){var d=contextPath+"\/rest\/scroll-versions\/1.0"+"/pagediff";var b=contextPath+"/pages/diffpages.action?originalId={0}&pageId={1}";var a=Scroll.Versions._;AJS.toInit(function(f){f(".sv-pagediff-opener").live("click",function(k){k.preventDefault();var h=f(k.target).attr("data-original-version-name");var g=f(k.target).attr("data-new-version-name");var i=a.findWhere(Scroll.Versions.Context.versions,{name:h});var j=a.findWhere(Scroll.Versions.Context.versions,{name:g});if(h&&!i){i=Scroll.Versions.Context.getVersion("current")}if(g&&!j){j=Scroll.Versions.Context.getVersion("current")}if(f(k.target).data("pageId")){f.getJSON(d+"/page-ids-for-versions",{pageId:f(k.target).data("pageId"),originalVersionId:i.versionId,newVersionId:j.versionId},function(l){new Scroll.Versions.PageDiff({showVersionChooser:true,originalPageId:l.originalPageId,newPageId:l.newPageId,originalVersion:i,originalVersionId:i.versionId,originalVersionName:i.name,newVersion:j,newVersionName:j.name,newVersionId:j.versionId,allowCopy:f(k.target).attr("data-allow-copy")||false})})}else{new Scroll.Versions.PageDiff({showVersionChooser:!!AJS.params.pageId,originalPageId:f(k.target).attr("data-original-page-id"),newPageId:f(k.target).attr("data-new-page-id"),originalVersion:i,originalVersionId:i.versionId,originalVersionName:i.name,newVersion:j,newVersionName:j.name,newVersionId:j.versionId,allowCopy:false})}})});var e=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;window.Scroll=window.Scroll||{};window.Scroll=AJS.$.extend(true,window.Scroll,{Versions:{}});Scroll.Versions.PageDiff=function(j){var i;var g=undefined;var l=function(n,q){var m=n[0];var p=q[0].replace(e,"");m.originalScrollPageKey=m.originalScrollPageKey||Scroll.Versions.Utils.htmlEscape("\u003cempty>");m.newScrollPageKey=m.newScrollPageKey||Scroll.Versions.Utils.htmlEscape("\u003cempty>");var o=g.getCurrentPanel().body;o.html(Scroll.Versions.Templates.PageDiff.pageDiff({versions:Scroll.Versions.Context.versions,originalVersion:j.originalVersion,newVersion:j.newVersion,showVersionChooser:j.showVersionChooser,versionSwitchButton:true,pageDiff:m,contentDiff:c("<div>").append(p).find("#page-diffs").html()}));k(o);g.enable();i.hide().dispose()};function k(m){var n=m.find(".sv-versionpicker");n.dropDown("Standard",{alignment:"left"});n.find(".aui-dropdown").css("width","10em");n.delegate(".item-link","click.dropdowns",function(){var p=c(this).attr("data-version-id");var o=Scroll.Versions.Context.getVersion(p,true);if(c(this).is(".original-version")){j.originalVersion=o;j.originalVersionName=o.name;j.originalVersionId=o.versionId;j.originalPageId=undefined}else{if(c(this).is(".new-version")){j.newVersion=o;j.newVersionName=o.name;j.newVersionId=o.versionId;j.newPageId=undefined}else{throw new Error("Unknown version picker.")}}h()});m.undelegate(".sv-versionpicker-switch","click.switch").delegate(".sv-versionpicker-switch","click.switch",function(p){if(j.originalVersionId!==j.newVersionId){var o;o=j.originalVersionName;j.originalVersionName=j.newVersionName;j.newVersionName=o;o=j.originalVersionId;j.originalVersionId=j.newVersionId;j.newVersionId=o;o=j.originalPageId;j.originalPageId=j.newPageId;j.newPageId=o;o=j.originalVersion;j.originalVersion=j.newVersion;j.newVersion=o;h()}})}var f=function(m,n){var o=(n&&(n.status!=401))?"Permission error when loading page diff. Please check page restrictions in target space.":"Unknown error loading page diff. Please contact your system administrator.";g.showUserMessage("error","Error",o);g.enable();i.hide()};if(g){g.remove()}g=new Scroll.Versions.Dialog({maximize:true,id:"k15t-com-compareto-dialog",closeOnOutsideClick:false});g.addHeader("Comparing Page Versions");g.addPanel("k15t-com-compareto-mainpanel","","sv-pagediff-panel");if(j.allowCopy){g.addLink(AJS.I18n.getText("Show Page History"),function(m,n){window.location.href=contextPath+"/pages/viewpreviousversions.action?pageId="+j.newPageId});g.addButton("Close",function(m,n){m.hide();m.remove()})}else{g.addButton("Close",function(m,n){m.hide();m.remove()})}g.disable();c(window).trigger("resize");g.show();function h(){i=Scroll.Versions.LoadingBlanket.show(g.getCurrentPanel().body);var p=function(){c.when(c.get(d,{originalPageId:j.originalPageId,newPageId:j.newPageId,currentPageId:AJS.params.pageId}),c.get(AJS.format(b,j.originalPageId,j.newPageId),{dataType:"json"})).then(l,f)};if(j.originalPageId&&j.newPageId){p()}else{var n=j.originalVersionId;var o=j.newVersionId;var m=Scroll.Versions.Context.space.lastPublishedVersion||Scroll.Versions.Context.workingVersion;if(n==="current"){}if(o==="current"){}c.getJSON(d+"/page-ids-for-versions",{pageId:AJS.params.pageId,originalVersionId:n,newVersionId:o},function(q){j.originalPageId=q.originalPageId;j.newPageId=q.newPageId;p()})}}h();AJS.bind("hide.dialog",function(n,m){if((m.dialog=g)&&g.pageNeedsReload){window.location.reload()}})}})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:difftable-webresources', location = '/com/k15t/scroll/platform/ui/difftable/sv-difftable.js' */
(function(a){window.Scroll=window.Scroll||{};window.Scroll=AJS.$.extend(true,window.Scroll,{Versions:{DiffTable:{}}});Scroll.Versions.DiffTable.Model=function(h,f,b){var e={};e.messages=Scroll.Versions.Messages.getGroupedUserMessages(f);e.topLevelNodes=h;e.viewMode=b.viewMode||"tree";e.filters=b.filters||[];e.enableToolbar=b.enabledToolbar||false;e.colspec=b.colspec||{pagetitle:{width:40},pagediff:{width:60}};e.updateTopLevelNodes=function(i){e.topLevelNodes=i};e.setEnableToolbar=function(i){e.enableToolbar=i};e.setNodeExpanded=function(j,i){if(e.enableToolbar){d(j,e.topLevelNodes).isExpanded=i}};e.expandAll=function(i){if(e.enableToolbar){g(e.topLevelNodes,function(j){j.isExpanded=i})}};e.displayAsList=function(){if(e.enableToolbar){e.viewMode="list"}};e.displayAsTree=function(){if(e.enableToolbar){e.viewMode="tree"}};e.hasMessages=function(){return(e.messages.errors.length>0)||(e.messages.warnings.length>0)||(e.messages.infos.length>0)};e.toggleFilter=function(i){if(e.enableToolbar){a.each(e.filters,function(j,k){if(k.key===i){e.filters[j].active=!e.filters[j].active;return false}})}};e.filterNodes=function(){return c(e.topLevelNodes)};var d=function(k,i){var j=undefined;a.each(i,function(l,m){if((m.pageDiff.originalPageId==k)||(m.pageDiff.newPageId==k)){j=m;return false}else{j=d(k,m.children);if(j){return false}}});return j};var g=function(i,j){a.each(i,function(k,l){j(l);g(l.children,j)})};var c=function(i){var j=[];a.each(i,function(k,n){var o=false;a.each(e.filters,function(p,q){if(q.active&&q.excludeNode(n,(e.viewMode==="tree"))){o=true;return false}});if(!o){var m=c(n.children);var l=a.extend(true,{},n);l.children=m;j.push(l)}else{if(e.viewMode!=="tree"){j=a.merge(j,c(n.children))}}});return j};return e};Scroll.Versions.DiffTable.View=function(d,e,j){var f={};f.options=j;var h=d;var g=e;var c=j.notInitializedMessage||"none";var b=j.noResultsMessage||"Empty";var i=a.extend(true,{getAdditionalMessage:a.noop,getAdditionalMessageClass:a.noop,getOriginalVersionName:a.noop,getNewVersionName:a.noop,render:a.noop},j.toolbarExtView);f.render=function(){var k=h.filterNodes();g.html(Scroll.Versions.Templates.DiffTable.diffTable({diffTable:h,filters:h.filters,viewMode:h.viewMode,topLevelNodes:k,notInitializedMessage:c,noResultsMessage:b,additionalMessage:i.getAdditionalMessage(),additionalMessageClass:i.getAdditionalMessageClass(),colspec:h.colspec,linkPages:j.linkPages||false}));Scroll.Versions.Messages.appendMessageIndicators(g.find("#sv-message-indicators-container"),h.messages,j.messageDialogTitle);i.render(e.find(".sv-difftable-toolbar-ext"),h)};return f};Scroll.Versions.DiffTable.Controller=function(e,c,b){var g={};var f=e;var h=c;var i=b;var d=false;g.show=function(){if(!d){g.init();d=true}i.render();if(h.hasMessages()){g.displayMessagesDialog()}};g.displayMessagesDialog=function(){new Scroll.Versions.Messages.Dialog(h.messages,{header:i.options.messageDialogTitle}).open()};g.init=function(){a(f).undelegate("sv-difftable");a(f).delegate(".expand-all-button","click.sv-difftable",function(){h.expandAll(true);i.render()});a(f).delegate(".collapse-all-button","click.sv-difftable",function(){h.expandAll(false);i.render()});a(f).delegate(".filter-button","click.sv-difftable",function(){h.toggleFilter(a(this).attr("data-filter-key"));i.render()});a(f).delegate(".tree-view-button","click.sv-difftable",function(){h.displayAsTree();i.render()});a(f).delegate(".list-view-button","click.sv-difftable",function(){h.displayAsList();i.render()});a(f).delegate(".sv-difftable-entry .plusminus","click.sv-difftable",function(){var j=a(this).attr("data-node-id");if(a(this).is(".open")){a(this).removeClass("open").addClass("closed").parent().parent().next(".sv-difftable-children").removeClass("sv-visible").addClass("sv-hidden");h.setNodeExpanded(j,false)}else{a(this).removeClass("closed").addClass("open").parent().parent().next(".sv-difftable-children").removeClass("sv-hidden").addClass("sv-visible");h.setNodeExpanded(j,true)}})};return g};Scroll.Versions.DiffTable.FilterDefs={hideUnchanged:{key:"hideUnchanged",label:"Hide Unchanged",active:false,excludeNode:function(b,c){return b.pageDiff.type==="nochange"&&(!c||!b.hasDescendantChanges)}},hideRemove:{key:"hideRemove",label:"Hide Removed",active:false,excludeNode:function(b){return b.pageDiff.type==="remove"}},hideAdded:{key:"hideAdded",label:"Hide Added",active:false,excludeNode:function(b){return b.pageDiff.type==="add"}},hideDone:{key:"hideDone",label:"Hide Complete",active:false,excludeNode:function(b,c){return !b.isNotDone&&(!c||!this.hasDescendentsUnDone(b.children))},hasDescendentsUnDone:function(c){var c=c||[];var b=false;a.each(c,function(d,e){if(e.isNotDone){b=true}});return b}}}})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:difftable-webresources', location = '/com/k15t/scroll/platform/ui/difftable/sv-difftable.soy' */
// This file was automatically generated from sv-difftable.soy.
// Please don't edit this file by hand.

if (typeof Scroll == 'undefined') { var Scroll = {}; }
if (typeof Scroll.Versions == 'undefined') { Scroll.Versions = {}; }
if (typeof Scroll.Versions.Templates == 'undefined') { Scroll.Versions.Templates = {}; }
if (typeof Scroll.Versions.Templates.DiffTable == 'undefined') { Scroll.Versions.Templates.DiffTable = {}; }


Scroll.Versions.Templates.DiffTable.diffTable = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class="aui-blanket sv-difftable-blanket" style="display: none;"></div><div class="sv-difftable-container"><div class="sv-difftable-toolbar-container aui-toolbar"><div class="toolbar-split toolbar-split-left sv-difftable-toolbar-ext" style="margin-left: 0;"></div><div class="toolbar-split toolbar-split-right sv-difftable-toolbar-main ', (opt_data.diffTable.enableToolbar != true) ? 'disabled' : '', '"><ul class="toolbar-group"><li class="toolbar-item"><a class="toolbar-trigger', (opt_data.viewMode == 'list') ? ' disabled' : '', ' expand-all-button" href="#"><span class="icon icon-expand-all"></span>', soy.$$escapeHtml("Expand all"), '</a></li><li class="toolbar-item"><a class="toolbar-trigger', (opt_data.viewMode == 'list') ? ' disabled' : '', ' collapse-all-button" href="#"><span class="icon icon-collapse-all"></span>', soy.$$escapeHtml("Collapse all"), '</a></li></ul><ul class="toolbar-group">');
  var filterList20 = opt_data.filters;
  var filterListLen20 = filterList20.length;
  for (var filterIndex20 = 0; filterIndex20 < filterListLen20; filterIndex20++) {
    var filterData20 = filterList20[filterIndex20];
    output.append('<li class="toolbar-item', (filterData20.active == true) ? ' active' : '', '"><a class="toolbar-trigger filter-button" href="#" data-filter-key="', soy.$$escapeHtml(filterData20.key), '">', soy.$$escapeHtml(filterData20.label), '</a></li>');
  }
  output.append('</ul><ul class="toolbar-group" style="margin-right: 0;"><li class="toolbar-item', (opt_data.viewMode == 'tree') ? ' active' : '', '"><a class="toolbar-trigger tree-view-button" href="#"><span class="icon icon-tree"></span>', soy.$$escapeHtml("Tree"), '</a></li><li class="toolbar-item', (opt_data.viewMode == 'list') ? ' active' : '', '"><a class="toolbar-trigger list-view-button" href="#"><span class="icon icon-list"></span>', soy.$$escapeHtml("List"), '</a></li></ul></div></div><div><div id="sv-message-indicators-container" style="float: right; font-size: 0.85em;"></div>', (opt_data.additionalMessage) ? '<p class="sv-difftable-infoline ' + soy.$$escapeHtml(opt_data.additionalMessageClass) + '">' + soy.$$escapeHtml(opt_data.additionalMessage) + '</p>' : '', '</div><div><div class="sv-difftable-content-container">');
  Scroll.Versions.Templates.DiffTable.diffContent(opt_data, output);
  output.append('</div></div></div>');
  return opt_sb ? '' : output.toString();
};


Scroll.Versions.Templates.DiffTable.diffContent = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<ul class="sv-difftable-header">', (opt_data.colspec.pagetitle) ? '<li class="col-pagetitle sv-difftable-cell" style="width: ' + soy.$$escapeHtml(opt_data.colspec.pagetitle.width) + '%;">' + soy.$$escapeHtml("Page") + '</li>' : '', (opt_data.colspec.status) ? '<li class="col-status sv-difftable-cell" style="width: ' + soy.$$escapeHtml(opt_data.colspec.status.width) + '%;">' + soy.$$escapeHtml("Status") + '</li>' : '', (opt_data.colspec.pagediff) ? '<li class="col-pagediff sv-difftable-cell" style="width: ' + soy.$$escapeHtml(opt_data.colspec.pagediff.width) + '%;">' + soy.$$escapeHtml("Page Version Details") + '</li>' : '', '</ul><ul class="sv-difftable-toplevel-nodes">');
  var nodeList78 = opt_data.topLevelNodes;
  var nodeListLen78 = nodeList78.length;
  if (nodeListLen78 > 0) {
    for (var nodeIndex78 = 0; nodeIndex78 < nodeListLen78; nodeIndex78++) {
      var nodeData78 = nodeList78[nodeIndex78];
      output.append('<li class="sv-difftable-row">');
      Scroll.Versions.Templates.DiffTable.diffEntry({entry: nodeData78.pageDiff, viewMode: opt_data.viewMode, node: nodeData78, isVisible: nodeData78.isExpanded, level: 0, colspec: opt_data.colspec, linkPages: opt_data.linkPages, noOfChildren: nodeData78.children.length}, output);
      if (nodeData78.children.length) {
        Scroll.Versions.Templates.DiffTable.diffNode({viewMode: opt_data.viewMode, node: nodeData78, isVisible: nodeData78.isExpanded, level: 1, colspec: opt_data.colspec, linkPages: opt_data.linkPages}, output);
      }
      output.append('</li>');
    }
  } else {
    output.append('<li class="sv-difftable-row empty" style="margin: 4em; text-align: center;">', soy.$$escapeHtml("Nothing to display here."), '</li>');
  }
  output.append('</ul>');
  return opt_sb ? '' : output.toString();
};


Scroll.Versions.Templates.DiffTable.diffNode = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  if (opt_data.node.children.length > 0) {
    output.append((opt_data.viewMode == 'tree') ? '<ul class="sv-difftable-children ' + ((opt_data.isVisible) ? 'sv-visible' : 'sv-hidden') + '">' : '');
    var childList117 = opt_data.node.children;
    var childListLen117 = childList117.length;
    for (var childIndex117 = 0; childIndex117 < childListLen117; childIndex117++) {
      var childData117 = childList117[childIndex117];
      output.append('<li class="sv-difftable-row">');
      Scroll.Versions.Templates.DiffTable.diffEntry({entry: childData117.pageDiff, viewMode: opt_data.viewMode, node: childData117, isVisible: childData117.isExpanded, level: opt_data.level, colspec: opt_data.colspec, linkPages: opt_data.linkPages, noOfChildren: childData117.children.length}, output);
      if (opt_data.node.children.length) {
        Scroll.Versions.Templates.DiffTable.diffNode({viewMode: opt_data.viewMode, node: childData117, isVisible: childData117.isExpanded, level: opt_data.level + 1, colspec: opt_data.colspec, linkPages: opt_data.linkPages}, output);
      }
      output.append('</li>');
    }
    output.append((opt_data.viewMode == 'tree') ? '</ul>' : '');
  }
  return opt_sb ? '' : output.toString();
};


Scroll.Versions.Templates.DiffTable.diffEntry = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<ul class="sv-difftable-entry ', (opt_data.node.isCurrent) ? 'current' : '', '">', (opt_data.colspec.pagetitle) ? '<li class="col-pagetitle page-title sv-difftable-cell" style="width: ' + soy.$$escapeHtml(opt_data.colspec.pagetitle.width) + '%;">' + ((opt_data.viewMode == 'tree') ? '<span class="level level-' + soy.$$escapeHtml(opt_data.level) + '">.</span><span class="plusminus ' + ((opt_data.node.hasChildren && opt_data.noOfChildren > 0) ? 'has-children ' + soy.$$escapeHtml(opt_data.noOfChildren) : '') + ' ' + ((opt_data.isVisible) ? 'open' : 'closed') + '" data-node-id="' + soy.$$escapeHtml(opt_data.node.pageDiff.originalPageId || opt_data.node.pageDiff.newPageId) + '">.</span>' : '') + '<span class="indicator type-' + soy.$$escapeHtml(opt_data.entry.type) + ' ' + ((opt_data.node.hasDescendantChanges) ? 'descendant-changes' : '') + '">.</span>' + ((opt_data.linkPages) ? '<span class="text"><a target="_blank" href="' + soy.$$escapeHtml(AJS.params.contextPath) + '/pages/viewpage.action?pageId=' + soy.$$escapeHtml(opt_data.node.pageDiff.originalPageId || opt_data.node.pageDiff.newPageId) + '">' + soy.$$escapeHtml(opt_data.entry.originalScrollPageTitle || opt_data.entry.newScrollPageTitle) + '</a></span>' : '<span class="text">' + soy.$$escapeHtml(opt_data.entry.originalScrollPageTitle || opt_data.entry.newScrollPageTitle) + '</span>') + '</li>' : '', (opt_data.colspec.status) ? '<li class="col-status sv-difftable-cell" style="width: ' + soy.$$escapeHtml(opt_data.colspec.status.width) + '%;"><span class="text">' + ((Scroll.Versions.Context.space.isWorkflowEnabled) ? ' ' + soy.$$escapeHtml(opt_data.node.state || "n/a") + ' ' : ' ' + soy.$$escapeHtml("n/a") + ' ') + '</span></li>' : '');
  if (opt_data.colspec.pagediff) {
    output.append('<li class="col-pagediff sv-difftable-cell" style="width: ', soy.$$escapeHtml(opt_data.colspec.pagediff.width), '%;">');
    Scroll.Versions.Templates.PageDiff.summary({pageDiff: opt_data.node.pageDiff}, output);
    output.append('</li>');
  }
  output.append('</ul>');
  return opt_sb ? '' : output.toString();
};

} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:spacediff-webresources', location = '/com/k15t/scroll/platform/ui/spacediff/spacediff.soy' */
// This file was automatically generated from spacediff.soy.
// Please don't edit this file by hand.

if (typeof Scroll == 'undefined') { var Scroll = {}; }
if (typeof Scroll.Versions == 'undefined') { Scroll.Versions = {}; }
if (typeof Scroll.Versions.Templates == 'undefined') { Scroll.Versions.Templates = {}; }
if (typeof Scroll.Versions.Templates.SpaceDiff == 'undefined') { Scroll.Versions.Templates.SpaceDiff = {}; }


Scroll.Versions.Templates.SpaceDiff.spaceDiffParams = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<ul class="toolbar-group"><li class="toolbar-item toolbar-dropdown sv-spacepicker ', (opt_data.enabled != true || opt_data.spaces.length <= 1) ? 'disabled' : '', '"><div class="aui-dd-parent dd-allocated"><a href="#" class="toolbar-trigger aui-dd-trigger" title="', (opt_data.selectedSpace && opt_data.selectedSpace.name) ? soy.$$escapeHtml(opt_data.selectedSpace.name) : '', '"><span class="icon icon-loading hidden"></span><span class="dropdown-text ellipsis">', (opt_data.enabled != true) ? soy.$$escapeHtml("Initializing..") : (opt_data.selectedSpace && opt_data.selectedSpace.name) ? soy.$$escapeHtml(opt_data.selectedSpace.name) : (opt_data.spaces.length <= 1) ? soy.$$escapeHtml("No Spaces found.") : soy.$$escapeHtml("Please select.."), '</span><span class="icon-dropdown"></span></a>');
  if (opt_data.enabled) {
    output.append('<div class="aui-dropdown grouped aui-dropdown-right aui-box-shadow hidden" style="top: 48px; "><ul class="dropdown-list">');
    var spaceList27 = opt_data.spaces;
    var spaceListLen27 = spaceList27.length;
    for (var spaceIndex27 = 0; spaceIndex27 < spaceListLen27; spaceIndex27++) {
      var spaceData27 = spaceList27[spaceIndex27];
      output.append((opt_data.currentSpace.key != spaceData27.key) ? '<li class="dropdown-item ' + ((opt_data.selectedSpace && opt_data.selectedSpace.key == spaceData27.key) ? 'selected' : '') + '"><a href="#" class="item-link ellipsis" data-space-name="' + soy.$$escapeHtml(spaceData27.name) + '" data-space-key="' + soy.$$escapeHtml(spaceData27.key) + '" title="' + soy.$$escapeHtml(AJS.format("Compare with space \x27\x27{0}\x27\x27",spaceData27.name)) + '">' + soy.$$escapeHtml(spaceData27.name) + '</a></li>' : '');
    }
    output.append('</ul></div>');
  }
  output.append('</div></li></ul>');
  return opt_sb ? '' : output.toString();
};

} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:spacediff-webresources', location = '/com/k15t/scroll/platform/ui/spacediff/spacediff.js' */
(function(c){var e=contextPath+"/rest/scroll-versions/1.0/spacediff/diff";var b=contextPath+"/rest/scroll-versions/1.0/spacediff/spaces";var f=function(){var o={};var n;var k=false;var m=[];var l;o.getOriginalVersionName=function(){return AJS.params.spaceName};o.getNewVersionName=function(){return(l&&l.name)?l.name:""};o.getAdditionalMessageClass=function(){return(l&&l.name)?"":"sv-spacediff-pointy-arrow"};o.getAdditionalMessage=function(){if(l&&l.name){return AJS.format("Displaying changes from space \'\'{0}\'\' to \'\'{1}\'\':",AJS.params.spaceName,l.name)}else{return AJS.format("Select a space to compare with space \'\'{0}\'\'.",AJS.params.spaceName)}};o.render=function(p){n=p;c(n).html(Scroll.Versions.Templates.SpaceDiff.spaceDiffParams({currentSpace:{key:AJS.params.spaceKey,name:AJS.params.spaceName},selectedSpace:l,spaces:m,enabled:k}));if(m.length>1){c(n).find(".sv-spacepicker").dropDown("Standard",{alignment:"left"})}c(n).find(".sv-spacepicker .aui-dropdown").css("width","16em");c(n).find(".sv-spacepicker").delegate(".item-link","click",function(){l={};l.key=c(this).attr("data-space-key");l.name=c(this).attr("data-space-name");o.loadDiff(l.key)});if(!k){c.getJSON(b,function(q){d.setSpaces(q.space)})}};o.setSpaces=function(p){k=true;m=p;o.render(n)};o.loadDiff=function(p){if(l){a.disable();c.ajax({url:e,data:{originalSpaceKey:AJS.params.spaceKey,newSpaceKey:p,currentPageId:AJS.params.pageId},timeout:0,success:function(q,r){a.enable();j.setEnableToolbar(true);j.updateTopLevelNodes(q.topLevelNodes);i.render()},error:function(q,s,r){a.enable();a.showUserMessage("error","Error",AJS.format("Unknown error loading space diff (Reason: {0})",r))}})}};return o};var a;var d;var j;var i;var h;var g=function(){if(!a){a=new Scroll.Versions.Dialog({height:640,width:1000,tabIdxStart:485370,id:"sv-spacediff-dialog",closeOnOutsideClick:false});d=new f();a.addHeader("Compare Spaces");a.addPanel("Space Diff","","sv-difftable-panel");j=new Scroll.Versions.DiffTable.Model([],[],{id:"spaceDiff",filters:[Scroll.Versions.DiffTable.FilterDefs.hideAdded,Scroll.Versions.DiffTable.FilterDefs.hideRemove,Scroll.Versions.DiffTable.FilterDefs.hideUnchanged]});i=new Scroll.Versions.DiffTable.View(j,a.getCurrentPanel().body,{toolbarExtView:d});h=new Scroll.Versions.DiffTable.Controller(a.getCurrentPanel().body,j,i);h.show();d.loadDiff();a.addClose()}a.show()};AJS.toInit(function(k){k("#sv-spacediff-navlink").live("click",function(l){l.preventDefault();g()})})})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:variant-webresources', location = '/com/k15t/scroll/platform/ui/variant/variant-picker-template.soy' */
// This file was automatically generated from variant-picker-template.soy.
// Please don't edit this file by hand.

if (typeof Scroll == 'undefined') { var Scroll = {}; }
if (typeof Scroll.Versions == 'undefined') { Scroll.Versions = {}; }
if (typeof Scroll.Versions.Templates == 'undefined') { Scroll.Versions.Templates = {}; }
if (typeof Scroll.Versions.Templates.Variants == 'undefined') { Scroll.Versions.Templates.Variants = {}; }
if (typeof Scroll.Versions.Templates.Variants.VariantPicker == 'undefined') { Scroll.Versions.Templates.Variants.VariantPicker = {}; }


Scroll.Versions.Templates.Variants.VariantPicker.dropDown = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<li class="sv-variant-picker sv-', soy.$$escapeHtml(opt_data.currentVariant.id), '">', (opt_data.currentVariant.id == 'all') ? ' ' + soy.$$escapeHtml("All Pages") + ' ' : ' ' + soy.$$escapeHtml(opt_data.currentVariant.name) + ' ', ' <span class="icon"></span><div class="sv-variant-picker-dropdown"><ul>', (opt_data.showAllPages) ? '<li><a href="' + soy.$$escapeHtml(contextPath) + soy.$$escapeHtml("/rest/scroll-versions/1.0") + '/variant/user?pageId=' + soy.$$escapeHtml(AJS.params.pageId) + '&variantId=all" class="sv-variant sv-variant-all ' + ((opt_data.currentVariant.id == 'all') ? ' current ' : '') + '">' + soy.$$escapeHtml("All Pages") + '</a></li>' : '');
  var variantList30 = opt_data.allVariants;
  var variantListLen30 = variantList30.length;
  for (var variantIndex30 = 0; variantIndex30 < variantListLen30; variantIndex30++) {
    var variantData30 = variantList30[variantIndex30];
    output.append('<li><a href="', soy.$$escapeHtml(contextPath), soy.$$escapeHtml("/rest/scroll-versions/1.0"), '/variant/user?pageId=', soy.$$escapeHtml(AJS.params.pageId), '&variantId=', soy.$$escapeHtml(variantData30.id), '" class="sv-variant ', (opt_data.currentVariant.id == variantData30.id) ? ' current ' : '', '">', soy.$$escapeHtml(variantData30.name), '</a></li>');
  }
  output.append('</ul></div></li>');
  return opt_sb ? '' : output.toString();
};

} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:variant-webresources', location = '/com/k15t/scroll/platform/ui/variant/variant-picker.js' */
(function(c){var b=Scroll.Versions._;var a=function(){var e=c("body.sv-conf4").length?-3:0;c(".sv-variant-picker-dropdown").css({top:c(this).offset().top+18+e,left:c(this).offset().left}).show()};var d=function(){c(".sv-variant-picker-dropdown").hide()};AJS.toInit(function(){if(!Scroll.Versions.Context.space.isVariantManagementEnabled||Scroll.Versions.Context.space.allVariants.length==0){return}var f=Scroll.Versions.Context.space.allVariants;var e=Scroll.Versions.Context.user.currentVariant;c(".page-metadata-modification-info").before(Scroll.Versions.Templates.Variants.VariantPicker.dropDown({showAllPages:Scroll.Versions.Context.user.permissions.Contribute,currentVariant:e,allVariants:f}));c(".sv-variant-picker").click(a).mouseleave(d);c(".sv-variant-picker a.sv-variant").click(function(){var g=c(this).is(".sv-variant-all");var h=Scroll.Versions.Context.modules.VariantManagement.hasValidLicense;if(!(h||g)){Scroll.Versions.Dialog.alert({title:"Invalid License",message:Scroll.Versions.Context.modules.VariantManagement.licenseValidationMessageAsHtml},true);return false}})})})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:versiondiff-webresources', location = '/com/k15t/scroll/platform/ui/versiondiff/versiondiff.soy' */
// This file was automatically generated from versiondiff.soy.
// Please don't edit this file by hand.

if (typeof Scroll == 'undefined') { var Scroll = {}; }
if (typeof Scroll.Versions == 'undefined') { Scroll.Versions = {}; }
if (typeof Scroll.Versions.Templates == 'undefined') { Scroll.Versions.Templates = {}; }
if (typeof Scroll.Versions.Templates.VersionDiff == 'undefined') { Scroll.Versions.Templates.VersionDiff = {}; }


Scroll.Versions.Templates.VersionDiff.versionDiffParams = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<ul class="toolbar-group"><li class="toolbar-item toolbar-dropdown sv-versionpicker ', (opt_data.enabled != true) ? 'disabled' : '', '"><div class="aui-dd-parent dd-allocated"><a href="#" class="toolbar-trigger aui-dd-trigger" title="', (opt_data.originalVersion && opt_data.originalVersion.name) ? soy.$$escapeHtml(opt_data.originalVersion.name) : '', '"><span class="icon icon-loading hidden"></span><span class="dropdown-text ellipsis">', (opt_data.enabled != true) ? soy.$$escapeHtml("Initializing..") : (opt_data.originalVersion && opt_data.originalVersion.name) ? soy.$$escapeHtml(opt_data.originalVersion.name) : soy.$$escapeHtml("Please select.."), '</span><span class="icon-dropdown"></span></a>');
  if (opt_data.enabled) {
    output.append('<div class="aui-dropdown grouped aui-dropdown-right aui-box-shadow hidden" style="top: 48px; "><ul class="dropdown-list"><li class="dropdown-item ', (opt_data.originalVersion && opt_data.originalVersion.versionId == 'current') ? 'selected' : '', '"><a href="#" class="item-link original-version ellipsis" data-version-id="current" title="', soy.$$escapeHtml("Currently Published"), '">', soy.$$escapeHtml("Currently Published"), '</a></li>');
    var versionList33 = opt_data.versions;
    var versionListLen33 = versionList33.length;
    for (var versionIndex33 = 0; versionIndex33 < versionListLen33; versionIndex33++) {
      var versionData33 = versionList33[versionIndex33];
      output.append((! opt_data.originalVersion || opt_data.originalVersion.versionId != versionData33.versionId) ? '<li class="dropdown-item ' + ((opt_data.originalVersion && opt_data.originalVersion.key == versionData33.versionId) ? 'selected' : '') + '"><a href="#" class="item-link original-version ellipsis" data-version-id="' + soy.$$escapeHtml(versionData33.versionId) + '" title="' + soy.$$escapeHtml(versionData33.name) + '">' + soy.$$escapeHtml(versionData33.name) + '</a></li>' : '');
    }
    output.append('</ul></div>');
  }
  output.append('</div></li><li class="toolbar-item toolbar-dropdown sv-versionpicker ', (opt_data.enabled != true) ? 'disabled' : '', '"><div class="aui-dd-parent dd-allocated"><a href="#" class="toolbar-trigger aui-dd-trigger" title="', (opt_data.newVersion && opt_data.newVersion.name) ? soy.$$escapeHtml(opt_data.newVersion.name) : '', '"><span class="icon icon-loading hidden"></span><span class="dropdown-text ellipsis">', (opt_data.enabled != true) ? soy.$$escapeHtml("Initializing..") : (opt_data.newVersion && opt_data.newVersion.name) ? soy.$$escapeHtml(opt_data.newVersion.name) : soy.$$escapeHtml("Please select.."), '</span><span class="icon-dropdown"></span></a>');
  if (opt_data.enabled) {
    output.append('<div class="aui-dropdown grouped aui-dropdown-right aui-box-shadow hidden" style="top: 48px; "><ul class="dropdown-list"><li class="dropdown-item ', (opt_data.newVersion && opt_data.newVersion.versionId == 'current') ? 'selected' : '', '"><a href="#" class="item-link new-version" data-version-id="current" title="', soy.$$escapeHtml("Currently Published"), '">', soy.$$escapeHtml("Currently Published"), '</a></li>');
    var versionList79 = opt_data.versions;
    var versionListLen79 = versionList79.length;
    for (var versionIndex79 = 0; versionIndex79 < versionListLen79; versionIndex79++) {
      var versionData79 = versionList79[versionIndex79];
      output.append('<li class="dropdown-item ', (opt_data.newVersion && opt_data.newVersion.versionId == versionData79.versionId) ? 'selected' : '', '"><a href="#" class="item-link new-version ellipsis" data-version-id="', soy.$$escapeHtml(versionData79.versionId), '" title="', soy.$$escapeHtml(versionData79.name), '">', soy.$$escapeHtml(versionData79.name), '</a></li>');
    }
    output.append('</ul></div>');
  }
  output.append('</div></li></ul>');
  return opt_sb ? '' : output.toString();
};

} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


try {
/* module-key = 'com.k15t.scroll.scroll-platform:versiondiff-webresources', location = '/com/k15t/scroll/platform/ui/versiondiff/versiondiff.js' */
(function(b){var a=window.contextPath;var e=a+"/rest/scroll-versions/1.0/versiondiff";var g=function(n,o){var m={};var l;var p=n;var k=o;m.getOriginalVersionName=function(){return(p&&p.name)?p.name:""};m.getNewVersionName=function(){return(k&&k.name)?k.name:""};m.getAdditionalMessageClass=function(){return !(p&&k)?"sv-versiondiff-pointy-arrow":""};m.getAdditionalMessage=function(){if(p&&k){return AJS.format("Displaying changes between version \'\'{0}\'\' to version \'\'{1}\'\':",p.name,k.name)}else{return "Select versions to compare."}};m.render=function(q){l=q;b(l).html(Scroll.Versions.Templates.VersionDiff.versionDiffParams({originalVersion:p,newVersion:k,versions:Scroll.Versions.Context.versions,enabled:true}));b(l).find(".sv-versionpicker").dropDown("Standard",{alignment:"left"});b(l).find(".sv-versionpicker .aui-dropdown").css("width","10em");b(l).find(".sv-versionpicker").delegate(".item-link","click",function(){var s=b(this).attr("data-version-id");var r=Scroll.Versions.Context.getVersion(s,true);if(b(this).is(".original-version")){p=r}else{if(b(this).is(".new-version")){k=r}else{throw new Error("Unknown version picker.")}}if(p&&k){m.loadDiff()}m.render(l)})};m.loadDiff=function(){if(p&&k){i.disable();b.ajax({url:e,data:{spaceKey:AJS.params.spaceKey,originalVersionId:p.versionId,newVersionId:k.versionId,currentPageId:AJS.params.pageId},timeout:0,success:function(q,r){i.enable();j.setEnableToolbar(true);j.updateTopLevelNodes(q.topLevelNodes);h.render()},error:function(q,s,r){i.enable();i.showUserMessage("error","Error",AJS.format("Unknown error loading version diff (Reason: {0})",r))}})}};return m};var i;var c;var j;var h;var f;var d=function(){if(!i){i=new Scroll.Versions.Dialog({height:640,width:1000,tabIdxStart:485370,id:"sv-versiondiff-dialog",closeOnOutsideClick:false});c=new g(Scroll.Versions.Context.getVersion("current"),Scroll.Versions.Context.workingVersion);i.addHeader("Compare Versions");i.addPanel("Version Diff","","sv-difftable-panel");j=new Scroll.Versions.DiffTable.Model([],[],{id:"versionDiff",filters:[Scroll.Versions.DiffTable.FilterDefs.hideAdded,Scroll.Versions.DiffTable.FilterDefs.hideRemove,Scroll.Versions.DiffTable.FilterDefs.hideUnchanged]});h=new Scroll.Versions.DiffTable.View(j,i.getCurrentPanel().body,{toolbarExtView:c});f=new Scroll.Versions.DiffTable.Controller(i.getCurrentPanel().body,j,h);f.show();c.loadDiff();i.addClose()}i.show()};AJS.toInit(function(k){k("#sv-versiondiff-navlink").live("click",function(l){l.preventDefault();d()})})})(AJS.$);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}


